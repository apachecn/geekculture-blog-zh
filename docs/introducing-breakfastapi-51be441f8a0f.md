# ç®€ä»‹:æ—©é¤ ApiğŸ•

> åŸæ–‡ï¼š<https://medium.com/geekculture/introducing-breakfastapi-51be441f8a0f?source=collection_archive---------19----------------------->

web ä¸Šæœ€ç¾å‘³çš„å¼€æº APIã€‚

![](img/f3fddbdb28e771aa4c28d523c9be3133.png)

Image by the author.

æ—©é¤ Api ç«‹å¿—æˆä¸º web ä¸Šæœ€ç¾å‘³çš„å¼€æº APIã€‚åªéœ€å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œä½ å°±ä¼šæ”¶åˆ°æœ€ä»¤äººå‚æ¶çš„èœè‚´é…æ–¹ï¼ŒåŒ…æ‹¬é¢„è®¡çƒ¹é¥ªæ—¶é—´ã€æ‰€æœ‰å¿…è¦çš„é…æ–™å’Œè¯´æ˜ã€‚

# **åŠ¨æœº**

åˆ›å»º BreakFastApi æ˜¯ä¸ºäº†è§£å†³æ¯ä¸ªäººåœ¨ç”Ÿæ´»ä¸­çš„æŸä¸ªæ—¶åˆ»éƒ½é¢ä¸´çš„ä¸€ä¸ªæŒ‘æˆ˜æ€§é—®é¢˜ã€‚**æ™šé¥­åšä»€ä¹ˆï¼Ÿ**æˆ‘å–œæ¬¢çƒ¹é¥ªï¼Œä½†è¿™ä¸ªé—®é¢˜åœ¨ç–«æƒ…å˜å¾—æ›´åŠ æ™®éï¼Œäººä»¬è¢«è¿«å‘†åœ¨å®¶é‡Œï¼Œæƒ³å‡ºæ–°çš„ä»¤äººå…´å¥‹çš„é¥­èœæ¥åšã€‚

## é—®é¢˜:

äººç±»åªèƒ½è®°ä½æœ‰é™æ•°é‡çš„é£Ÿç‰©é£Ÿè°±ã€‚ç„¶è€Œï¼Œæ¯ä¸ªäººéƒ½å°†å—ç›Šäºæ›´åŠ å¤šæ ·åŒ–å’Œä¸°å¯Œçš„é¥®é£Ÿã€‚

## è§£å†³æ–¹æ¡ˆ:

æ—©é¤ Api é€šè¿‡è®°å¿†è¶…è¿‡ 12.000 ä¸ªé£Ÿè°±å¹¶ä½¿å®ƒä»¬éšæ„å¯ç”¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ç¾å‘³çš„é¥­èœç°åœ¨ç¦»ä½ åªæœ‰ä¸€æ­¥ä¹‹é¥ã€‚

# å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ

api æœ‰ä¸€ä¸ªè¶…è¿‡ 12000 ç§é£Ÿè°±çš„æ•°æ®åº“ï¼ŒåŒ…æ‹¬ä¼°è®¡çš„çƒ¹é¥ªæ—¶é—´ã€é…æ–™å’Œè¯´æ˜ã€‚api ä¸€æ”¶åˆ°è¯·æ±‚ï¼Œå°±ä¼šä»æ•°æ®åº“ä¸­æŸ¥è¯¢ä¸€ä¸ªéšæœºæ¡ç›®ï¼Œå¹¶ä»¥ JSON æ ¼å¼è¿”å›é£Ÿè°±ã€‚

é¡¾åæ€ä¹‰ï¼Œå®ƒæ˜¯ä½¿ç”¨ FastAPI æ„å»ºçš„ï¼Œæ‚¨å¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹æºä»£ç :

[](https://github.com/MariiaSizova/breakfastapi) [## GitHubâ€”MariiaSizova/breakfast api:web ä¸Šæœ€ç¾å‘³çš„ APIã€‚ğŸ£ ğŸ” ğŸ•

### ç½‘ç»œä¸Šæœ€ç¾å‘³çš„ APIã€‚åªéœ€å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œä½ å°±ä¼šæ”¶åˆ°æœ€ä»¤äººå‚æ¶æ¬²æ»´çš„èœè‚´é…æ–¹â€¦

github.com](https://github.com/MariiaSizova/breakfastapi) 

å®ƒåœ¨ [**Deta**](https://www.deta.sh/) ä¸¾åŠã€‚ä¸å¤ªçŸ¥åï¼Œä½†å¯¹ Python å’ŒèŠ‚ç‚¹å¼€å‘è€…æ¥è¯´æ˜¯ä¸€ä¸ªéå¸¸æ£’çš„å…è´¹æ‰˜ç®¡å¹³å°ã€‚ç»å¯¹å€¼å¾—ä¸€æ¢ç©¶ç«Ÿï¼

# æœ‰ä»€ä¹ˆå¥½å°çš„èœè°±ï¼Ÿ

## [æ—©é¤ API.fun](https://breakfastapi.fun/)

# æœºå™¨äººå‘¢ï¼Ÿ

å¦‚æœä½ æ˜¯è®¡ç®—å‹çš„ï¼Œä½ å¯ä»¥é€šè¿‡åŸºæœ¬çš„ python ä»£ç ä¸ API æ¥å£ï¼Œå¹¶åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­å®ç°è¿™äº›æ–¹æ³•ã€‚

**æ ·å“ç”³è¯·:**

```
import requests
r = requests.get(url='https://breakfastapi.fun/')
data = r.json()
print(data)
```

**æ ·æœ¬å“åº”:**

```
{
    'ID':11574,
    'Recipe Name': 'Devils Steak Sauce Recipe',
    'Cook Time (minutes)': 15,
    'Ingredients': ['brown sugar',
                    'tomato sauce',
                    'raspberry',
                    'worcestershire sauce',
                    'hot pepper',
                    'black pepper',
                    'vinegar'
                    ],
    'Directions': 'In a saucepan over high heat, 
                   blend raspberry jam, brown sugar, 
                   Worcestershire sauce, tomato sauce, 
                   malt vinegar, hot pepper sauce, salt, 
                   and pepper. Bring to a boil over high heat, 
                   reduce heat to low, and simmer 10 minutes,
                   or until thickened.'
}
```

## **ä»£ç åˆ†è§£**

**main.py:** è¿™é‡Œæˆ‘ä»¬åˆå§‹åŒ–ä¸» FastAPI å’Œæ•°æ®åº“å¯¹è±¡ï¼Œå¹¶æ³¨å†Œç´¢å¼•è·¯å¾„ã€‚ç´¢å¼•è·¯ç”±è°ƒç”¨ jsonify_data()æ–¹æ³•ï¼Œå°†æ•°æ®åº“æ¡ç›®è½¬æ¢ä¸º JSON æ ¼å¼ã€‚

```
import uvicorn
from fastapi import FastAPI
from db.database import Database
from helpers.data_formating import jsonify_data app = FastAPI()
db = Database() @app.get("/", status_code=200)
def get_recipes() -> list:
    return jsonify_data(db)if __name__ == "__main__":
    uvicorn.run(app, host="127.0.0.1", port=8000)
```

**database.py:** å®šä¹‰äº†ä¸»è¦çš„ sqlite3 æ•°æ®åº“ç±»ã€‚å®ƒæœ‰ä¸€ä¸ªé¢å¤–çš„æ–¹æ³• get_dataï¼Œè¯¥æ–¹æ³•ä»æ•°æ®é›†ä¸­è¿”å›ä¸€ä¸ªéšæœºè¡Œã€‚ç„¶åï¼Œè¿™ä¸ªéšæœºè¡Œé€šè¿‡ jsonify_data()å‡½æ•°ä¼ é€’ï¼Œå¹¶åœ¨ç«¯ç‚¹æ”¶åˆ° GET è¯·æ±‚æ—¶è¿”å›ç»™ç”¨æˆ·ã€‚

```
import sqlite3 class Database:
    def __init__(self):
        self.connection = sqlite3.connect("db/recipes.db",   check_same_thread=False)
       self.cursor = self.connection.cursor() def get_data(self):
        self.cursor.execute("SELECT * FROM items ORDER BY RANDOM() LIMIT 1")
    return self.cursor.fetchone()
```

## æ•°æ®æº

API ä½¿ç”¨äº†ä¿®æ”¹å’Œæ‰©å……çš„ç‰ˆæœ¬ï¼Œä½ å¯ä»¥åœ¨ Kaggle ä¸Šæ‰¾åˆ°è¿™ä¸ªä¼˜ç§€çš„æ•°æ®é›†ã€‚

[](https://www.kaggle.com/shuyangli94/food-com-recipes-and-user-interactions?select=RAW_recipes.csv) [## Food.com é£Ÿè°±å’Œäº’åŠ¨

### ä» Food.com(GeniusKitchen)åœ¨çº¿é£Ÿè°±èšåˆå™¨æŠ“å–æ•°æ®

www.kaggle.com](https://www.kaggle.com/shuyangli94/food-com-recipes-and-user-interactions?select=RAW_recipes.csv) 

æ„Ÿè°¢æ‚¨çš„é˜…è¯»ï¼å¸Œæœ›è¿™ä¸ª API å¯¹ä½ â¤ï¸æœ‰æ‰€å¸®åŠ©