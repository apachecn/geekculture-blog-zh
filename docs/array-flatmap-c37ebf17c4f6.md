# æ•°ç»„å¹³é¢å›¾

> åŸæ–‡ï¼š<https://medium.com/geekculture/array-flatmap-c37ebf17c4f6?source=collection_archive---------20----------------------->

![](img/b38307bc13201958d72b9a3a80f8ebc1.png)

array flatmap

å¹³é¢æ˜ å°„æ˜¯ä¸€ç§å¯ç”¨äºå¹³é¢å’Œæ˜ å°„æ–¹æ³•çš„å•ä¸€æ–¹æ³•ã€‚

å¦‚ä½ æ‰€çŸ¥`flat()`ï¼Œæ‹‰å¹³ 1 çº§æ·±åº¦å’Œ`map()`å¾ªç¯æˆä¸€ä¸ªæ•°ç»„ã€‚

å¦‚æœæˆ‘ä»¬æŠŠä¸¤è€…éƒ½åŒ…æ‹¬åœ¨å†…ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º`flatMap()`ğŸ˜‰

æ‰€ä»¥ï¼Œå¦‚æœè°ƒç”¨ä¸¤ä¸ªæ–¹æ³•`flat()`å’Œ`map()`ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªåä¸º`flatMap()`çš„æ–¹æ³•ã€‚

```
let plants = ['ğŸ’', 'ğŸŒ²', 'ğŸŒ»', 'ğŸŒ¹'];// âŒ map + flat
plants.map(plant => [plant, 'ğŸ']).flat();
// Output
//["ğŸ’", "ğŸ", "ğŸŒ²", "ğŸ", "ğŸŒ»", "ğŸ", "ğŸŒ¹", "ğŸ"]// âœ… flatMap
plants.flatMap(plant => [plant, "ğŸ"])// Output
// ["ğŸ’", "ğŸ", "ğŸŒ²", "ğŸ", "ğŸŒ»", "ğŸ", "ğŸŒ¹", "ğŸ"]
```

# flatMap()å¦‚ä½•å·¥ä½œï¼Ÿ

ğŸ“FlatMap()æ€»æ˜¯å…ˆåš Map()ï¼Œç„¶åå†åš flat()ã€‚

åœ¨`flat()`ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å‚æ•°æ¥è®¾ç½®æ·±åº¦ï¼Œå‚æ•°å®šä¹‰åµŒå¥—æ•°ç»„åº”è¯¥å±•å¹³çš„æ·±åº¦ã€‚

```
let plants = [[["ğŸŒ»", "ğŸŒ¹"]]];
plants.flat(2);// ["ğŸŒ»", "ğŸŒ¹"]
```

## `flatMap()`åªåš 1 çº§æ·±åº¦å±•å¹³ã€‚

```
let plants = [[["ğŸŒ»", "ğŸŒ¹"]]];
plants.flatMap(plant => [plant]);// [["ğŸŒ»", "ğŸŒ¹"]]
```

# ä½¿ç”¨å¹³é¢å›¾è¿‡æ»¤ğŸ˜‰

æ˜¯çš„ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨è¿™é‡Œä½¿ç”¨`flatMap()`è¿›è¡Œè¿‡æ»¤ã€‚

```
let arr = [5, 4, -3, 20, -4, 18]
arr.flatMap(i => {
  return i < 0 ? [] : [i];
})// [5, 4, 20, 18]
```

# å‚è€ƒğŸ§

*   [å¹³å°åœ°å›¾çš„ MDN æ–‡æ¡£](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flatMap)

# æ€»ç»“#

å¦‚æœä½ æƒ³åŒæ—¶ä½¿ç”¨ map å’Œ flat æ–¹æ³•ï¼Œmethod æ€»æ˜¯æœ‰ç”¨çš„ã€‚

æ„Ÿè°¢æ‚¨é˜…è¯»â¤ï¸è¿™ç¯‡æ–‡ç« 

ğŸŒŸ[æ¨ç‰¹](https://twitter.com/suprabhasupi)ğŸ‘©ğŸ»â€ğŸ’»suprabha.me ğŸŒŸ [Instagram](https://www.instagram.com/suprabhasupi/)