<html>
<head>
<title>Scrape Google Finance Ticker Quote Data in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ç”¨PythonæŠ“å–Googleé‡‘èè‚¡ç¥¨æŠ¥ä»·æ•°æ®</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/geekculture/scrape-google-finance-ticker-quote-data-in-python-decddf20130d?source=collection_archive---------9-----------------------#2022-04-12">https://medium.com/geekculture/scrape-google-finance-ticker-quote-data-in-python-decddf20130d?source=collection_archive---------9-----------------------#2022-04-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/189a3166c36b83aa9c8652f3d582c9fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lL63WyT-HQAfXCUvik63Mw.jpeg"/></div></div></figure><div class=""/><ul class=""><li id="60b9" class="iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh bi translated"><a class="ae ji" href="#edc4" rel="noopener ugc nofollow">ä¼šåˆ®ä»€ä¹ˆ</a></li><li id="3b4d" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated"><a class="ae ji" href="#bf60" rel="noopener ugc nofollow">å…ˆå†³æ¡ä»¶</a></li><li id="bf4a" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated"><a class="ae ji" href="#775f" rel="noopener ugc nofollow">æŠ“å–è°·æ­Œè´¢ç»è‚¡ç¥¨æŠ¥ä»·æ•°æ®</a></li><li id="7d08" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated"><a class="ae ji" href="#d39b" rel="noopener ugc nofollow">æå–è·‘é©¬ç¯æ•°æ®çš„è¯´æ˜</a></li><li id="b56d" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated"><a class="ae ji" href="#85f0" rel="noopener ugc nofollow">æ”¶é›†å¤šä¸ªè°·æ­Œé‡‘èæŠ¥ä»·</a></li><li id="6314" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated"><a class="ae ji" href="#fa37" rel="noopener ugc nofollow">æå–è°·æ­Œè´¢ç»å›¾è¡¨æ—¶åºæ•°æ®</a></li><li id="2c94" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated"><a class="ae ji" href="#d172" rel="noopener ugc nofollow">æŠ“å–è°·æ­Œè´¢ç»æ—¶åºæ•°æ®</a></li><li id="9119" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated"><a class="ae ji" href="#30f9" rel="noopener ugc nofollow">æ—¶åºæå–ä»£ç è¯´æ˜</a></li><li id="571c" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated"><a class="ae ji" href="#4891" rel="noopener ugc nofollow">çº³æ–¯è¾¾å…‹åˆ©ç‡é™åˆ¶</a></li><li id="2223" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated"><a class="ae ji" href="#c1bc" rel="noopener ugc nofollow">å…¶ä»–çº³æ–¯è¾¾å…‹APIèµ„æº</a></li><li id="9934" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated"><a class="ae ji" href="#94ce" rel="noopener ugc nofollow">é“¾æ¥</a></li><li id="792e" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated"><a class="ae ji" href="#30d0" rel="noopener ugc nofollow"> Outro </a></li></ul><h1 id="edc4" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">ä¼šåˆ®ä»€ä¹ˆ</h1><figure class="kn ko kp kq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es km"><img src="../Images/00b33df873941ae7b51ccfa273a0c24a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*cwymPuIXh6MuEyIi.png"/></div></div></figure><h1 id="bf60" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">å…ˆå†³æ¡ä»¶</h1><p id="06dd" class="pw-post-body-paragraph kr ks ht is b it kt ku kv iv kw kx ky ix kz la lb iz lc ld le jb lf lg lh jd hb bi translated"><strong class="is hu">CSSé€‰æ‹©å™¨åŸºç¡€çŸ¥è¯†æŠ“å–</strong></p><p id="2bad" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated">CSSé€‰æ‹©å™¨å£°æ˜æ ·å¼åº”ç”¨äºæ ‡è®°çš„å“ªä¸€éƒ¨åˆ†ï¼Œä»è€Œå…è®¸ä»åŒ¹é…çš„æ ‡ç­¾å’Œå±æ€§ä¸­æå–æ•°æ®ã€‚</p><p id="5a77" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated">å¦‚æœä½ è¿˜æ²¡æœ‰ä½¿ç”¨CSSé€‰æ‹©å™¨ï¼Œæˆ‘æœ‰ä¸€ç¯‡ä¸“é—¨çš„åšå®¢æ–‡ç« <br/>å…³äº<a class="ae ji" href="https://serpapi.com/blog/web-scraping-with-css-selectors-using-python/" rel="noopener ugc nofollow" target="_blank">å¦‚ä½•åœ¨æŠ“å–ç½‘é¡µæ—¶ä½¿ç”¨CSSé€‰æ‹©å™¨</a>ï¼Œå®ƒæ¶µç›–äº†ä»€ä¹ˆæ˜¯CSSé€‰æ‹©å™¨ï¼Œåˆ©å¼Šï¼Œä»¥åŠä¸ºä»€ä¹ˆä»æŠ“å–ç½‘é¡µçš„è§’åº¦æ¥çœ‹å®ƒä»¬å¾ˆé‡è¦ã€‚</p><p id="d59d" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated"><strong class="is hu">ç‹¬ç«‹çš„è™šæ‹Ÿç¯å¢ƒ</strong></p><p id="25d3" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated">ç®€è€Œè¨€ä¹‹ï¼Œå®ƒåˆ›å»ºäº†ä¸€ç»„ç‹¬ç«‹çš„å·²å®‰è£…åº“ï¼ŒåŒ…æ‹¬ä¸åŒçš„Pythonç‰ˆæœ¬ï¼Œè¿™äº›ç‰ˆæœ¬å¯ä»¥åœ¨åŒä¸€ç³»ç»Ÿä¸­å…±å­˜ï¼Œä»è€Œé˜²æ­¢åº“æˆ–Pythonç‰ˆæœ¬å†²çªã€‚</p><p id="a27c" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated">å¦‚æœä½ ä»¥å‰æ²¡æœ‰ä½¿ç”¨è¿‡è™šæ‹Ÿç¯å¢ƒï¼Œçœ‹çœ‹æˆ‘çš„åšå®¢æ–‡ç« <br/>ä¸­ä¸“é—¨çš„<a class="ae ji" href="https://serpapi.com/blog/python-virtual-environments-using-virtualenv-and-poetry/" rel="noopener ugc nofollow" target="_blank"> Pythonè™šæ‹Ÿç¯å¢ƒæ•™ç¨‹ä½¿ç”¨Virtualenvå’Œpoems</a>æ¥ç†Ÿæ‚‰ä¸€ä¸‹ã€‚</p><p id="95c4" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated">ğŸ“Œæ³¨æ„:è¿™ä¸æ˜¯è¿™ç¯‡åšæ–‡çš„ä¸¥æ ¼è¦æ±‚ã€‚</p><p id="c05e" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated"><strong class="is hu">å®‰è£…åº“</strong>:</p><pre class="kn ko kp kq fd ll lm ln lo aw lp bi"><span id="ac42" class="lq jp ht lm b fi lr ls l lt lu">pip install requests parsel</span></pre><p id="c3f0" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated"><strong class="is hu">é™ä½è¢«å±è”½çš„å‡ ç‡</strong></p><p id="5bbf" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated">è¯·æ±‚æœ‰å¯èƒ½è¢«é˜»æ­¢ã€‚çœ‹çœ‹<a class="ae ji" href="https://serpapi.com/blog/how-to-reduce-chance-of-being-blocked-while-web/" rel="noopener ugc nofollow" target="_blank">ä¸­çš„<br/>å¦‚ä½•é™ä½æŠ“å–ç½‘é¡µæ—¶è¢«å±è”½çš„å‡ ç‡</a>ï¼Œæœ‰11ç§æ–¹æ³•å¯ä»¥ç»•è¿‡å¤§å¤šæ•°ç½‘ç«™çš„å±è”½ã€‚</p><h1 id="775f" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">æŠ“å–è°·æ­Œé‡‘èè‚¡ç¥¨æŠ¥ä»·æ•°æ®</h1><figure class="kn ko kp kq fd hk"><div class="bz dy l di"><div class="lv lw l"/></div></figure><h1 id="d39b" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">å…³äºæå–è·‘é©¬ç¯æ•°æ®çš„è¯´æ˜</h1><p id="5b1a" class="pw-post-body-paragraph kr ks ht is b it kt ku kv iv kw kx ky ix kz la lb iz lc ld le jb lf lg lh jd hb bi translated">å¯¼å…¥åº“:</p><pre class="kn ko kp kq fd ll lm ln lo aw lp bi"><span id="17a4" class="lq jp ht lm b fi lr ls l lt lu">import requests, json, re<br/>from parsel import Selector<br/>from itertools import zip_longest</span></pre><ul class=""><li id="38f9" class="iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh bi translated">è¯·æ±‚å‘ç½‘ç«™å‘å‡ºè¯·æ±‚ã€‚</li><li id="ab67" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated">å°†æå–çš„æ•°æ®è½¬æ¢æˆjsonå¯¹è±¡ã€‚</li><li id="a3f3" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated">reé€šè¿‡æ­£åˆ™è¡¨è¾¾å¼æå–éƒ¨åˆ†æ•°æ®ã€‚</li><li id="a8c3" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated">è§£æHTML/XMLæ–‡æ¡£ä¸­çš„æ•°æ®ã€‚ç±»ä¼¼äºBeautifulSoupã€‚</li><li id="9377" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated">zip_longestå¹¶è¡Œè¿­ä»£å¤šä¸ªiterablesã€‚æ›´å¤šä¿¡æ¯è¯·è§ä¸‹æ–‡ã€‚</li></ul><p id="dfaa" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated">å®šä¹‰ä¸€ä¸ªå‡½æ•°:</p><pre class="kn ko kp kq fd ll lm ln lo aw lp bi"><span id="8624" class="lq jp ht lm b fi lr ls l lt lu">def scrape_google_finance(ticker: str): # ticker should be a string<br/>    # further code...</span><span id="e7e7" class="lq jp ht lm b fi lx ls l lt lu">scrape_google_finance(ticker="GOOGL:NASDAQ")</span></pre><p id="9c07" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated">åˆ›å»ºè¯·æ±‚å¤´å’ŒURLå‚æ•°:</p><pre class="kn ko kp kq fd ll lm ln lo aw lp bi"><span id="e63d" class="lq jp ht lm b fi lr ls l lt lu"># https://docs.python-requests.org/en/master/user/quickstart/#passing-parameters-in-urls<br/>params = {<br/>    "hl": "en" # language<br/>}</span><span id="7da3" class="lq jp ht lm b fi lx ls l lt lu"># https://docs.python-requests.org/en/master/user/quickstart/#custom-headers<br/># https://www.whatismybrowser.com/detect/what-is-my-user-agent<br/>headers = {<br/>    "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.60 Safari/537.36",<br/>}</span></pre><ul class=""><li id="9828" class="iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh bi translated"><a class="ae ji" href="https://docs.python-requests.org/en/master/user/quickstart/#passing-parameters-in-urls" rel="noopener ugc nofollow" target="_blank"> params </a>å‘è¯·æ±‚ä¼ é€’URLå‚æ•°çš„ä¸€ç§æ›´æ¼‚äº®çš„æ–¹å¼ã€‚</li><li id="8d7f" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated"><a class="ae ji" href="https://developer.mozilla.org/en-US/docs/Glossary/User_agent" rel="noopener ugc nofollow" target="_blank">ç”¨æˆ·ä»£ç†</a>å°†æ¥è‡ªæµè§ˆå™¨çš„â€œçœŸå®â€ç”¨æˆ·è¯·æ±‚ä¼ é€’ç»™<a class="ae ji" href="https://docs.python-requests.org/en/master/user/quickstart/#custom-headers" rel="noopener ugc nofollow" target="_blank">è¯·æ±‚å¤´</a>ã€‚<a class="ae ji" href="https://www.whatismybrowser.com/detect/what-is-my-user-agent" rel="noopener ugc nofollow" target="_blank">æ£€æŸ¥ä½ çš„ç”¨æˆ·ä»£ç†</a>ã€‚</li></ul><p id="686a" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated">ä¼ é€’è¯·æ±‚å‚æ•°å’Œè¯·æ±‚å¤´ï¼Œå‘å‡ºè¯·æ±‚å¹¶å°†å“åº”ä¼ é€’ç»™<code class="du ly lz ma lm b">parsel</code>:</p><pre class="kn ko kp kq fd ll lm ln lo aw lp bi"><span id="7aea" class="lq jp ht lm b fi lr ls l lt lu">html = requests.get(f"https://www.google.com/finance/quote/{ticker}", params=params, headers=headers, timeout=30)<br/>selector = Selector(text=html.text)</span></pre><ul class=""><li id="8a5a" class="iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh bi translated">f " https://www . Google . com/finance/quote/{ticker} "æ˜¯ä¸€ä¸ª<a class="ae ji" href="https://docs.python.org/3/tutorial/inputoutput.html#fancier-output-formatting" rel="noopener ugc nofollow" target="_blank"> få­—ç¬¦ä¸²</a>ï¼Œå…¶ä¸­{ ticker }å°†è¢«æ›¿æ¢ä¸ºå®é™…çš„è‚¡ç¥¨ä»£ç å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚" GOOGL:NASDAQ "ã€‚</li><li id="e303" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated"><a class="ae ji" href="https://docs.python-requests.org/en/master/user/quickstart/#timeouts" rel="noopener ugc nofollow" target="_blank">time out = 30</a>30ç§’ååœæ­¢ç­‰å¾…å“åº”ã€‚</li><li id="2a70" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated">é€‰æ‹©å™¨(text = html . text ), parselå°†åœ¨å…¶ä¸­å¤„ç†å“åº”ä¸­ä¼ é€’çš„HTMLã€‚</li></ul><p id="eccc" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated">åˆ›å»ºä¸€ä¸ªç©ºçš„å­—å…¸ç»“æ„ï¼Œå…¶ä¸­å°†å¡«å…¥æ‰€æœ‰æ•°æ®:</p><pre class="kn ko kp kq fd ll lm ln lo aw lp bi"><span id="b910" class="lq jp ht lm b fi lr ls l lt lu"># where all extracted data will be temporarily located<br/>ticker_data = {<br/>    "ticker_data": {},<br/>    "about_panel": {},<br/>    "news": {"items": []},<br/>    "finance_perfomance": {"table": []}, <br/>    "people_also_search_for": {"items": []},<br/>    "interested_in": {"items": []}<br/>}</span></pre><p id="5ff7" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated">æå–å½“å‰ä»·æ ¼ã€æŠ¥ä»·å’Œæ ‡é¢˜æ•°æ®:</p><pre class="kn ko kp kq fd ll lm ln lo aw lp bi"><span id="a037" class="lq jp ht lm b fi lr ls l lt lu"># current price, quote, title extraction<br/>ticker_data["ticker_data"]["current_price"] = selector.css(".AHmHk .fxKbKc::text").get()<br/>ticker_data["ticker_data"]["quote"] = selector.css(".PdOqHc::text").get().replace(" â€¢ ",":")<br/>ticker_data["ticker_data"]["title"] = selector.css(".zzDege::text").get()</span></pre><ul class=""><li id="8d21" class="iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh bi translated">ticker _ data["ticker_data"]["current_price"]è®¿é—®[" ticker _ data "]é”®ï¼Œåˆ›å»ºä¸€ä¸ªæ–°é”®[" current _ price "]ï¼Œå¹¶å°†å…¶åˆ†é…ç»™parselå°†æå–çš„ä»»ä½•å€¼ã€‚æ–°çš„["quote"]å’Œ["title"]å…³é”®å­—ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</li><li id="c3bc" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated">* textæ˜¯ä¸€ä¸ª<a class="ae ji" href="https://github.com/scrapy/parsel/blob/90397dcd0b2c1cbb91e44f65c50f9e11628ba028/parsel/csstranslator.py#L48-L51" rel="noopener ugc nofollow" target="_blank"> parselè‡ªå·±çš„ä¼ªå…ƒç´ æ”¯æŒ</a> <a class="ae ji" href="https://github.com/scrapy/parsel/blob/90397dcd0b2c1cbb91e44f65c50f9e11628ba028/parsel/selector.py#L351-L363" rel="noopener ugc nofollow" target="_blank">ï¼Œå®ƒå°†æŠŠæ¯ä¸ªCSSæŸ¥è¯¢ç¿»è¯‘æˆXPath </a>ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹::textå°†å˜æˆ/text()ã€‚</li><li id="3214" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated">get() <a class="ae ji" href="https://github.com/scrapy/parsel/blob/90397dcd0b2c1cbb91e44f65c50f9e11628ba028/parsel/selector.py#L197-L204" rel="noopener ugc nofollow" target="_blank">è·å–å®é™…æ•°æ®</a>ã€‚</li><li id="184a" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated">æ›¿æ¢("ï¼Œ":)<a class="ae ji" href="https://docs.python.org/3/library/stdtypes.html#str.replace" rel="noopener ugc nofollow" target="_blank">æ¨é™ˆå‡ºæ–°</a>ã€‚</li></ul><p id="53a3" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated">æå–å³é¢æ¿æ•°æ®:</p><pre class="kn ko kp kq fd ll lm ln lo aw lp bi"><span id="b1fb" class="lq jp ht lm b fi lr ls l lt lu">about_panel_keys = selector.css(".gyFHrc .mfs7Fc::text").getall()<br/>about_panel_values = selector.css(".gyFHrc .P6K39c").xpath("normalize-space()").getall()</span><span id="c157" class="lq jp ht lm b fi lx ls l lt lu">for key, value in zip_longest(about_panel_keys, about_panel_values):<br/>    key_value = key.lower().replace(" ", "_")<br/>    ticker_data["about_panel"][key_value] = value</span></pre><ul class=""><li id="920e" class="iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh bi translated">getall() <a class="ae ji" href="https://github.com/scrapy/parsel/blob/90397dcd0b2c1cbb91e44f65c50f9e11628ba028/parsel/selector.py#L180-L185" rel="noopener ugc nofollow" target="_blank">è·å–æ‰€æœ‰æ¯”èµ›åˆ—è¡¨</a>ã€‚</li><li id="b318" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated">xpath("normalize-space()") <a class="ae ji" href="https://github.com/scrapy/parsel/issues/62#issuecomment-1042309376" rel="noopener ugc nofollow" target="_blank">ä¹Ÿè·å–ç©ºç™½æ–‡æœ¬èŠ‚ç‚¹</a>ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç©ºç™½æ–‡æœ¬èŠ‚ç‚¹å°†è¢«è·³è¿‡ï¼Œå¯¼è‡´ä¸å®Œæ•´çš„è¾“å‡ºã€‚</li><li id="31ae" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated">lower() <a class="ae ji" href="https://docs.python.org/3/library/stdtypes.html#str.lower" rel="noopener ugc nofollow" target="_blank">å°†æ‰€æœ‰å­—ç¬¦ä¸²å­—ç¬¦å°å†™</a>ã€‚</li><li id="e818" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated">zip_longest() <a class="ae ji" href="https://docs.python.org/3/library/itertools.html#itertools.zip_longest" rel="noopener ugc nofollow" target="_blank">æ¥ç»„åˆå¤šä¸ªè¿­ä»£å™¨</a>ã€‚<a class="ae ji" href="https://docs.python.org/3/library/functions.html#zip" rel="noopener ugc nofollow" target="_blank"> zip() </a>å’Œzip_longest()çš„åŒºåˆ«åœ¨äºï¼Œzip()åœ¨æœ€çŸ­çš„è¿­ä»£å™¨å¤„ç»“æŸï¼Œè€Œ<a class="ae ji" href="https://stackoverflow.com/questions/59119751/zip-and-zip-longest" rel="noopener ugc nofollow" target="_blank"> zip_longest()è¿­ä»£åˆ°æœ€é•¿è¿­ä»£å™¨çš„é•¿åº¦</a>ã€‚</li><li id="2ce2" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated">[key _ value]å°†ä½¿ç”¨å®ƒè‡ªå·±çš„æå–å€¼åŠ¨æ€åœ°å°†ä¸€ä¸ªé”®æ·»åŠ åˆ°å­—å…¸ä¸­ã€‚</li></ul><p id="5ce3" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated">ä»å³ä¾§é¢æ¿æå–æè¿°å’Œæ‰©å±•æ•°æ®:</p><pre class="kn ko kp kq fd ll lm ln lo aw lp bi"><span id="3b19" class="lq jp ht lm b fi lr ls l lt lu"># description "about" and  extensions extraction<br/>ticker_data["about_panel"]["description"] = selector.css(".bLLb2d::text").get()<br/>ticker_data["about_panel"]["extensions"] = selector.css(".w2tnNd::text").getall()</span></pre><p id="ce7f" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated">æå–æ–°é—»ç»“æœ:</p><pre class="kn ko kp kq fd ll lm ln lo aw lp bi"><span id="f8e8" class="lq jp ht lm b fi lr ls l lt lu"># news extarction<br/>if selector.css(".yY3Lee").get():<br/>    for index, news in enumerate(selector.css(".yY3Lee"), start=1):<br/>        ticker_data["news"]["items"].append({<br/>            "position": index,<br/>            "title": news.css(".Yfwt5::text").get(),<br/>            "link": news.css(".z4rs2b a::attr(href)").get(),<br/>            "source": news.css(".sfyJob::text").get(),<br/>            "published": news.css(".Adak::text").get(),<br/>            "thumbnail": news.css("img.Z4idke::attr(src)").get()<br/>        })<br/>else: <br/>    ticker_data["news"]["error"] = f"No news result from a {ticker}."</span></pre><ul class=""><li id="25ec" class="iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh bi translated">if selector.css(".yY3Lee ")ã€‚get()æ£€æŸ¥æ–°é—»ç»“æœæ˜¯å¦å­˜åœ¨ã€‚æ— éœ€æ£€æŸ¥<element>æ˜¯å¦ä¸æ˜¯æ— ã€‚</element></li><li id="7f27" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated"><a class="ae ji" href="https://docs.python.org/3/library/functions.html#enumerate" rel="noopener ugc nofollow" target="_blank"> enumerate() </a> <a class="ae ji" href="https://www.programiz.com/python-programming/methods/built-in/enumerate" rel="noopener ugc nofollow" target="_blank">ç»™iterableæ·»åŠ ä¸€ä¸ªè®¡æ•°å™¨å¹¶è¿”å›</a>ã€‚</li><li id="7b96" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated">start=1å°†ä»1å¼€å§‹è®¡æ•°ï¼Œè€Œä¸æ˜¯ä»é»˜è®¤å€¼0å¼€å§‹è®¡æ•°ã€‚</li><li id="4f63" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated">ticker_data[â€œæ–°é—»â€]ã€‚å°†({})æ·»åŠ åˆ°<a class="ae ji" href="https://docs.python.org/3/tutorial/datastructures.html" rel="noopener ugc nofollow" target="_blank">å°†</a>æå–çš„æ•°æ®ä½œä¸ºå­—å…¸æ·»åŠ åˆ°åˆ—è¡¨ä¸­ã€‚</li><li id="8890" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated">* attr(src)ä¹Ÿæ˜¯parselä¼ªå…ƒç´ æ”¯æŒï¼Œç”¨äºä»èŠ‚ç‚¹è·å–srcå±æ€§ã€‚ç›¸å½“äºXPath /@srcã€‚</li><li id="7fee" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated">ticker_data["news"]["error"]åˆ›å»ºä¸€ä¸ªæ–°çš„" error "é”®ï¼Œå¹¶åœ¨é”™è¯¯å‘ç”Ÿæ—¶æ˜¾ç¤ºä¸€æ¡æ¶ˆæ¯ã€‚</li></ul><p id="f17c" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated">æå–è´¢åŠ¡ç»©æ•ˆè¡¨æ•°æ®:</p><pre class="kn ko kp kq fd ll lm ln lo aw lp bi"><span id="0dda" class="lq jp ht lm b fi lr ls l lt lu"># finance perfomance table<br/># checks if finance table exists<br/>if selector.css(".slpEwd .roXhBd").get():<br/>    fin_perf_col_2 = selector.css(".PFjsMe+ .yNnsfe::text").get()           # e.g. Dec 2021<br/>    fin_perf_col_3 = selector.css(".PFjsMe~ .yNnsfe+ .yNnsfe::text").get()  # e.g. Year/year change<br/>    <br/>    for fin_perf in selector.css(".slpEwd .roXhBd"):<br/>        if fin_perf.css(".J9Jhg::text , .jU4VAc::text").get():<br/>            <br/>            """<br/>            if fin_perf.css().get() statement is needed, otherwise first dict key and sub dict values would be None:<br/>            <br/>            "finance_perfomance": {<br/>            "table": [<br/>                {<br/>                "null": {<br/>                    "Dec 2021": null,<br/>                    "Year/year change": null<br/>                }<br/>            }<br/>            """             <br/>            <br/>            perf_key = fin_perf.css(".J9Jhg::text , .jU4VAc::text").get()   # e.g. Revenue, Net Income, Operating Income..<br/>            perf_value_col_1 = fin_perf.css(".QXDnM::text").get()           # 60.3B, 26.40%..   <br/>            perf_value_col_2 = fin_perf.css(".gEUVJe .JwB6zf::text").get()  # 2.39%, -21.22%..<br/>            <br/>            ticker_data["finance_perfomance"]["table"].append({<br/>                perf_key: {<br/>                    fin_perf_col_2: perf_value_col_1, # dynamically add key and value from the second (2) column<br/>                    fin_perf_col_3: perf_value_col_2  # dynamically add key and value from the third (3) column<br/>                }<br/>            })<br/>else:<br/>    ticker_data["finance_perfomance"]["error"] = f"No 'finence perfomance table' for {ticker}."</span></pre><p id="6788" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated">æå–ä½ å¯èƒ½å¾—åˆ°çš„<code class="du ly lz ma lm b">"interested in"</code> / <code class="du ly lz ma lm b">"people also search for"</code>ç»“æœ:</p><pre class="kn ko kp kq fd ll lm ln lo aw lp bi"><span id="2049" class="lq jp ht lm b fi lr ls l lt lu"># "you may be interested in" results<br/>    if selector.css(".HDXgAf .tOzDHb").get():<br/>        for index, other_interests in enumerate(selector.css(".HDXgAf .tOzDHb"), start=1):<br/>            ticker_data["interested_in"]["items"].append(discover_more_tickers(index, other_interests))<br/>    else:<br/>        ticker_data["interested_in"]["error"] = f"No 'you may be interested in` results for {ticker}"<br/>    <br/>    <br/>    # "people also search for" results<br/>    if selector.css(".HDXgAf+ div .tOzDHb").get():<br/>        for index, other_tickers in enumerate(selector.css(".HDXgAf+ div .tOzDHb"), start=1):<br/>            ticker_data["people_also_search_for"]["items"].append(discover_more_tickers(index, other_tickers))<br/>    else:<br/>        ticker_data["people_also_search_for"]["error"] = f"No 'people_also_search_for` in results for {ticker}"</span><span id="e442" class="lq jp ht lm b fi lx ls l lt lu"># ....</span><span id="7ef1" class="lq jp ht lm b fi lx ls l lt lu">def discover_more_tickers(index: int, other_data: str):<br/>    """<br/>    if price_change_formatted will start complaining,<br/>    check beforehand for None values with try/except or if statement and set it to 0.<br/>    <br/>    however, re.search(r"\d{1}%|\d{1,10}\.\d{1,2}%" should get the job done.<br/>    """<br/>    return {<br/>            "position": index,<br/>            "ticker": other_data.css(".COaKTb::text").get(),<br/>            "ticker_link": f'https://www.google.com/finance{other_data.attrib["href"].replace("./", "/")}',<br/>            "title": other_data.css(".RwFyvf::text").get(),<br/>            "price": other_data.css(".YMlKec::text").get(),<br/>            "price_change": other_data.css("[jsname=Fe7oBc]::attr(aria-label)").get(),<br/>            # https://regex101.com/r/BOFBlt/1<br/>            # Up by 100.99% -&gt; 100.99%<br/>            "price_change_formatted": re.search(r"\d{1}%|\d{1,10}\.\d{1,2}%", other_data.css("[jsname=Fe7oBc]::attr(aria-label)").get()).group()<br/>        }</span></pre><ul class=""><li id="e8d5" class="iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh bi translated">discover_more_tickers()åˆ›å»ºçš„å‡½æ•°ç”¨äºå°†ä¸¤ä¸ªç›¸åŒçš„ä»£ç åˆå¹¶æˆä¸€ä¸ªå‡½æ•°ã€‚è¿™æ ·ï¼Œåªéœ€è¦åœ¨ä¸€ä¸ªåœ°æ–¹ä¿®æ”¹ä»£ç ã€‚</li><li id="a863" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated"><a class="ae ji" href="https://github.com/scrapy/parsel/blob/90397dcd0b2c1cbb91e44f65c50f9e11628ba028/parsel/selector.py#L209-L215" rel="noopener ugc nofollow" target="_blank"> attrib["å±æ€§å"] </a>è·å–èŠ‚ç‚¹å±æ€§ã€‚</li><li id="93d7" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated">[jsname=Fe7oBc]æ˜¯ä¸€ä¸ª<a class="ae ji" href="https://www.w3schools.com/cssref/sel_attribute_value.asp" rel="noopener ugc nofollow" target="_blank"> CSSé€‰æ‹©å™¨ï¼Œç”¨äºé€‰æ‹©å…·æœ‰æŒ‡å®šå±æ€§å’Œå€¼</a>çš„å…ƒç´ ï¼Œä¾‹å¦‚[attribute=value]ã€‚</li><li id="09fd" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated">re.search()åŒ¹é…éƒ¨åˆ†å­—ç¬¦ä¸²ï¼Œåªè·å–æ•°å­—å’Œ%å€¼ã€‚å’Œgroup()é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼è¿”å›åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚</li></ul><p id="3cc2" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated">è¿”å›å¹¶æ‰“å°æ•°æ®:</p><pre class="kn ko kp kq fd ll lm ln lo aw lp bi"><span id="3f29" class="lq jp ht lm b fi lr ls l lt lu"># def scrape_google_finance(ticker: str):<br/>    # ticker_data = {<br/>    #     "ticker_data": {},<br/>    #     "about_panel": {},<br/>    #     "news": {"items": []},<br/>    #     "finance_perfomance": {"table": []}, <br/>    #     "people_also_search_for": {"items": []},<br/>    #     "interested_in": {"items": []}<br/>    # }</span><span id="c3d8" class="lq jp ht lm b fi lx ls l lt lu">    # extraction code...</span><span id="223b" class="lq jp ht lm b fi lx ls l lt lu">    return ticker_data</span><span id="d489" class="lq jp ht lm b fi lx ls l lt lu">print(json.dumps(data_1, indent=2, ensure_ascii=False))</span></pre><p id="175f" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated">å…¨è¾“å‡º:</p><figure class="kn ko kp kq fd hk"><div class="bz dy l di"><div class="lv lw l"/></div></figure><h1 id="85f0" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">åˆ®å¤šä¸ªè°·æ­Œé‡‘èæŠ¥ä»·</h1><pre class="kn ko kp kq fd ll lm ln lo aw lp bi"><span id="53f1" class="lq jp ht lm b fi lr ls l lt lu">for ticker in ["DAX:INDEXDB", "GOOGL:NASDAQ", "MSFT:NASDAQ"]:<br/>    data = scrape_google_finance(ticker=ticker)<br/>    print(json.dumps(data["ticker_data"], indent=2, ensure_ascii=False))</span></pre><p id="cf6e" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated">äº§å‡º:</p><pre class="kn ko kp kq fd ll lm ln lo aw lp bi"><span id="00db" class="lq jp ht lm b fi lr ls l lt lu">{<br/>  "current_price": "14,178.23",<br/>  "quote": "DAX:Index",<br/>  "title": "DAX PERFORMANCE-INDEX"<br/>}<br/>{<br/>  "current_price": "$2,665.75",<br/>  "quote": "GOOGL:NASDAQ",<br/>  "title": "Alphabet Inc Class A"<br/>}<br/>{<br/>  "current_price": "$296.97",<br/>  "quote": "MSFT:NASDAQ",<br/>  "title": "Microsoft Corporation"<br/>}</span></pre></div><div class="ab cl mb mc gp md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="hb hc hd he hf"><h1 id="fa37" class="jo jp ht bd jq jr mi jt ju jv mj jx jy jz mk kb kc kd ml kf kg kh mm kj kk kl bi translated">æå–è°·æ­Œè´¢åŠ¡å›¾è¡¨æ—¶é—´åºåˆ—æ•°æ®</h1><p id="a5eb" class="pw-post-body-paragraph kr ks ht is b it kt ku kv iv kw kx ky ix kz la lb iz lc ld le jb lf lg lh jd hb bi translated">æŠ“å–æ—¶é—´åºåˆ—æ•°æ®å¹¶ä¸æ˜¯ä¸€ä¸ªç‰¹åˆ«å¥½çš„ä¸»æ„ï¼Œæ‰€ä»¥æœ€å¥½ä½¿ç”¨ä¸“ç”¨çš„APIæ¥å®Œæˆè¿™é¡¹å·¥ä½œã€‚</p><p id="4e64" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated">å¦‚ä½•æ‰¾åˆ°Googleç”¨å“ªä¸ªAPIæ¥æ„å»ºæ—¶é—´åºåˆ—å›¾è¡¨ï¼Ÿ</p><figure class="kn ko kp kq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es km"><img src="../Images/283653610cd399b5398d38960c28114b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*YTxT1wuyaYlangX0.png"/></div></div></figure><p id="f3f2" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated">æˆ‘ä»¬å¯ä»¥é€šè¿‡ç®€å•åœ°ç”¨å¼•å· <code class="du ly lz ma lm b"><a class="ae ji" href="https://www.nasdaq.com/market-activity/stocks/googl" rel="noopener ugc nofollow" target="_blank">GOOGL</a></code>æ£€æŸ¥<a class="ae ji" href="https://www.nasdaq.com/market-activity/stocks/googl" rel="noopener ugc nofollow" target="_blank"> Nasdaqå›¾è¡¨æ¥ç¡®è®¤Googleæ­£åœ¨ä½¿ç”¨NASDAQ APIè·å–æ—¶é—´åºåˆ—æ•°æ®:</a></p><figure class="kn ko kp kq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es km"><img src="../Images/29a80ec747ccbf14136cabe4dcf26ead.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*qnbiXW26ZngbP1Qf.png"/></div></div></figure><p id="745e" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated">åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä½¿ç”¨äº†æ”¯æŒ<a class="ae ji" href="https://docs.data.nasdaq.com/docs/python-installation" rel="noopener ugc nofollow" target="_blank"> Python </a>ã€<a class="ae ji" href="https://docs.data.nasdaq.com/docs/r-installation" rel="noopener ugc nofollow" target="_blank"> R </a>å’Œ<a class="ae ji" href="https://docs.data.nasdaq.com/docs/excel-installation" rel="noopener ugc nofollow" target="_blank"> Excel </a>çš„<a class="ae ji" href="https://docs.data.nasdaq.com/" rel="noopener ugc nofollow" target="_blank">çº³æ–¯è¾¾å…‹æ•°æ®é“¾æ¥API </a>ã€‚æˆ‘ç›¸ä¿¡å…¶ä»–å¹³å°ä¹Ÿæä¾›Pythoné›†æˆã€‚</p><p id="ccb2" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated">æˆ‘å‡è®¾ä½ å·²ç»å®‰è£…äº†ä¸€ä¸ª<code class="du ly lz ma lm b">nasdaq-data-link</code>åŒ…ï¼Œä½†æ˜¯å¦‚æœæ²¡æœ‰çš„è¯ï¼Œä½ å¯ä»¥è¿™æ ·åšã€‚å¦‚æœæ‚¨è®¾ç½®äº†Pythonçš„é»˜è®¤ç‰ˆæœ¬:</p><pre class="kn ko kp kq fd ll lm ln lo aw lp bi"><span id="68bc" class="lq jp ht lm b fi lr ls l lt lu"># WSL<br/>$ pip install nasdaq-data-link</span></pre><p id="5b5b" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated">å¦‚æœæ‚¨æ²¡æœ‰è®¾ç½®Pythonçš„é»˜è®¤ç‰ˆæœ¬:</p><pre class="kn ko kp kq fd ll lm ln lo aw lp bi"><span id="d598" class="lq jp ht lm b fi lr ls l lt lu"># WSL<br/>$ python3.9 -m pip install nasdaq-data-link # change python to your version: python3.X</span></pre><p id="c6be" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated">åœ¨<code class="du ly lz ma lm b"><a class="ae ji" href="https://data.nasdaq.com/account/profile" rel="noopener ugc nofollow" target="_blank">data.nasdaq.com/account/profile</a></code>è·å–æ‚¨çš„APIå¯†é’¥:</p><figure class="kn ko kp kq fd hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es km"><img src="../Images/174e5e60f7f2337c15653a5635cb0864.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*joPkwDQr4fzagD5u.png"/></div></div></figure><p id="905e" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated">åˆ›å»ºä¸€ä¸ª<code class="du ly lz ma lm b">.env</code>æ–‡ä»¶æ¥å­˜å‚¨æ‚¨çš„APIå¯†é’¥:</p><pre class="kn ko kp kq fd ll lm ln lo aw lp bi"><span id="dbc2" class="lq jp ht lm b fi lr ls l lt lu">touch .nasdaq_api_key # change the file name to yours </span><span id="7e62" class="lq jp ht lm b fi lx ls l lt lu"># paste API key inside the created file</span></pre><h1 id="d172" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">æŠ“å–è°·æ­Œé‡‘èæ—¶é—´åºåˆ—æ•°æ®</h1><figure class="kn ko kp kq fd hk"><div class="bz dy l di"><div class="lv lw l"/></div></figure><h1 id="30f9" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">æ—¶åºæå–ä»£ç è§£é‡Š</h1><ul class=""><li id="764b" class="iq ir ht is b it kt iv kw ix mn iz mo jb mp jd je jf jg jh bi translated">nasdakdatalink . read _ key(filename =ã€‚nasdaq_api_key") <a class="ae ji" href="https://github.com/Nasdaq/data-link-python#alternative-api-key-file-location" rel="noopener ugc nofollow" target="_blank">æ¥è¯»å–ä½ çš„apiå¯†é’¥</a>ã€‚</li><li id="227c" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated">".çº³æ–¯è¾¾å…‹_api_keyâ€æ˜¯ä½ çš„<a class="ae ji" href="https://en.wikipedia.org/wiki/Environment_variable#Design" rel="noopener ugc nofollow" target="_blank">ã€‚å¸¦æœ‰ç§˜å¯†APIå¯†é’¥çš„ç¯å¢ƒå˜é‡</a>ã€‚æ‰€æœ‰çš„ç§˜å¯†å˜é‡(å¦‚æœæˆ‘é”™äº†ï¼Œè¯·çº æ­£æˆ‘)éƒ½ä»¥ä¸€ä¸ª.ç¬¦å·å¼€å§‹å±•ç¤ºã€‚</li><li id="e0ed" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated">nasdaqdatalinkã€‚ApiConfig.api_keyæ¥æµ‹è¯•æ‚¨çš„apiæ˜¯å¦è¢«nasdaq-data-linkåŒ…è¯†åˆ«ã€‚ç¤ºä¾‹è¾“å‡º:2adA_avd12CXauv_1zxs</li><li id="9911" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated">nasdaqdatalink.get()è·å–<a class="ae ji" href="https://github.com/Nasdaq/data-link-python#retrieving-data" rel="noopener ugc nofollow" target="_blank">æ—¶åºæ•°æ®ï¼Œå³æ•°æ®é›†ç»“æ„</a>ã€‚</li></ul><p id="9819" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated">è¾“å‡ºä¸€ä¸ª<code class="du ly lz ma lm b"><a class="ae ji" href="https://pandas.pydata.org/docs/index.html" rel="noopener ugc nofollow" target="_blank">pandas</a></code> <code class="du ly lz ma lm b"><a class="ae ji" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html" rel="noopener ugc nofollow" target="_blank">DataFrame</a></code> <a class="ae ji" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html" rel="noopener ugc nofollow" target="_blank">å¯¹è±¡</a>:</p><pre class="kn ko kp kq fd ll lm ln lo aw lp bi"><span id="f899" class="lq jp ht lm b fi lr ls l lt lu">Open     High      Low    Close      Volume  Ex-Dividend  Split Ratio    Adj. Open    Adj. High     Adj. Low   Adj. Close  Adj. Volume<br/>Date                                                                                                                                                  <br/>2004-08-31   102.320   103.71   102.16   102.37   4917800.0          0.0          1.0    51.318415    52.015567    51.238167    51.343492    4917800.0<br/>2004-09-30   129.899   132.30   129.00   129.60  13758000.0          0.0          1.0    65.150614    66.354831    64.699722    65.000651   13758000.0<br/>2004-10-31   198.870   199.95   190.60   190.64  42282600.0          0.0          1.0    99.742897   100.284569    95.595093    95.615155   42282600.0<br/>2004-11-30   180.700   183.00   180.25   181.98  15384600.0          0.0          1.0    90.629765    91.783326    90.404069    91.271747   15384600.0<br/>2004-12-31   199.230   199.88   192.56   192.79  15321600.0          0.0          1.0    99.923454   100.249460    96.578127    96.693484   15321600.0<br/>...              ...      ...      ...      ...         ...          ...          ...          ...          ...          ...          ...          ...<br/>2017-11-30  1039.940  1044.14  1030.07  1036.17   2190379.0          0.0          1.0  1039.940000  1044.140000  1030.070000  1036.170000    2190379.0<br/>2017-12-31  1055.490  1058.05  1052.70  1053.40   1156357.0          0.0          1.0  1055.490000  1058.050000  1052.700000  1053.400000    1156357.0<br/>2018-01-31  1183.810  1186.32  1172.10  1182.22   1643877.0          0.0          1.0  1183.810000  1186.320000  1172.100000  1182.220000    1643877.0<br/>2018-02-28  1122.000  1127.65  1103.00  1103.92   2431023.0          0.0          1.0  1122.000000  1127.650000  1103.000000  1103.920000    2431023.0<br/>2018-03-31  1063.900  1064.54   997.62  1006.94   2940957.0          0.0          1.0  1063.900000  1064.540000   997.620000  1006.940000    2940957.0</span><span id="e556" class="lq jp ht lm b fi lx ls l lt lu">[164 rows x 12 columns]</span></pre><p id="6ff3" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated">å¦‚ä½ æ‰€è§ï¼Œæ²¡æœ‰å…³äº2019-2022å¹´çš„æ•°æ®ã€‚æ˜¯å› ä¸ºæˆ‘ç”¨çš„æ˜¯<a class="ae ji" href="https://docs.data.nasdaq.com/docs/getting-started#free-and-premium-data" rel="noopener ugc nofollow" target="_blank">å…è´¹ç‰ˆï¼Œé€‚åˆå®éªŒæ¢ç´¢ï¼Œçº³æ–¯è¾¾å…‹è¯´</a>ã€‚</p><h1 id="4891" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">çº³æ–¯è¾¾å…‹åˆ©ç‡é™åˆ¶</h1><p id="ecf9" class="pw-post-body-paragraph kr ks ht is b it kt ku kv iv kw kx ky ix kz la lb iz lc ld le jb lf lg lh jd hb bi translated">ç»è¿‡èº«ä»½éªŒè¯çš„ç”¨æˆ·æ¯10ç§’é’Ÿæœ€å¤šå¯ä»¥æ‰“300ä¸ªç”µè¯ï¼Œæ¯10åˆ†é’Ÿæœ€å¤šå¯ä»¥æ‰“2000ä¸ªç”µè¯ï¼Œæ¯å¤©æœ€å¤šå¯ä»¥æ‰“50000ä¸ªç”µè¯ã€‚é«˜çº§æ•°æ®ç”¨æˆ·æ¯10åˆ†é’Ÿæœ€å¤šå¯æ‹¨æ‰“5000æ¬¡ç”µè¯ï¼Œæ¯å¤©æœ€å¤šå¯æ‹¨æ‰“720000æ¬¡ç”µè¯ã€‚</p><h1 id="c1bc" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">å…¶ä»–çº³æ–¯è¾¾å…‹APIèµ„æº</h1><ul class=""><li id="e234" class="iq ir ht is b it kt iv kw ix mn iz mo jb mp jd je jf jg jh bi translated"><a class="ae ji" href="https://docs.data.nasdaq.com/docs/parameters-2" rel="noopener ugc nofollow" target="_blank">æ—¶åºå‚æ•°</a>é€šè¿‡å‘è¯·æ±‚æ·»åŠ é¢å¤–çš„å‚æ•°æ¥å®šåˆ¶(æ“ä½œ)æ‚¨çš„æ—¶åºæ•°æ®é›†ã€‚<a class="ae ji" href="https://docs.data.nasdaq.com/docs/parameters-2#transformations" rel="noopener ugc nofollow" target="_blank">æ—¶é—´åºåˆ—æ•°æ®çš„è½¬æ¢</a>ã€‚</li><li id="4eb0" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated"><a class="ae ji" href="https://docs.data.nasdaq.com/docs/quick-start-examples-1" rel="noopener ugc nofollow" target="_blank">ä½¿ç”¨curlç¼–å†™è¯·æ±‚</a>ä½¿ç”¨curlè½»æ¾å‘å‡ºè¯·æ±‚ã€‚</li><li id="9d36" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated"><a class="ae ji" href="https://blog.data.nasdaq.com/getting-started-with-the-nasdaq-data-link-api" rel="noopener ugc nofollow" target="_blank">å¯ç”¨çš„ä¿å­˜æ ¼å¼</a>ä»¥CSVã€XMLã€JSONæ ¼å¼ä¿å­˜æ•°æ®ã€‚</li><li id="82eb" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated"><a class="ae ji" href="https://github.com/Nasdaq/data-link-python/blob/main/FOR_DEVELOPERS.md#data-formats" rel="noopener ugc nofollow" target="_blank">æ•°æ®æ ¼å¼</a>å°†æ•°æ®è½¬æ¢æˆå¯ç”¨çš„æ ¼å¼ã€‚</li><li id="aa31" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated"><a class="ae ji" href="https://github.com/Nasdaq/data-link-python/blob/main/FOR_ANALYSTS.md#download-entire-database-bulk-download" rel="noopener ugc nofollow" target="_blank">æ‰¹é‡ä¸‹è½½</a>ä¸€æ¬¡è°ƒç”¨å³å¯ä¸‹è½½æ•°æ®åº“ä¸­çš„æ‰€æœ‰æ•°æ®ã€‚</li><li id="b0fc" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated"><a class="ae ji" href="https://github.com/Nasdaq/data-link-python/blob/main/FOR_DEVELOPERS.md#detailed-method-guide---nasdaq-data-linkpython" rel="noopener ugc nofollow" target="_blank">å¯ç”¨æ–¹æ³•çš„è¯¦ç»†æŒ‡å—</a>æ›´è¯¦ç»†åœ°äº†è§£å¦‚ä½•ä½¿ç”¨data-link-pythonåŒ…ã€‚</li><li id="56ad" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated"><a class="ae ji" href="https://github.com/Nasdaq/data-link-python" rel="noopener ugc nofollow" target="_blank">GitHubä¸Šçš„data-link-python</a>é˜…è¯»å®Œæ•´æ–‡æ¡£ã€‚</li><li id="8418" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated">GitHubä¸Šçš„quandl-pythonçœ‹çœ‹data-link-pythonåœ¨å¹•åä½¿ç”¨çš„æ˜¯ä»€ä¹ˆã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°æ›´å¤šçš„æ–‡æ¡£ã€‚</li></ul><h1 id="94ce" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">é“¾æ¥</h1><ul class=""><li id="c97a" class="iq ir ht is b it kt iv kw ix mn iz mo jb mp jd je jf jg jh bi translated"><a class="ae ji" href="https://replit.com/@DimitryZub1/Scrape-Google-Finance-Ticker-Quote-in-Python#main.py" rel="noopener ugc nofollow" target="_blank">åœ¨çº¿IDEä¸­çš„ä»£ç </a></li><li id="7eaf" class="iq ir ht is b it jj iv jk ix jl iz jm jb jn jd je jf jg jh bi translated"><a class="ae ji" href="https://github.com/dimitryzub/google-finance-py/tree/main" rel="noopener ugc nofollow" target="_blank"> GitHubåº“</a></li></ul><h1 id="30d0" class="jo jp ht bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">ç»“å°¾éƒ¨åˆ†</h1><p id="8cd9" class="pw-post-body-paragraph kr ks ht is b it kt ku kv iv kw kx ky ix kz la lb iz lc ld le jb lf lg lh jd hb bi translated">å¦‚æœä½ æœ‰ä»»ä½•è¦åˆ†äº«çš„ä¸œè¥¿ï¼Œä»»ä½•é—®é¢˜ï¼Œå»ºè®®ï¼Œæˆ–ä¸€äº›ä¸èƒ½æ­£å¸¸å·¥ä½œçš„äº‹æƒ…ï¼Œè¯·é€šè¿‡Twitterè”ç³»æˆ‘ä»¬ï¼Œåœ°å€æ˜¯<a class="ae ji" href="https://twitter.com/DimitryZub" rel="noopener ugc nofollow" target="_blank"> @dimitryzub </a>æˆ–<a class="ae ji" href="https://twitter.com/serp_api" rel="noopener ugc nofollow" target="_blank"> @serp_api </a>ã€‚</p><p id="c815" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated">ä½ çš„ï¼Œ<br/>å¾·ç±³ç‰¹é‡Œï¼Œè¿˜æœ‰å¡å°”å¸•çš®å›¢é˜Ÿçš„å…¶ä»–äººã€‚</p></div><div class="ab cl mb mc gp md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="hb hc hd he hf"><p id="05c6" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated">åœ¨æ¨ç‰¹<a class="ae ji" href="https://twitter.com/serp_api" rel="noopener ugc nofollow" target="_blank">ä¸ŠåŠ å…¥SerpApi</a>|<a class="ae ji" href="https://www.youtube.com/channel/UCUgIHlYBOD3yA3yDIRhg_mg" rel="noopener ugc nofollow" target="_blank">YouTube</a></p><p id="7f14" class="pw-post-body-paragraph kr ks ht is b it iu ku kv iv iw kx ky ix li la lb iz lj ld le jb lk lg lh jd hb bi translated">æ·»åŠ ä¸€ä¸ª<a class="ae ji" href="https://github.com/serpapi/SerpApi/issues/" rel="noopener ugc nofollow" target="_blank">ç‰¹å¾è¯·æ±‚</a>ğŸ’«è¿˜æ˜¯ä¸€ä¸ª<a class="ae ji" href="https://github.com/serpapi/SerpApi/issues/" rel="noopener ugc nofollow" target="_blank"> Bug </a>ğŸ</p></div></div>    
</body>
</html>