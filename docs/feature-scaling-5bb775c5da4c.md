# ç‰¹å¾ç¼©æ”¾

> åŸæ–‡ï¼š<https://medium.com/geekculture/feature-scaling-5bb775c5da4c?source=collection_archive---------17----------------------->

äº†è§£ç‰¹å¾ç¼©æ”¾çš„åŸºç¡€çŸ¥è¯†ï¼Œä¸ºä»€ä¹ˆä½¿ç”¨å®ƒï¼Œä»¥åŠå®ƒçš„æ–¹æ³•ã€‚

![](img/913626d37cc80c25f396f0698e049422.png)

Photo by [Kenny Eliason](https://unsplash.com/@neonbrand?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

æ ¹æ®ç»´åŸºç™¾ç§‘çš„ä¸€ç¯‡æ–‡ç« :

> ***ç‰¹å¾ç¼©æ”¾*** *æ˜¯ä¸€ç§ç”¨äºå°†æ•°æ®çš„è‡ªå˜é‡æˆ–ç‰¹å¾çš„èŒƒå›´å½’ä¸€åŒ–çš„æ–¹æ³•ã€‚åœ¨* [*æ•°æ®å¤„ç†*](https://en.wikipedia.org/wiki/Data_processing) *ä¸­ï¼Œä¹Ÿç§°ä¸ºæ•°æ®å½’ä¸€åŒ–ï¼Œä¸€èˆ¬åœ¨* [*æ•°æ®é¢„å¤„ç†*](https://en.wikipedia.org/wiki/Data_preprocessing) *æ­¥éª¤ä¸­è¿›è¡Œã€‚*

é‚£ä¹ˆï¼Œä»€ä¹ˆæ˜¯ç‰¹å¾ç¼©æ”¾å‘¢ï¼Ÿä½ çœ‹åˆ°äº†â€œæ­£å¸¸åŒ–â€ã€â€œè‡ªå˜é‡â€ã€â€œç‰¹å¾â€ã€â€œæ•°æ®é¢„å¤„ç†â€ã€â€œæ­£å¸¸åŒ–â€è¿™æ ·çš„è¯ï¼Œæˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹è¿™äº›è¯æ˜¯ä»€ä¹ˆæ„æ€â€¦â€¦

# ç‹¬ç«‹å˜é‡/ç‰¹å¾

ç‰¹æ€§ä¸è¿‡æ˜¯æ•°æ®é›†ä¸­çš„åˆ—åï¼Œ

ä¾‹å¦‚ï¼Œä½ æœ‰ä¸€ä¸ªè™¹è†œæ•°æ®é›†ã€‚

![](img/8c1a82ac250c8cbc7df3c92a4ea736f1.png)

åœ¨è¿™é‡Œä½ å¯ä»¥çœ‹åˆ°ï¼Œåˆ—å:['è¼ç‰‡ _ é•¿åº¦'ï¼Œ'è¼ç‰‡ _ å®½åº¦'ï¼Œ'èŠ±ç“£ _ é•¿åº¦'ï¼Œ'èŠ±ç“£ _ å®½åº¦'ï¼Œ'ç‰©ç§']ï¼Œåªæ˜¯ç‰¹å¾ã€‚

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™äº›ç‰¹å¾åˆ›å»ºå„ç§ ML æ¨¡å‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™äº›ç‰¹å¾è¿›è¡Œæ¢ç´¢æ€§æ•°æ®åˆ†æã€‚

# æ•°æ®é¢„å¤„ç†

ä¸ºäº†ç†è§£æ•°æ®é¢„å¤„ç†ï¼Œè€ƒè™‘ä¸€ä¸ªå·¨å¤§çš„æ•°æ®é›†ï¼Œå…¶ä¸­æœ‰äº›ç‰¹å¾æ˜¯æœ‰ç”¨çš„ï¼Œæœ‰äº›æ˜¯å¯æ€•çš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åˆ é™¤æ— ç”¨çš„æ•°æ®ï¼Œå¹¶å°†å…¶ä»–ç¬¨æ‹™çš„æ•°æ®è½¬æ¢æˆå¯ç”¨å’Œå…¼å®¹çš„å½¢å¼ã€‚è¿™å°±æ˜¯æ•°æ®é¢„å¤„ç†ï¼Œå°†åŸå§‹æ•°æ®è½¬åŒ–ä¸ºæœ‰ç”¨çš„æ•°æ®é›†ã€‚

æˆ‘ä»¬å°†åœ¨æ¥ä¸‹æ¥çš„æ–‡ç« ä¸­äº†è§£æ•°æ®é¢„å¤„ç†ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå¦‚æœå•ä½å¾ˆå¤§ï¼Œé‚£ä¹ˆå®ƒä»¬å°†æ›´éš¾è®¡ç®—ï¼Œéœ€è¦æ›´å¤šçš„æ—¶é—´â€¦

ç°åœ¨ä½ çŸ¥é“äº†ä¸ºä»€ä¹ˆéœ€è¦ç‰¹æ€§ç¼©æ”¾ï¼Œç°åœ¨è®©æˆ‘ä»¬æ¥çœ‹çœ‹ç‰¹æ€§ç¼©æ”¾çš„æ–¹æ³•ã€‚

*   é‡æ–°ç¼©æ”¾(æœ€å°-æœ€å¤§å½’ä¸€åŒ–)
*   å‡å€¼å½’ä¸€åŒ–
*   æ ‡å‡†åŒ–(Z åˆ†æ•°æ ‡å‡†åŒ–)
*   ç¼©æ”¾è‡³å•ä½é•¿åº¦

# é‡æ–°ç¼©æ”¾(æœ€å°-æœ€å¤§å½’ä¸€åŒ–)

åœ¨æœ€å°-æœ€å¤§å½’ä¸€åŒ–ä¸­ï¼Œæ•°æ®ç‚¹æ ¹æ®å…¶æœ€å¤§å€¼å’Œæœ€å°å€¼è¿›è¡Œé‡æ–°ç¼©æ”¾ï¼Œå› æ­¤é‡æ–°ç¼©æ”¾åçš„å€¼åœ¨ 0 åˆ° 1[0ï¼Œ1]çš„èŒƒå›´å†…ã€‚è¿™æ˜¯ç”¨åˆ—è™é’³å®Œæˆçš„ï¼Œä¸€æ¬¡ä¸€åˆ—ã€‚

![](img/ab0a22941858f4bd8d24a5bb477694ca.png)

x scaled, by author

ä¾‹å¦‚ï¼Œæˆ‘ä»¬æœ‰ä¸€äº›å­¦ç”Ÿçš„æ ·æœ¬æ•°æ®ï¼Œè®©æˆ‘ä»¬æ‰‹åŠ¨åˆ›å»ºè¿™äº›æ•°æ®ï¼Œå› ä¸ºä¸ºä»€ä¹ˆä¸å‘¢ã€‚

```
cols = ['name','age','score']
names = ['atharv','hitesh','aakanksha','mrudulla','john','hopkins','tony','markus','tom']
ages = [21,20,21,20,20,19,22,21,22]
scores = [100,100,99,98,78,58,100,79,80]
df = pd.DataFrame({
    "name":names,
    "age":ages,
    "score":scores
},columns=cols)
```

![](img/88cb04f4ca5a0784fcca2d4286503f0e.png)

ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ‰¾å‡ºå®ƒä»¬çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ï¼Œå¹¶å°†å®ƒä»¬ä¿å­˜åœ¨ä¸€ä¸ªå˜é‡ä¸­ã€‚

```
df_max = df.score.max()
df_min = df.score.min()
```

ç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹è¿™ä¸ªå…¬å¼æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œ

```
for i in df.score:
    print((i-df_min)/(df_max-df_min))
```

> 1.0
> 1.0
> 0.9761904761904762
> 0.95238095809 523
> 0.4761904 7619047

ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ¯”è¾ƒä¸€ä¸‹é‡æ–°æ ‡åº¦çš„ç‰ˆæœ¬å’ŒåŸå§‹ç‰ˆæœ¬çš„åˆ†æ•°ï¼Œ

```
rescaled_scores = []
for i in df.score:
    rescaled_scores.append((i-df_min)/(df_max-df_min))
df['rescaled scores'] = rescaled_scores
```

![](img/957022723e57de5eb5865e7c665992e8.png)

# å‡å€¼å½’ä¸€åŒ–

è¿™å°±åƒæœ€å°-æœ€å¤§å½’ä¸€åŒ–ï¼Œä½†æ˜¯æœ‰å¹³å‡å€¼ã€‚è¿™ç§æ–¹æ³•å°†æ•°æ®/åºåˆ—è½¬æ¢ä¸ºæ›´æ³¨é‡å¹³å‡å€¼çš„é‡æ–°è°ƒæ•´ç‰ˆæœ¬ï¼Œé‡æ–°è°ƒæ•´ç‰ˆæœ¬çš„å¹³å‡å€¼ä¸ºé›¶ï¼Œæ ¹æ®åŸå§‹æ•°æ®çš„å¹³å‡å€¼è¿›è¡Œé‡æ–°è°ƒæ•´ã€‚

![](img/589b7bdf58580e4a979025a35d0e79fd.png)

Mean normalized, by author

è®©æˆ‘ä»¬ç”¨ä¸Šé¢ä½¿ç”¨çš„ç›¸åŒæ•°æ®é›†æ¥å°è¯•ä¸€ä¸‹ï¼Œ

```
for i in df.score:
    print((i-df.score.mean())/(df_max-df_min))
```

> 0.2857142857142857

è®©æˆ‘ä»¬å°†å…¶ä¸åŸå§‹æ•°æ®è¿›è¡Œæ¯”è¾ƒ:

```
mean_norm_score = []
for i in df.score:
    mean_norm_score.append((i-df.score.mean())/(df_max-df_min))
df['mean normalized score'] = mean_norm_score
```

![](img/eccaec3d58d7ca943328e3f3384670a8.png)

åœ¨è¿™é‡Œï¼Œæ‚¨å¯ä»¥çœ‹åˆ°åŸå§‹æ•°æ®çš„å¹³å‡å€¼ä¸º 88ï¼Œtom çš„å¾—åˆ†(å¹³å‡æ ‡å‡†åŒ–å¾—åˆ†)æ¯”ä»»ä½•å…¶ä»–å€¼éƒ½æ›´æ¥è¿‘ 0ã€‚

# æ ‡å‡†åŒ–

*   å¦‚æœæˆ‘ä»¬å°† z åˆ†æ•°åº”ç”¨äºæ¯ä¸ªæ•°æ®ç‚¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å°†æ¯ä¸ªå…ƒç´ æ”¾åœ¨ç›¸åŒçš„èŒƒå›´å†…ï¼Œè€Œä¸ä¼šä¸¢å¤±ä»»ä½•æ•°æ®ã€‚
*   ä¸ºäº†æ¢å¤æ•°æ®çš„åŸå§‹å½¢å¼ï¼Œæˆ‘ä»¬æ€»æ˜¯å¯ä»¥å°†å®ƒåè½¬å›æ¥ã€‚

![](img/5e36b52feccb71f21b4a736a3997974c.png)

Standardization, by the author

å…¶ä¸­ x æ¡æ˜¯æ ·æœ¬æ•°æ®çš„å¹³å‡å€¼ï¼Œsigma æ˜¯æ ·æœ¬æ•°æ®çš„æ ‡å‡†åå·®ã€‚

ä¸ºæ­¤æˆ‘ä»¬å¿…é¡»ä½¿ç”¨ä¸€ä¸ªåä¸º" Statistics "çš„é¢å¤–åº“ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨" stdev "æ–¹æ³•æ¥æŸ¥æ‰¾æ•°æ®çš„æ ‡å‡†åå·®ï¼ŒæŸ¥æ‰¾æ ‡å‡†åå·®æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„è¿‡ç¨‹ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆè¦æµªè´¹æ—¶é—´å‘¢ï¼Ÿ

```
import statistics as stats
stats.stdev(df.score)
```

> 14.99166435056495

è®©æˆ‘ä»¬æ‰¾åˆ°æ ‡å‡†åŒ–çš„å€¼:

```
for i in df.score:
    print((i-df.score.mean())/(stats.stdev(df.score)))
```

> 0.8004448151580841
> 0.800448151580841
> 0.733741080561577
> 0.66703734596507
> -0.66703734596507
> -2.00111203789521ã€T13

ç°åœ¨è®©æˆ‘ä»¬å°†å…¶ä¸åŸå§‹å€¼è¿›è¡Œæ¯”è¾ƒ:

```
standardized_scores = []
for i in df.score:
    standardized_scores.append((i-df.score.mean())/(stats.stdev(df.score)))
df['standardized scores'] = standardized_scores
```

![](img/86f1f64b8d8959927513a7a64a8c01a1.png)

Standardized, image by the author

# ç¼©æ”¾è‡³å•ä½é•¿åº¦

å¦‚æ ‡é¢˜æ‰€ç¤ºï¼Œæˆ‘ä»¬å°†æ•°æ®ç¼©æ”¾åˆ°å•ä½é•¿åº¦ï¼Œä½†ä¸ä»…ä»…æ˜¯å•ä½é•¿åº¦ï¼Œæˆ‘ä»¬ç”¨æ¬§å‡ é‡Œå¾—å•ä½é•¿åº¦ç¼©æ”¾æ•°æ®ã€‚

ä½†è¿™ç§æ–¹æ³•åœ¨æ•°æ®ç§‘å­¦å®¶ä¸­å¹¶ä¸å—æ¬¢è¿ï¼Œä½†å¯¹ä½ æ¥è¯´å¯èƒ½æ˜¯æœ‰æ•ˆçš„å’Œæœ€ä¼˜çš„ï¼Œæˆ‘æœ¬äººä»æœªå°è¯•è¿‡è¿™ç§æ–¹æ³•æ¥ç¼©æ”¾æ•°æ®ï¼Œæ‰€ä»¥æˆ‘å¿…é¡»æ›´æ·±å…¥åœ°æŒ–æ˜è¿™ä¸ªè¯é¢˜ã€‚

![](img/508307cf58cc329e7c5760b0091fa872.png)

Unit scaling, by the author

åœ¨å“ªé‡Œï¼Œ

![](img/a18a7c707506a207355cb21597d25b47.png)

PS:æ›´å¤šå…³äºå•ä½ç¼©æ”¾çš„ä¿¡æ¯å°†ä¼šéšç€æˆ‘çš„äº†è§£è€Œæ›´æ–°â€¦

ä¸è¦å¿˜è®°ç•™ä¸‹æŒå£°ğŸ‘ğŸ˜Š

è”ç³»äºº:[https://linktr.ee/a.kayyy](https://linktr.ee/a.kayyy)