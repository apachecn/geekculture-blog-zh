<html>
<head>
<title>Flutter: Custom Paint</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">é¢¤åŠ¨:è‡ªå®šä¹‰ç»˜ç”»</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/geekculture/flutter-custom-paint-27c4aba498?source=collection_archive---------22-----------------------#2021-08-23">https://medium.com/geekculture/flutter-custom-paint-27c4aba498?source=collection_archive---------22-----------------------#2021-08-23</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/d898feedf0fc9cf92caffd66cca10df6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*04eyx6VzSpldxwA9"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">Image from <a class="ae iu" href="https://images.unsplash.com/photo-1513364776144-60967b0f800f?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8YXJ0JTIwYnJ1c2h8ZW58MHx8MHx8&amp;ixlib=rb-1.2.1&amp;w=1000&amp;q=80" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="da2e" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">åœ¨flutterä¸­ï¼Œä¸€äº›UIè®¾è®¡ä¸èƒ½ä»å¸¸è§„çš„shapeså°éƒ¨ä»¶ä¸­æ´¾ç”Ÿå‡ºæ¥ã€‚è¿™å°±æ˜¯å®šåˆ¶æ²¹æ¼†å‘æŒ¥ä½œç”¨çš„åœ°æ–¹ã€‚Custom Paintæ˜¯ä¸€ä¸ªå°éƒ¨ä»¶ï¼Œå®ƒä¸ºæ‚¨æä¾›äº†ä¸€ä¸ªç”»æ¿(ç§°ä¸º<code class="du jt ju jv jw b">canvas</code>)ã€ä¸€ä¸ªç”»ç¬”(ç§°ä¸º<code class="du jt ju jv jw b">paint</code>)ã€ä¸€ä¸ªç”»æ¿å¤§å°(ç§°ä¸º<code class="du jt ju jv jw b">size</code>)å’Œä¸€ä¸ªç”¨äºç»˜åˆ¶å½¢çŠ¶çš„<code class="du jt ju jv jw b">path</code>ã€‚</p><blockquote class="jx jy jz"><p id="cb92" class="iv iw ka ix b iy iz ja jb jc jd je jf kb jh ji jj kc jl jm jn kd jp jq jr js hb bi translated">åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•åˆ©ç”¨è‡ªå®šä¹‰ç»˜å›¾åœ¨flutteråº”ç”¨ç¨‹åºä¸­ç»˜åˆ¶è‡ªå®šä¹‰å½¢çŠ¶ã€‚è¿™ä¼šè®©ä½ çš„UIæ›´æœ‰å¸å¼•åŠ›ã€‚</p></blockquote><p id="061a" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">åœ¨æœ¬æ–‡çš„æœ€åï¼Œæˆ‘ä»¬å°†ä»ä¸‹é¢çš„å›¾ç‰‡ä¸­è·å¾—ç»“æœã€‚æ‚¨å¯ä»¥åœ¨æœ¬æ–‡æœ«å°¾æ‰¾åˆ°Githubæºä»£ç ã€‚</p><figure class="kf kg kh ki fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ke"><img src="../Images/d3794c01e87f437a7d139a15dd5e1de1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vtowQ6vbbpGRUUVin0Kvzg.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">final output</figcaption></figure><p id="84f7" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">è®©æˆ‘ä»¬è®¾ç½®æˆ‘ä»¬çš„flutteråº”ç”¨ç¨‹åºã€‚</p><p id="40d3" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">åˆ›å»ºä¸€ä¸ªæ–°çš„é¢¤æŒ¯é¡¹ç›®<code class="du jt ju jv jw b">custompaint</code></p><pre class="kf kg kh ki fd kj jw kk kl aw km bi"><span id="78fc" class="kn ko hi jw b fi kp kq l kr ks"><br/>import 'package:flutter/material.dart';</span><span id="3cea" class="kn ko hi jw b fi kt kq l kr ks">import 'package:custompaint/home.dart';</span><span id="3a70" class="kn ko hi jw b fi kt kq l kr ks">void main() {<br/>  runApp(MyApp());<br/>}<br/><br/>class MyApp extends StatelessWidget {<br/>  const MyApp({Key? key}) : super(key: key);<br/><br/>  @override<br/>  Widget build(BuildContext context) {<br/>    return MaterialApp(<br/>      title: 'Drawing Custom shapes',<br/>      debugShowCheckedModeBanner: false,<br/>      home: Home(),<br/>    );<br/>  }<br/>}</span></pre><p id="2ddc" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">æ¥ä¸‹æ¥ï¼Œåˆ›å»º</strong> <code class="du jt ju jv jw b">Home</code> <strong class="ix hj">å±æ€§ã€‚</strong></p><pre class="kf kg kh ki fd kj jw kk kl aw km bi"><span id="ffd6" class="kn ko hi jw b fi kp kq l kr ks">class Home extends StatefulWidget {<br/>  const Home({Key? key}) : super(key: key);<br/><br/>  @override<br/>  _HomeState createState() =&gt; _HomeState();<br/>}<br/><br/>class _HomeState extends State&lt;Home&gt; {<br/>  @override<br/>  Widget build(BuildContext context) {<br/>    return Scaffold(<br/>      body: SafeArea(<br/>        child: SingleChildScrollView(<br/>          child: Container(<br/>            height: MediaQuery.of(context).size.height,<br/>            width: MediaQuery.of(context).size.width,<br/>            color: Color(0xfffbfaff),<br/>            child: CustomPaint(<br/>              painter: BackgroundPaint(),<br/>            ),<br/>          ),<br/>        ),<br/>      ),<br/>    );<br/>  }<br/>}</span></pre><p id="7d62" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">æˆ‘ä»¬å°†åº”ç”¨ç¨‹åºåŒ…è£…æˆä¸€ä¸ª<code class="du jt ju jv jw b">Container</code>ï¼Œå¹¶å°†å…¶èƒŒæ™¯è®¾ç½®ä¸ºå®šä¹‰çš„é¢œè‰²ã€‚ç„¶åæˆ‘ä»¬æœ‰äº†æŠŠ<code class="du jt ju jv jw b">BackgroundPaint()</code>å½“åš<code class="du jt ju jv jw b">painter</code>çš„<code class="du jt ju jv jw b">CustomPaint</code>ã€‚</p><p id="eeed" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du jt ju jv jw b">BackgroundPaint()</code>æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰ç±»ï¼Œæˆ‘ä»¬å°†åˆ›å»ºå®ƒæ¥åŒ…å«æˆ‘ä»¬çš„ç»˜å›¾ã€‚</p><h2 id="4075" class="kn ko hi bd ku kv kw kx ky kz la lb lc jg ld le lf jk lg lh li jo lj lk ll lm bi translated">è‡ªå®šä¹‰ç»˜ç”»ç±»åˆ«</h2><p id="1776" class="pw-post-body-paragraph iv iw hi ix b iy ln ja jb jc lo je jf jg lp ji jj jk lq jm jn jo lr jq jr js hb bi translated">ä¸‹é¢æ˜¯ç»˜å›¾çš„ç±»ç»“æ„ã€‚</p><pre class="kf kg kh ki fd kj jw kk kl aw km bi"><span id="f2bf" class="kn ko hi jw b fi kp kq l kr ks">class BackgroundPainter extends CustomPainter {<br/>  @override<br/>  void paint(Canvas canvas, Size size) {<br/>    var paint = Paint();<br/>    // <em class="ka">TODO: Set properties to paint<br/><br/>    </em>var path = Path();<br/><br/>    // <em class="ka">TODO: Draw your path<br/><br/>    </em>canvas.drawPath(path, paint);<br/>  }<br/><br/>  @override<br/>  bool shouldRepaint(CustomPainter oldDelegate) =&gt; true;<br/>}</span></pre><p id="1814" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">è¯¥ç±»æä¾›ç”»å¸ƒã€è·¯å¾„ã€å¤§å°å’Œç»˜ç”»ã€‚ä½¿ç”¨ä¸‹å›¾æ›´å¥½åœ°ç†è§£<code class="du jt ju jv jw b">size</code>å˜é‡ã€‚</p><figure class="kf kg kh ki fd ij er es paragraph-image"><div class="er es ls"><img src="../Images/f71fbb3063bab71f9fa422a31fb6c9cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/format:webp/0*85NJmpQkubO7Ibmv.png"/></div><figcaption class="iq ir et er es is it bd b be z dx">image depicting size variable</figcaption></figure><p id="d3c8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">æˆ‘ä»¬çš„è®¾è®¡å¸Œæœ›ä»åº”ç”¨ç¨‹åºå®½åº¦çš„25%å¼€å§‹ç»˜åˆ¶æ›²çº¿ï¼Œå¹¶åœ¨åº”ç”¨ç¨‹åºé«˜åº¦çš„85%å¤„ç»“æŸæ›²çº¿ã€‚ç„¶åï¼ŒæŠŠå®ƒæ’å¥½ï¼Œç”»å‡ºè·¯å¾„ã€‚</p><p id="a88f" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><strong class="ix hj">æ¥ä¸‹æ¥ï¼Œåˆ›å»º</strong> <code class="du jt ju jv jw b">CustomPainter</code> <strong class="ix hj">å±æ€§</strong></p><pre class="kf kg kh ki fd kj jw kk kl aw km bi"><span id="079e" class="kn ko hi jw b fi kp kq l kr ks">class BackgroundPaint extends CustomPainter {<br/>  @override<br/>  void paint(Canvas canvas, Size size) {<br/>    // <em class="ka">TODO: implement paint<br/>    </em>final height = size.height;<br/>    final width = size.width;<br/><br/>    Paint paint = Paint()<br/>      ..style = PaintingStyle.fill<br/>      ..isAntiAlias = true<br/>      ..color = Color(0xff404040);<br/><br/>    Path myPath = Path();<br/><br/>    myPath.moveTo(width * 0.25, 0);<br/><br/>    //myPath.quadraticBezierTo(<br/>    //width * 0.70, height * 0.20, width * 0.40, height * 0.35);<br/>    myPath.quadraticBezierTo(<br/>        width * 0.7, height * 0.15, width * 0.4, height * 0.3);<br/>    myPath.quadraticBezierTo(<br/>        width * 0.15, height * 0.45, width * 0.4, height * 0.65);<br/>    myPath.quadraticBezierTo(<br/>        width * 0.51, height * 0.75, width * 1, height * 0.85);<br/>    //myPath.quadraticBezierTo(<br/>    //width * 0.2, height * 0.75, width * 1, height * 0.75);<br/>    myPath.lineTo(width * 25, 0);<br/>    myPath.lineTo(width, 0);<br/><br/>    canvas.drawPath(myPath, paint);<br/>  }<br/><br/>  @override<br/>  bool shouldRepaint(covariant CustomPainter oldDelegate) =&gt; true;<br/>}</span></pre><h2 id="cdaf" class="kn ko hi bd ku kv kw kx ky kz la lb lc jg ld le lf jk lg lh li jo lj lk ll lm bi translated">ä»£ç è§£é‡Š</h2><p id="5d44" class="pw-post-body-paragraph iv iw hi ix b iy ln ja jb jc lo je jf jg lp ji jj jk lq jm jn jo lr jq jr js hb bi translated">é¦–å…ˆï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸¤ä¸ªå˜é‡(é«˜åº¦å’Œå®½åº¦),å¹¶å°†å®ƒä»¬åˆ†é…ç»™åº”ç”¨ç¨‹åºçš„é«˜åº¦å’Œå®½åº¦ã€‚ç„¶åï¼Œæˆ‘ä»¬å®šä¹‰æˆ‘ä»¬çš„<code class="du jt ju jv jw b">paint</code>,ç»™å®ƒä¸€ä¸ªé¢œè‰²å’Œå¡«å……æ ·å¼æ¥å¡«å……ç»˜åˆ¶çš„<code class="du jt ju jv jw b">path</code>ã€‚</p><p id="150b" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å®šä¹‰äº†<code class="du jt ju jv jw b">path</code>å¹¶æä¾›äº†ç»˜åˆ¶è®¾è®¡çš„æ–¹æ³•ã€‚</p><p id="3e06" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du jt ju jv jw b">moveTo()</code>æ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°:xå’Œyã€‚æˆ‘ä»¬ä»25%(0.25)çš„å®½åº¦å¼€å§‹ï¼Œé«˜åº¦ä¸º0ã€‚</p><p id="c5eb" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du jt ju jv jw b">quadraticBezierTo()</code>æ–¹æ³•é‡‡ç”¨å››ä¸ªå‚æ•°(X1ï¼ŒY1ï¼ŒX2ï¼ŒY2)ã€‚æ§åˆ¶ç‚¹æ˜¯X1å’ŒY1ã€‚æœ€åä¸€ç‚¹æ˜¯X2å’ŒY2ã€‚</p><pre class="kf kg kh ki fd kj jw kk kl aw km bi"><span id="996e" class="kn ko hi jw b fi kp kq l kr ks">myPath.quadraticBezierTo(<br/>        width * 0.7, height * 0.15, width * 0.4, height * 0.3);</span></pre><p id="dfe4" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">è¿™é‡Œï¼Œ<code class="du jt ju jv jw b">quadraticBezierTo()</code>å–X1 =å®½* 0.7ï¼ŒY1=é«˜* 0.15ä¸ºæ§åˆ¶ç‚¹ï¼Œç„¶åç”»ä¸€æ¡æ›²çº¿åˆ°ç‚¹(X2 =å®½* 0.4ï¼ŒY2 =é«˜* 0.3)ã€‚</p><p id="eec8" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">æœ€åï¼Œæˆ‘ä»¬éœ€è¦å°†<code class="du jt ju jv jw b">path</code>æ’æˆä¸€è¡Œï¼Œç”¨æˆ‘ä»¬çš„<code class="du jt ju jv jw b">paint</code>å¡«å……å®ƒã€‚</p><pre class="kf kg kh ki fd kj jw kk kl aw km bi"><span id="2d54" class="kn ko hi jw b fi kp kq l kr ks">myPath.lineTo(width * 25, 0);<br/>    myPath.lineTo(width, 0);</span></pre><p id="ee50" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><code class="du jt ju jv jw b">lineTo()</code>æ–¹æ³•å–ä¸¤ä¸ªå‚æ•°:Xå’ŒYï¼Œè¿™é‡Œ<code class="du jt ju jv jw b">lineTo()</code>ä»point (X = width * 25ï¼ŒY = 0)å¼€å§‹ï¼Œç”¨point (X = widthï¼Œheight = 0)æ’åˆ°æœ€åã€‚</p><p id="82f9" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">ç„¶åï¼Œæˆ‘ä»¬è°ƒç”¨<code class="du jt ju jv jw b">cavas</code>æ¥ä½¿ç”¨æˆ‘ä»¬å®šä¹‰çš„<code class="du jt ju jv jw b">path</code>å’Œ<code class="du jt ju jv jw b">paint</code>ç»˜åˆ¶è·¯å¾„ã€‚</p><pre class="kf kg kh ki fd kj jw kk kl aw km bi"><span id="eb5b" class="kn ko hi jw b fi kp kq l kr ks">canvas.drawPath(myPath, paint);</span></pre><p id="f800" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">ç»“æœ:</p><figure class="kf kg kh ki fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ke"><img src="../Images/d3794c01e87f437a7d139a15dd5e1de1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vtowQ6vbbpGRUUVin0Kvzg.jpeg"/></div></div><figcaption class="iq ir et er es is it bd b be z dx">final result</figcaption></figure><p id="61ce" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated"><em class="ka">è®©æˆ‘ä¸ä½ åˆ†äº«æˆ‘çš„å°ç§˜å¯†</em>ğŸ˜‰ğŸ˜Š</p><blockquote class="jx jy jz"><p id="0884" class="iv iw ka ix b iy iz ja jb jc jd je jf kb jh ji jj kc jl jm jn kd jp jq jr js hb bi translated">å½“ä½¿ç”¨è‡ªå®šä¹‰æ²¹æ¼†æ—¶ï¼Œè¯·ç¡®ä¿ç»˜åˆ¶å‡ºæ‚¨çš„è®¾è®¡è‰å›¾ã€‚è¿™å°†ä¸ºæ‚¨èŠ‚çœå¤§é‡è°ƒè¯•æ—¶é—´ğŸ˜°ã€‚</p></blockquote><p id="5f36" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">æŸ¥çœ‹æºä»£ç <a class="ae iu" href="https://github.com/funmi-cod/custompaint" rel="noopener ugc nofollow" target="_blank">è¿™é‡Œ</a>ã€‚</p><p id="8608" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†åˆ©ç”¨Stackä¸ºè¿™ä¸ªè®¾è®¡æ·»åŠ æ›´å¤šçš„åŠŸèƒ½ã€‚åœ¨é‚£é‡Œè§ğŸ˜Šï¼</p></div><div class="ab cl lt lu gp lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="hb hc hd he hf"><p id="e2a2" class="pw-post-body-paragraph iv iw hi ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hb bi translated">â¤ â¤è°¢è°¢ä½ åšæŒåˆ°æœ€åã€‚â¤â¤</p><figure class="kf kg kh ki fd ij er es paragraph-image"><div class="ab fe cl ma"><img src="../Images/5b79fcf1d3738a783dc4f84a1843e537.png" data-original-src="https://miro.medium.com/v2/0*jGRllsTCENbQqmo7"/></div></figure></div></div>    
</body>
</html>