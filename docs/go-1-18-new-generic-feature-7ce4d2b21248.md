# Go 1.18 æ–°é€šç”¨åŠŸèƒ½

> åŸæ–‡ï¼š<https://medium.com/geekculture/go-1-18-new-generic-feature-7ce4d2b21248?source=collection_archive---------5----------------------->

![](img/1cd703df53d7b735114a6b5731874fa4.png)

go generics

Go æ˜¯å¹¿æ³›ç”¨äºåˆ›å»ºå¾®æœåŠ¡å’ŒåŸºäº web çš„åº”ç”¨ç¨‹åºçš„è¯­è¨€ä¹‹ä¸€ã€‚å¤§å¤šæ•°é¡¹ç›®ç°åœ¨éƒ½åœ¨å°†ä»–ä»¬çš„ä»£ç åº“è½¬ç§»åˆ° golangã€‚go åœ¨æ ‡å‡†åº“ä¸­æä¾›çš„ç‰¹æ€§ã€æ˜“ç”¨æ€§åŠå…¶åœ¨å¤šå¤„ç†å™¨ç³»ç»Ÿä¸Šçš„å¿«é€Ÿæ‰§è¡Œæ˜¯å…¶éœ€æ±‚ä¸æ–­å¢é•¿çš„åŸå› ã€‚

è™½ç„¶ç¨‹åºå‘˜æ¥è‡ª pythonã€java ç­‰è¯­è¨€ï¼Œè¿™äº›è¯­è¨€æä¾›äº†è®¸å¤šåŠ¨æ€å‡½æ•°æ¥å¤„ç†æ•°æ®ç»“æ„ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°ç”¨æ¥ä¿®æ”¹å’Œå¤„ç†æ•°æ®ç»“æ„ï¼Œå¦‚ pushã€pop ç­‰ã€‚è€Œåœ¨ golang ä¸­ï¼Œä½ å¿…é¡»ä½¿ç”¨å¸¦æœ‰çº¿æ€§å‡½æ•°çš„åŸºæœ¬æ•°æ®ç»“æ„(å¦‚åœ¨å¾ªç¯ä¸­)æ¥ä¿®æ”¹æˆ–å¤„ç†å®ƒä»¬ï¼Œå¦‚å¤„ç†é˜Ÿåˆ—ã€å †æ ˆã€‚

ä¸ºäº†æä¾›å¤„ç†æ•°æ®ç»“æ„çš„å‡½æ•°ï¼Œgolang å›¢é˜Ÿä¸€ç›´åœ¨å¼€å‘é™æ€ç±»å‹è¯­è¨€ï¼Œä»¥åœ¨å…¶æ ‡å‡†åº“ä¸­æä¾›ç‰¹æ€§å’Œæ•°æ®ç»“æ„ï¼Œä»è€Œä½¿ python æˆ–å…¶ä»–è¯­è¨€æ›´æ˜“äºä½¿ç”¨ã€‚

åœ¨ go 1.18 çš„æ–°æ›´æ–°ä¸­æä¾›äº†ä½¿ç”¨æ³›å‹å¤„ç†ä¸åŒæ•°æ®ç±»å‹çš„ä¸€ä¸ªæœ€å¸¸è§çš„ç‰¹æ€§ã€‚å› ä¸º golang æ˜¯é™æ€è¯­è¨€ï¼Œæ‰€ä»¥å®ƒä¸èƒ½æä¾›ä¸€ä¸ªå¯ä»¥å®¹çº³å¤šç§ç±»å‹çš„åŠ¨æ€æ•°æ®ç±»å‹ã€‚ä¾‹å¦‚ï¼Œpython æä¾›äº† max å’Œ min å‡½æ•°ï¼Œç”¨äºæŸ¥æ‰¾æ•°ç»„ä¸­çš„æœ€å°æ•°å­—æˆ–æŸ¥æ‰¾ä¸¤ä¸ªå¯¹è±¡æˆ–æ•°å­—ä¸­çš„æœ€å°å€¼ã€‚è€Œåœ¨ golang çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºæ¯ä¸ªåŸè¯­ç±»å‹(int æˆ– string)åˆ›å»ºä¸¤ä¸ªç‹¬ç«‹çš„å‡½æ•°ã€‚è™½ç„¶æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥è®©æˆ‘ä»¬å°† interface ä½œä¸ºæ³›å‹ç±»å‹ä½¿ç”¨ï¼Œä½†æ˜¯å½“ä½¿ç”¨ interface æ—¶ï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦æå–åº•å±‚çš„åŸè¯­ç±»å‹æ¥æ‰§è¡Œæ‰§è¡Œï¼Œè¿™ä¹Ÿä¸æ˜¯ä¸€ç§é€šç”¨çš„åšäº‹æ–¹æ³•ã€‚

åœ¨ go 1.18 ä¸­ï¼Œå¼•å…¥äº†ä¸€äº›æ–°ç‰¹æ€§ï¼Œè¿™æ˜¯ go ç”¨æˆ·ä¸æ–­è¯¢é—®çš„é—®é¢˜ï¼Œå…¶ä¸­ä¹‹ä¸€æ˜¯å¼•å…¥æ³›å‹ã€‚go ä¸­å¼•å…¥çš„æ³›å‹ä¸ python æˆ–ä»»ä½•å…¶ä»–è¯­è¨€éƒ½ä¸ç›¸ä¼¼ï¼Œä½†å®ƒæ‰¿è¯ºäº†ç›¸åŒçš„åŠŸèƒ½ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨`any` type åœ¨å‡½æ•°ä¸­å£°æ˜ç±»å‹åŠå…¶å‚æ•°ï¼Œå¹¶åœ¨æ–¹æ³•ä¸­æä¾›ç±»å‹çš„å…ƒç±»å‹ï¼Œç„¶åå°†å…¶ç”¨äºå¤šä¸ªåŸå§‹ç±»å‹ã€‚è¿™äº›è¢«ç§°ä¸ºç±»å‹çº¦æŸï¼Œåœ¨å‚æ•°å‰ç”¨å‡½æ•°å£°æ˜ã€‚

ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œåˆ›å»ºä¸€ä¸ªæ–¹æ³•æ¥å¤„ç†åè½¬å­—ç¬¦ä¸²ï¼Œç„¶åä½¿ç”¨ä¸€ä¸ªæ³›å‹æ–¹æ³•æ¥å®ç°ç›¸åŒçš„æ•´æ•°åˆ‡ç‰‡ã€‚

åœ¨ä¸Šé¢çš„å‡½æ•°ä¸­ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªç›¸åŒçš„é€»è¾‘æ¥åè½¬æ•´æ•°åˆ‡ç‰‡ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå•ç‹¬çš„æ–¹æ³•æ¥æ¥å—ä¸åŒçš„ç±»å‹ï¼Œå³ä½¿é€»è¾‘æ˜¯ç›¸ä¼¼çš„ã€‚

æˆ‘ä»¬å¯ä»¥å°†ä¸€ä¸ªç±»å‹å£°æ˜ä¸º`any`ç±»å‹æ¥åˆ›å»ºä¸€ä¸ªæ³›å‹æ–¹æ³•ï¼Œå®ƒå¯ä»¥æ¥å—æ•´æ•°å’Œå­—ç¬¦ä¸²æ¥åˆ†åˆ«åè½¬å®ƒä»¬ã€‚è¿™å°†é€šè¿‡å£°æ˜`any`ç±»å‹çš„å…ƒç±»å‹æ¥åˆ›å»ºï¼Œå…ƒç±»å‹å°†å…·æœ‰æ•´æ•°å’Œå­—ç¬¦ä¸²çš„å€¼ç±»å‹ã€‚

Generic method implementation

åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªå•ä¸€çš„æ³›å‹å‡½æ•°æ¥å®šä¹‰ç±»å‹`any`çš„å…ƒç±»å‹ï¼Œå®ƒç”¨äºæ¥å—ä»»ä½•ç±»å‹çš„æ¥å£ã€‚è¿™å¯ç”¨äºåˆ›å»ºåœ¨å¤šç§ç±»å‹ä¸Šæä¾›ç±»ä¼¼åŠŸèƒ½çš„é€šç”¨å‡½æ•°ã€‚

ç±»å‹çº¦æŸå…è®¸æˆ‘ä»¬å£°æ˜ä¸€ä¸ªç±»å‹ä»¥åŠå‡½æ•°å‚æ•°ï¼Œå‡½æ•°å‚æ•°å¯ç”¨äºé€‚åº”åœ¨å£°æ˜çº¦æŸæ—¶å®šä¹‰çš„å¤šç§ç±»å‹ã€‚ä¾‹å¦‚:- `func SumIntsOrFloats[K comparable, V int64 | float64](m map[K]V)`

åœ¨ä¸Šè¿°å‡½æ•°ä¸­å£°æ˜çº¦æŸç±»å‹çš„å¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ä¸€ä¸ªå†…éƒ¨å®šä¹‰äº†åŸè¯­çš„æ¥å£ã€‚

```
type Number interface {
    int64 | float64
}
```

å£°æ˜åï¼Œå¯ä»¥é€šè¿‡å®šä¹‰å£°æ˜çš„å‡½æ•°çº¦æŸç±»å‹æ‰€æœŸæœ›çš„ç±»å‹æ¥è°ƒç”¨å‡½æ•°ï¼Œä¹Ÿå¯ä»¥åœ¨å¯¹æ³›å‹å‡½æ•°çš„è°ƒç”¨ä¸­è·³è¿‡ç±»å‹å‚æ•°(æ–¹æ‹¬å·ä¸­çš„ç±»å‹å)ã€‚Go ç¼–è¯‘å™¨å¯ä»¥ä»å…¶ä»–å‚æ•°ä¸­æ¨æ–­å‡ºç±»å‹å‚æ•°ã€‚

```
SumIntsOrFloats[string, int64](ints), ==> generic function call
SumIntsOrFloats[string, float64](floats))
or
SumIntsOrFloats(ints), ==> generic function call
SumIntsOrFloats(floats))
```

æˆ‘ç”¨äº†ä¸€ä¸ªç›¸åçš„ä¾‹å­æ¥æè¿°æˆ‘ä»¬å¦‚ä½•å®ç°å¥‘çº¦ç±»å‹æ¥åˆ›å»ºä¸€ä¸ªæ³›å‹å‡½æ•°ã€‚ä½†æ˜¯æœ‰è®¸å¤šå¸¸ç”¨çš„åŠŸèƒ½å¯ä»¥ç”¨ç±»ä¼¼çš„æ–¹å¼å®ç°ï¼Œå³

*   æŸ¥æ‰¾åˆ‡ç‰‡ä¸­æœ€å°/æœ€å¤§çš„å…ƒç´ 
*   æ‰¾å‡ºåˆ‡ç‰‡çš„å¹³å‡å€¼/æ ‡å‡†åå·®
*   è®¡ç®—åœ°å›¾çš„å¹¶/äº¤
*   åœ¨èŠ‚ç‚¹/è¾¹å›¾ä¸­æŸ¥æ‰¾æœ€çŸ­è·¯å¾„
*   å¯¹åˆ‡ç‰‡/å›¾åº”ç”¨å˜æ¢å‡½æ•°ï¼Œè¿”å›æ–°çš„åˆ‡ç‰‡/å›¾

> **å¦‚ä½•è”ç³»åˆ°** :-å¦‚æœ‰ç›¸å…³ç–‘é—®ï¼Œè¯·å‘é‚®ä»¶è‡³ã€himanshusdec8@gmail.comã€‘:*ã€‚*

*æ‹æ‰‹å£°ğŸ‘å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ã€‚å…³æ³¨ [Himanshu Chaudhary](https://medium.com/u/64edd4213f30?source=post_page-----7ce4d2b21248--------------------------------) è·å–æ›´å¤šå…³äºäº‘å’Œäº‘æŠ€æœ¯çš„æ–‡ç« ã€‚è°¢è°¢è¯»è€…ã€‚ğŸ™‚*

*å‚è€ƒæ–‡ä»¶çš„é“¾æ¥:-*

*   *[https://go.dev/blog/why-generics](https://go.dev/blog/why-generics)*