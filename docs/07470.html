<html>
<head>
<title>Email and Password Based Authentication with Expo and Firebase Part 3: Sign In, Forgot Password, and Update Password</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Expoå’ŒFirebaseåŸºäºç”µå­é‚®ä»¶å’Œå¯†ç çš„èº«ä»½éªŒè¯ç¬¬3éƒ¨åˆ†:ç™»å½•ã€å¿˜è®°å¯†ç å’Œæ›´æ–°å¯†ç </h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/geekculture/email-and-password-based-authentication-with-expo-and-firebase-part-3-sign-in-forgot-password-93e9958792f3?source=collection_archive---------17-----------------------#2021-09-19">https://medium.com/geekculture/email-and-password-based-authentication-with-expo-and-firebase-part-3-sign-in-forgot-password-93e9958792f3?source=collection_archive---------17-----------------------#2021-09-19</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/ee954e9a9b1d6f73f97a86a7a2e1c177.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7A_TJTaxLTTTc5IlQvb77A.png"/></div></div></figure><blockquote class="iq ir is"><p id="b9a2" class="it iu iv iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">è¿™æ˜¯ä½¿ç”¨Expoå’ŒFirebaseå±•ç¤ºåŸºäºç”µå­é‚®ä»¶å’Œå¯†ç çš„è®¤è¯çš„ç³»åˆ—åšå®¢æ–‡ç« çš„ç¬¬3/3éƒ¨åˆ†ã€‚</p><p id="2131" class="it iu iv iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><a class="ae js" rel="noopener" href="/geekculture/email-and-password-based-authentication-with-expo-and-firebase-part-1-project-setup-fef4c6766cd5">ç¬¬1éƒ¨åˆ†:é¡¹ç›®è®¾ç½®</a></p><p id="a61a" class="it iu iv iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><a class="ae js" rel="noopener" href="/geekculture/email-and-password-based-authentication-with-expo-and-firebase-part-2-sign-up-email-verification-60cc7d1f3ba6">ç¬¬2éƒ¨åˆ†:æ³¨å†Œã€ç”µå­é‚®ä»¶éªŒè¯å’Œé€€å‡º</a></p><p id="2532" class="it iu iv iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">ç¬¬3éƒ¨åˆ†:ç™»å½•ï¼Œå¿˜è®°å¯†ç ï¼Œæ›´æ–°å¯†ç (ä½ åœ¨è¿™é‡Œ)</p></blockquote><p id="72be" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jt jg jh ji ju jk jl jm jv jo jp jq jr hb bi translated">è¿™æ˜¯ä¸€ç³»åˆ—åšå®¢æ–‡ç« çš„æœ€åä¸€éƒ¨åˆ†ï¼Œæ¶µç›–äº†å¦‚ä½•ä½¿ç”¨Expoå’ŒFirebaseè®¾ç½®åŸºäºç”µå­é‚®ä»¶å’Œå¯†ç çš„èº«ä»½éªŒè¯ã€‚åœ¨è¿™ç¯‡åšæ–‡ä¸­ï¼Œæˆ‘ä»¬å°†é€šè¿‡å®ç°ç™»å½•ã€å¿˜è®°å¯†ç å’Œæ›´æ–°å¯†ç åŠŸèƒ½æ¥ç»“æŸã€‚æˆ‘ä»¬å¼€å§‹å§ï¼</p><h1 id="7fec" class="jw jx hi bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">ç­¾åˆ°</h1><p id="a1d5" class="pw-post-body-paragraph it iu hi iw b ix ku iz ja jb kv jd je jt kw jh ji ju kx jl jm jv ky jp jq jr hb bi translated">æ‚¨ç°åœ¨åº”è¯¥éå¸¸ç†Ÿæ‚‰æ¯ä¸ªç‰¹æ€§æ˜¯å¦‚ä½•å®ç°çš„ã€‚è®©æˆ‘ä»¬é¦–å…ˆåœ¨ç”¨æˆ·APIä¸­æ·»åŠ <code class="du kz la lb lc b">signIn()</code>æ–¹æ³•ï¼Œå®ƒä½¿ç”¨Firebaseçš„<code class="du kz la lb lc b">signInWithEmailAndPassword()</code>æ–¹æ³•ã€‚</p><pre class="ld le lf lg fd lh lc li lj aw lk bi"><span id="3855" class="ll jx hi lc b fi lm ln l lo lp">export const signIn = ({ email = '', password = '' }) =&gt;<br/>  firebase.auth().signInWithEmailAndPassword(email, password)</span></pre><p id="85e7" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jt jg jh ji ju jk jl jm jv jo jp jq jr hb bi translated">æ¥ä¸‹æ¥ï¼Œåˆ›å»ºâ€œç™»å½•â€åŠŸèƒ½æ–‡ä»¶å¤¹å’Œä¸€ä¸ª<code class="du kz la lb lc b">/hooks</code>ç›®å½•ã€‚åˆ›å»º<code class="du kz la lb lc b">useSignIn()</code>é’©å­<code class="du kz la lb lc b">touch src/features/sign-in/hooks/use-sign-in.js</code>å¹¶æ·»åŠ å®ƒçš„å®ç°ã€‚<code class="du kz la lb lc b">useSignIn()</code>æŒ‚é’©çš„å·¥ä½œåŸç†å’Œå…¶ä»–çš„ä¸€æ ·ï¼›å®ƒå…è®¸è®¿é—®Firebaseçš„â€œç™»å½•â€APIï¼Œå¹¶å…¬å¼€ä¸€ä¸ª<code class="du kz la lb lc b">isLoading</code>å’Œ<code class="du kz la lb lc b">error</code>çŠ¶æ€ã€‚</p><pre class="ld le lf lg fd lh lc li lj aw lk bi"><span id="aa65" class="ll jx hi lc b fi lm ln l lo lp">export const useSignIn = () =&gt; {<br/>  const [state, setState] = useState({<br/>    isLoading: false,<br/>    error: null,<br/>  })</span><span id="071f" class="ll jx hi lc b fi lq ln l lo lp">  const handleSignIn = async (values) =&gt; {<br/>    setState({ isLoading: true, error: null })</span><span id="150a" class="ll jx hi lc b fi lq ln l lo lp">    try {<br/>      await signIn(values)<br/>      setState({ isLoading: false, error: null })<br/>    } catch (error) {<br/>      setState({ isLoading: false, error })<br/>    }<br/>  }</span><span id="92a0" class="ll jx hi lc b fi lq ln l lo lp">  return [handleSignIn, { ...state }]<br/>}</span></pre><p id="2e37" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jt jg jh ji ju jk jl jm jv jo jp jq jr hb bi translated">æ¥ä¸‹æ¥ï¼Œåˆ›å»º<code class="du kz la lb lc b">/screens</code>ç›®å½•<code class="du kz la lb lc b">mkdir src/features/sign-in/screens</code>å’Œâ€œç™»å½•â€å±å¹•<code class="du kz la lb lc b">touch src/features/sign-in/screens/SignInScreen.js</code>ã€‚â€œç™»å½•â€å±å¹•é‡ç”¨äº†<code class="du kz la lb lc b">&lt;EmailAndPasswordForm/&gt;</code>ï¼Œå°†å…¶æ‰©å±•ä¸ºå¯é€‰åœ°æ”¯æŒè‡ªå®šä¹‰æäº¤æŒ‰é’®æ–‡æœ¬ã€‚è¯·æ³¨æ„ï¼Œå¦‚æœå‡ºç°ä»»ä½•é”™è¯¯ï¼Œå°†ä½¿ç”¨<code class="du kz la lb lc b">&lt;ErrorMessage/&gt;</code>ç»„ä»¶(<a class="ae js" href="https://github.com/diegocasmo/expo-firebase-authentication/blob/main/src/components/ErrorMessage.js" rel="noopener ugc nofollow" target="_blank">å®Œæ•´æºä»£ç </a>)æ¥å‘ˆç°ï¼Œè¯¥ç»„ä»¶ä»…ä½¿ç”¨æ¥è‡ª<a class="ae js" href="https://docs.nativebase.io/alert" rel="noopener ugc nofollow" target="_blank"> native-base </a>çš„<code class="du kz la lb lc b">&lt;Alert/&gt;</code>ç»„ä»¶ã€‚</p><pre class="ld le lf lg fd lh lc li lj aw lk bi"><span id="6ee2" class="ll jx hi lc b fi lm ln l lo lp">export const SignInScreen = () =&gt; {<br/>  const [signIn, { isLoading, error }] = useSignIn()</span><span id="c819" class="ll jx hi lc b fi lq ln l lo lp">  return (<br/>    &lt;Center flex={1}&gt;<br/>      &lt;VStack space={4} alignItems="center" w="90%"&gt;<br/>        &lt;ErrorMessage error={error} /&gt;<br/>        &lt;EmailAndPasswordForm<br/>          onSubmit={signIn}<br/>          isLoading={isLoading}<br/>          buttonText="Sign in"<br/>        /&gt;<br/>      &lt;/VStack&gt;<br/>    &lt;/Center&gt;<br/>  )<br/>}</span></pre><p id="5062" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jt jg jh ji ju jk jl jm jv jo jp jq jr hb bi translated">æœ€åï¼Œåœ¨è®¿å®¢å¯¼èˆªå™¨ä¸­å®šä¹‰â€œç™»å½•â€å±å¹•ã€‚</p><pre class="ld le lf lg fd lh lc li lj aw lk bi"><span id="0c79" class="ll jx hi lc b fi lm ln l lo lp">export const GuestAppNavigator = () =&gt; (<br/>  &lt;Stack.Navigator&gt;<br/>    {/* guest welcome and sign up screens omitted for brevity */}<br/>    &lt;Stack.Screen<br/>      name="SignIn"<br/>      component={SignInScreen}<br/>      options={{ title: 'Sign In' }}<br/>    /&gt;<br/>  &lt;/Stack.Navigator&gt;<br/>)</span></pre><p id="8670" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jt jg jh ji ju jk jl jm jv jo jp jq jr hb bi translated">å¯åŠ¨åº”ç”¨ç¨‹åºï¼Œå¹¶éªŒè¯æ‚¨èƒ½å¤Ÿä½¿ç”¨ç°æœ‰ç”¨æˆ·å¸æˆ·ç™»å½•ã€‚å¦‚æœç”¨æˆ·çš„ç”µå­é‚®ä»¶æœªç»éªŒè¯ï¼Œä»–ä»¬åº”è¯¥æ˜¾ç¤ºâ€œéªŒè¯ç”µå­é‚®ä»¶â€å±å¹•ï¼Œå¦åˆ™ï¼Œåº”æ˜¾ç¤ºä¸»å±å¹•ã€‚</p><h1 id="2658" class="jw jx hi bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">å¿˜è®°å¯†ç </h1><p id="f3ce" class="pw-post-body-paragraph it iu hi iw b ix ku iz ja jb kv jd je jt kw jh ji ju kx jl jm jv ky jp jq jr hb bi translated">å¿˜è®°å¯†ç åŠŸèƒ½å°†å¸®åŠ©ç”¨æˆ·åœ¨å¿˜è®°å¯†ç æ—¶æ‰¾å›ä»–ä»¬çš„å¸æˆ·ã€‚ä¸ºæ­¤ï¼Œç”¨æˆ·å°†æŒ‡å®šä»–ä»¬çš„ç”µå­é‚®ä»¶ï¼Œä»¥ä¾¿Firebaseå¯ä»¥å‘é€ä¸€ä¸ªâ€œé‡ç½®å¯†ç â€é“¾æ¥ã€‚</p><p id="006e" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jt jg jh ji ju jk jl jm jv jo jp jq jr hb bi translated">è®©æˆ‘ä»¬ä»åˆ›å»ºå‘é€å¯†ç é‡ç½®ç”µå­é‚®ä»¶çš„APIå¼€å§‹ã€‚åœ¨ç”¨æˆ·APIæ–‡ä»¶ä¸­åˆ›å»º<code class="du kz la lb lc b">sendPasswordReset()</code>æ–¹æ³•ã€‚</p><pre class="ld le lf lg fd lh lc li lj aw lk bi"><span id="93b2" class="ll jx hi lc b fi lm ln l lo lp">export const sendPasswordReset = ({ email = '' }) =&gt;<br/>  firebase.auth().sendPasswordResetEmail(email)</span></pre><p id="2619" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jt jg jh ji ju jk jl jm jv jo jp jq jr hb bi translated">æ¥ä¸‹æ¥ï¼Œåˆ›å»ºå¿˜è®°å¯†ç ç‰¹å¾ç›®å½•<code class="du kz la lb lc b">mkdir -p src/features/forgot-password/hooks</code>å’Œ<code class="du kz la lb lc b">usePasswordReset()</code>é’©å­æ–‡ä»¶<code class="du kz la lb lc b">touch src/features/forgot-password/hooks/use-password-reset.js</code>ã€‚ä¸æœ¬ç³»åˆ—ä¸­åˆ›å»ºçš„æ‰€æœ‰å…¶ä»–é’©å­ç›¸ä¼¼ï¼Œ<code class="du kz la lb lc b">usePasswordReset()</code>é’©å­è°ƒç”¨ç”¨æˆ·APIæ–¹æ³•å¹¶è·Ÿè¸ªå…¶<code class="du kz la lb lc b">isLoading</code> / <code class="du kz la lb lc b">error</code>çŠ¶æ€ã€‚</p><pre class="ld le lf lg fd lh lc li lj aw lk bi"><span id="ee77" class="ll jx hi lc b fi lm ln l lo lp">export const usePasswordReset = () =&gt; {<br/>  const [state, setState] = useState({<br/>    isLoading: false,<br/>    error: null,<br/>  })</span><span id="4508" class="ll jx hi lc b fi lq ln l lo lp">  const handlePasswordReset = async (values) =&gt; {<br/>    setState({ isLoading: true, error: null })</span><span id="8b43" class="ll jx hi lc b fi lq ln l lo lp">    try {<br/>      await sendPasswordReset(values)<br/>      setState({ isLoading: false, error: null })<br/>    } catch (error) {<br/>      setState({ isLoading: false, error })<br/>      throw error<br/>    }<br/>  }</span><span id="2fe7" class="ll jx hi lc b fi lq ln l lo lp">  return [handlePasswordReset, { ...state }]<br/>}</span></pre><p id="d0aa" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jt jg jh ji ju jk jl jm jv jo jp jq jr hb bi translated">æ¥ä¸‹æ¥ï¼Œä½¿ç”¨ä¸€ä¸ªæŒ‰é’®æ‰©å±•ç™»å½•å±å¹•ï¼Œè¯¥æŒ‰é’®ä¼šå°†ç”¨æˆ·é‡å®šå‘åˆ°å°šæœªåˆ›å»ºçš„å¿˜è®°å¯†ç å±å¹•ã€‚</p><pre class="ld le lf lg fd lh lc li lj aw lk bi"><span id="737e" class="ll jx hi lc b fi lm ln l lo lp">export const SignInScreen = ({ navigation }) =&gt; {<br/>  const handlePressOnForgotPassword = () =&gt; {<br/>    navigation.navigate('ForgotPassword')<br/>  }</span><span id="a201" class="ll jx hi lc b fi lq ln l lo lp">  return (<br/>    &lt;Center flex={1}&gt;<br/>      &lt;VStack space={4} alignItems="center" w="90%"&gt;<br/>        {/* Existing code omitted for brevity */}<br/>        &lt;Button onPress={handlePressOnForgotPassword}&gt;Forgot password&lt;/Button&gt;<br/>      &lt;/VStack&gt;<br/>    &lt;/Center&gt;<br/>  )<br/>}</span></pre><p id="9343" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jt jg jh ji ju jk jl jm jv jo jp jq jr hb bi translated">ç¡®ä¿åœ¨è®¿å®¢å¯¼èˆªå™¨å †æ ˆä¸­å®šä¹‰äº†å¿˜è®°å¯†ç å±å¹•ã€‚</p><pre class="ld le lf lg fd lh lc li lj aw lk bi"><span id="ba0e" class="ll jx hi lc b fi lm ln l lo lp">export const GuestAppNavigator = () =&gt; (<br/>  &lt;Stack.Navigator&gt;<br/>    {/* Existing screens omitted for brevity */}<br/>    &lt;Stack.Screen<br/>      name="ForgotPassword"<br/>      component={ForgotPasswordScreen}<br/>      options={{ title: 'Forgot Password' }}<br/>    /&gt;<br/>  &lt;/Stack.Navigator&gt;<br/>)</span></pre><p id="6f4d" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jt jg jh ji ju jk jl jm jv jo jp jq jr hb bi translated">å¿˜è®°å¯†ç å±å¹•ä½¿ç”¨äº†ä¸€ä¸ª<code class="du kz la lb lc b">&lt;EmailForm/&gt;</code>ç»„ä»¶(<a class="ae js" href="https://github.com/diegocasmo/expo-firebase-authentication/blob/main/src/features/forgot-password/components/EmailForm.js" rel="noopener ugc nofollow" target="_blank">å®Œæ•´æºä»£ç ï¼Œæ­¤å¤„ä¸º</a>)ï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ªç”µå­é‚®ä»¶è¾“å…¥å’Œä¸€ä¸ªéœ€è¦ä¸<code class="du kz la lb lc b">usePasswordReset()</code>æŒ‚é’©è¿æ¥çš„æäº¤æŒ‰é’®ã€‚åˆ›å»ºå¿˜è®°å¯†ç å±å¹•ç›®å½•<code class="du kz la lb lc b">mkdir src/features/forgot-password/screens</code>åŠå…¶æ–‡ä»¶<code class="du kz la lb lc b">touch src/features/forgot-password/screens/ForgotPasswordScreen.js</code>å¹¶å¡«å†™ã€‚</p><pre class="ld le lf lg fd lh lc li lj aw lk bi"><span id="44af" class="ll jx hi lc b fi lm ln l lo lp">export const ForgotPasswordScreen = ({ navigation }) =&gt; {<br/>  const [sendPasswordReset, { isLoading, error }] = usePasswordReset()</span><span id="9657" class="ll jx hi lc b fi lq ln l lo lp">  const handlePasswordReset = async (values) =&gt; {<br/>    try {<br/>      await sendPasswordReset(values)<br/>      navigation.navigate('SignIn')<br/>    } catch (err) {<br/>      console.error(err.message)<br/>    }<br/>  }</span><span id="8ddc" class="ll jx hi lc b fi lq ln l lo lp">  return (<br/>    &lt;Center flex={1}&gt;<br/>      &lt;VStack space={4} alignItems="center" w="90%"&gt;<br/>        &lt;Text&gt;<br/>          Please, enter your email address. You will receive link to create a new<br/>          password via email.<br/>        &lt;/Text&gt;<br/>        &lt;ErrorMessage error={error} /&gt;<br/>        &lt;EmailForm onSubmit={handlePasswordReset} isLoading={isLoading} /&gt;<br/>      &lt;/VStack&gt;<br/>    &lt;/Center&gt;<br/>  )<br/>}</span></pre><p id="1ec9" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jt jg jh ji ju jk jl jm jv jo jp jq jr hb bi translated">ç”¨æˆ·ç°åœ¨åº”è¯¥èƒ½å¤Ÿé€šè¿‡åœ¨è¡¨å•ä¸­è¾“å…¥ä»–ä»¬çš„ç”µå­é‚®ä»¶æ¥é‡ç½®ä»–ä»¬çš„å¯†ç ï¼Œå¹¶ä½¿ç”¨é€šè¿‡ç”µå­é‚®ä»¶å‘é€ç»™ä»–ä»¬çš„é‡ç½®å¯†ç é“¾æ¥ã€‚</p><h1 id="2759" class="jw jx hi bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">æ›´æ–°å¯†ç </h1><p id="be52" class="pw-post-body-paragraph it iu hi iw b ix ku iz ja jb kv jd je jt kw jh ji ju kx jl jm jv ky jp jq jr hb bi translated">æ›´æ–°å¯†ç åŠŸèƒ½å…è®¸ç”¨æˆ·æ›´æ”¹ä»–ä»¬çš„å¯†ç ã€‚ä¸ºæ­¤ï¼Œç”¨æˆ·å°†é¦–å…ˆéœ€è¦é‡æ–°è®¤è¯ï¼Œä»¥ä¾¿å½“å‰ç™»å½•çš„ç”¨æˆ·å¯ä»¥éªŒè¯ä»–ä»¬ç¡®å®æ˜¯æƒ³è¦æ‰§è¡Œæ›´æ”¹çš„äººï¼Œåªæœ‰è¿™æ ·ï¼Œä»–ä»¬æ‰è¢«å…è®¸æ›´æ–°ä»–ä»¬çš„å¯†ç ã€‚</p><p id="116d" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jt jg jh ji ju jk jl jm jv jo jp jq jr hb bi translated">é¦–å…ˆåœ¨ä¸»å±å¹•ä¸­æ·»åŠ ä¸€ä¸ªæŒ‰é’®ï¼Œè¯¥æŒ‰é’®é‡å®šå‘åˆ°å°šæœªå®šä¹‰çš„é‡æ–°è®¤è¯å±å¹•ã€‚</p><pre class="ld le lf lg fd lh lc li lj aw lk bi"><span id="dc5f" class="ll jx hi lc b fi lm ln l lo lp">export const HomeScreen = ({ navigation }) =&gt; {<br/>  const handlePressOnUpdatePassword = () =&gt; {<br/>    navigation.navigate('Reauthenticate')<br/>  }</span><span id="b3a9" class="ll jx hi lc b fi lq ln l lo lp">  return (<br/>    &lt;Center flex={1}&gt;<br/>      &lt;VStack space={4} alignItems="center" w="90%"&gt;<br/>        &lt;Button onPress={handlePressOnUpdatePassword}&gt;Update password&lt;/Button&gt;<br/>        {/* Existing code omitted for brevitiy */}<br/>      &lt;/VStack&gt;<br/>    &lt;/Center&gt;<br/>  )<br/>}</span></pre><p id="ed5a" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jt jg jh ji ju jk jl jm jv jo jp jq jr hb bi translated">æ¥ä¸‹æ¥ï¼Œå°†é‡æ–°è®¤è¯å±å¹•æ·»åŠ åˆ°å·²éªŒè¯çš„åº”ç”¨å¯¼èˆªå™¨ã€‚</p><pre class="ld le lf lg fd lh lc li lj aw lk bi"><span id="7877" class="ll jx hi lc b fi lm ln l lo lp">export const VerifiedAppNavigator = () =&gt; (<br/>  &lt;Stack.Navigator&gt;<br/>    &lt;Stack.Screen<br/>      name="Reauthenticate"<br/>      component={ReauthenticateScreen}<br/>      options={{ title: 'Sign in' }}<br/>    /&gt;<br/>    {/* Existing code omitted for brevitiy */}<br/>  &lt;/Stack.Navigator&gt;<br/>)</span></pre><p id="63ee" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jt jg jh ji ju jk jl jm jv jo jp jq jr hb bi translated">æ¥ä¸‹æ¥ï¼Œé€šè¿‡è¿è¡Œ<code class="du kz la lb lc b">mkdir -p src/features/update-password/screens</code>å’Œä½¿ç”¨<code class="du kz la lb lc b">touch src/features/update-password/screens/ReauthenticateScreen.js</code>çš„é‡æ–°è®¤è¯å±å¹•æ¥åˆ›å»ºæ›´æ–°å¯†ç ç‰¹æ€§ç›®å½•ã€‚ä¸ºäº†é‡æ–°è®¤è¯ç”¨æˆ·ï¼Œåœ¨ç”¨æˆ·APIæ–‡ä»¶ä¸­åˆ›å»º<code class="du kz la lb lc b">reauthenticate</code>æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä½¿ç”¨Firebaseçš„<code class="du kz la lb lc b">reauthenticateWithCredential</code>æ–¹æ³•ã€‚</p><pre class="ld le lf lg fd lh lc li lj aw lk bi"><span id="08d2" class="ll jx hi lc b fi lm ln l lo lp">export const reauthenticate = ({ email = '', password = '' }) =&gt;<br/>  getUser().reauthenticateWithCredential(<br/>    firebase.auth.EmailAuthProvider.credential(email, password)<br/>  )</span></pre><p id="5f8c" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jt jg jh ji ju jk jl jm jv jo jp jq jr hb bi translated">ä¸€æ—¦å®šä¹‰äº†APIæ–¹æ³•ï¼Œå°±å¯ä»¥é€šè¿‡è¿è¡Œ<code class="du kz la lb lc b">mkdir -p src/features/update-password/hooks</code>å’Œ<code class="du kz la lb lc b">touch src/features/update-password/hooks/use-reauthenticate.js</code>æ¥åˆ›å»º<code class="du kz la lb lc b">useReauthenticate()</code>é’©å­ä»¥æ–¹ä¾¿åœ°è®¿é—®å®ƒã€‚è¯·æ³¨æ„ï¼Œå¦‚æœåœ¨æ‰§è¡Œæ“ä½œæ—¶å‡ºç°å¼‚å¸¸ï¼Œå®ƒæ˜¯å¦‚ä½•å†æ¬¡æŠ›å‡ºé”™è¯¯çš„ã€‚</p><pre class="ld le lf lg fd lh lc li lj aw lk bi"><span id="d611" class="ll jx hi lc b fi lm ln l lo lp">export const useReauthenticate = () =&gt; {<br/>  const [state, setState] = useState({<br/>    isLoading: false,<br/>    error: null,<br/>  })</span><span id="51e5" class="ll jx hi lc b fi lq ln l lo lp">  const handleReauthenticate = async (values) =&gt; {<br/>    setState({ isLoading: true, error: null })</span><span id="fb08" class="ll jx hi lc b fi lq ln l lo lp">    try {<br/>      await reauthenticate(values)<br/>      setState({ isLoading: false, error: null })<br/>    } catch (error) {<br/>      setState({ isLoading: false, error })<br/>      throw error<br/>    }<br/>  }</span><span id="0cf9" class="ll jx hi lc b fi lq ln l lo lp">  return [handleReauthenticate, { ...state }]<br/>}</span></pre><p id="fd13" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jt jg jh ji ju jk jl jm jv jo jp jq jr hb bi translated">æœ€åï¼Œåœ¨é‡æ–°è®¤è¯å±å¹•ä¸­ä½¿ç”¨<code class="du kz la lb lc b">useReauthenticate()</code>é’©å­ï¼Œå®ƒçš„å·¥ä½œæ–¹å¼ä¸ç™»å½•å±å¹•éå¸¸ç›¸ä¼¼ï¼Œä½†æ˜¯å®ƒä¼šé‡æ–°è®¤è¯ç”¨æˆ·ã€‚å¦‚æœç”¨æˆ·é‡æ–°éªŒè¯æˆåŠŸï¼Œä»–ä»¬å°†è¢«é‡å®šå‘åˆ°â€œæ›´æ–°å¯†ç â€å±å¹•ã€‚</p><pre class="ld le lf lg fd lh lc li lj aw lk bi"><span id="d2e1" class="ll jx hi lc b fi lm ln l lo lp">export const ReauthenticateScreen = ({ navigation }) =&gt; {<br/>  const [reauthenticate, { isLoading, error }] = useReauthenticate()</span><span id="0b74" class="ll jx hi lc b fi lq ln l lo lp">  const handleReauthenticate = async (values) =&gt; {<br/>    try {<br/>      await reauthenticate(values)<br/>      navigation.navigate('UpdatePassword')<br/>    } catch (err) {<br/>      console.error(err.message)<br/>    }<br/>  }</span><span id="19be" class="ll jx hi lc b fi lq ln l lo lp">  return (<br/>    &lt;Center flex={1}&gt;<br/>      &lt;VStack space={4} alignItems="center" w="90%"&gt;<br/>        &lt;ErrorMessage error={error} /&gt;<br/>        &lt;EmailAndPasswordForm<br/>          onSubmit={handleReauthenticate}<br/>          isLoading={isLoading}<br/>          buttonText="Re-authenticate"<br/>        /&gt;<br/>      &lt;/VStack&gt;<br/>    &lt;/Center&gt;<br/>  )<br/>}</span></pre><p id="e10b" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jt jg jh ji ju jk jl jm jv jo jp jq jr hb bi translated">åˆ°ç›®å‰ä¸ºæ­¢ï¼Œç”¨æˆ·åº”è¯¥èƒ½å¤Ÿåœ¨ä¸»å±å¹•ä¸­å•å‡»â€œæ›´æ–°å¯†ç â€ï¼Œåœ¨é‡æ–°éªŒè¯å±å¹•ä¸­é‡æ–°éªŒè¯ä»–ä»¬çš„å¸æˆ·ï¼Œå¦‚æœæˆåŠŸï¼Œå°†è¢«é‡å®šå‘åˆ°æ›´æ–°å¯†ç å±å¹•ã€‚</p><p id="c3e1" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jt jg jh ji ju jk jl jm jv jo jp jq jr hb bi translated">ä¸ºäº†å…è®¸ç”¨æˆ·åœ¨æˆåŠŸåœ°é‡æ–°è®¤è¯åæ›´æ–°ä»–ä»¬çš„å¯†ç ï¼Œè®©æˆ‘ä»¬æ¥å®šä¹‰å°†ç”¨äºæ›´æ–°å¯†ç çš„APIæ–¹æ³•ã€‚åœ¨ç”¨æˆ·APIæ–‡ä»¶ä¸­ï¼Œå®šä¹‰<code class="du kz la lb lc b">updatePassword()</code>æ–¹æ³•ã€‚</p><pre class="ld le lf lg fd lh lc li lj aw lk bi"><span id="a424" class="ll jx hi lc b fi lm ln l lo lp">export const updatePassword = ({ password = '' }) =&gt;<br/>  getUser().updatePassword(password)</span></pre><p id="992f" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jt jg jh ji ju jk jl jm jv jo jp jq jr hb bi translated">æ¥ä¸‹æ¥ï¼Œä¸ºå®ƒåˆ›å»ºä¸€ä¸ªé’©å­<code class="du kz la lb lc b">touch src/features/update-password/hooks/use-update-password.js</code></p><pre class="ld le lf lg fd lh lc li lj aw lk bi"><span id="f3c6" class="ll jx hi lc b fi lm ln l lo lp">export const useUpdatePassword = () =&gt; {<br/>  const [state, setState] = useState({<br/>    isLoading: false,<br/>    error: null,<br/>  })</span><span id="74ef" class="ll jx hi lc b fi lq ln l lo lp">  const handleUpdatePassword = async (values) =&gt; {<br/>    setState({ isLoading: true, error: null })</span><span id="dafe" class="ll jx hi lc b fi lq ln l lo lp">    try {<br/>      await updatePassword(values)<br/>      setState({ isLoading: false, error: null })<br/>    } catch (error) {<br/>      setState({ isLoading: false, error })<br/>      throw error<br/>    }<br/>  }</span><span id="3d4d" class="ll jx hi lc b fi lq ln l lo lp">  return [handleUpdatePassword, { ...state }]<br/>}</span></pre><p id="b541" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jt jg jh ji ju jk jl jm jv jo jp jq jr hb bi translated">éšåï¼Œåœ¨æ›´æ–°å¯†ç åŠŸèƒ½ç›®å½•<code class="du kz la lb lc b">touch src/features/update-password/screens/UpdatePasswordScreen.js</code>ä¸­åˆ›å»ºæ›´æ–°å¯†ç å±å¹•ã€‚æ›´æ–°å¯†ç å±å¹•å°†å‘ˆç°<code class="du kz la lb lc b">&lt;UpdatePasswordForm/&gt;</code> ( <a class="ae js" href="https://github.com/diegocasmo/expo-firebase-authentication/blob/main/src/features/reset-password/components/UpdatePasswordForm.js" rel="noopener ugc nofollow" target="_blank">å®Œæ•´æºä»£ç </a>)å¹¶ä½¿ç”¨<code class="du kz la lb lc b">useUpdatePassword()</code>æŒ‚é’©è®¾ç½®æ–°çš„ç”¨æˆ·å¯†ç ï¼Œå¦‚æœæˆåŠŸï¼Œé‡å®šå‘åˆ°å¯¼èˆªå †æ ˆçš„é¡¶éƒ¨(ä¸»å±å¹•)ã€‚</p><pre class="ld le lf lg fd lh lc li lj aw lk bi"><span id="f0a9" class="ll jx hi lc b fi lm ln l lo lp">export const UpdatePasswordScreen = ({ navigation }) =&gt; {<br/>  const [updatePassword, { isLoading, error }] = useUpdatePassword()</span><span id="535a" class="ll jx hi lc b fi lq ln l lo lp">  const handleUpdatePassword = async (values) =&gt; {<br/>    try {<br/>      await updatePassword(values)<br/>      navigation.popToTop()<br/>    } catch (err) {<br/>      console.error(err.message)<br/>    }<br/>  }</span><span id="70c9" class="ll jx hi lc b fi lq ln l lo lp">  return (<br/>    &lt;Center flex={1}&gt;<br/>      &lt;VStack space={4} alignItems="center" w="90%"&gt;<br/>        &lt;ErrorMessage error={error} /&gt;<br/>        &lt;UpdatePasswordForm<br/>          onSubmit={handleUpdatePassword}<br/>          isLoading={isLoading}<br/>        /&gt;<br/>      &lt;/VStack&gt;<br/>    &lt;/Center&gt;<br/>  )<br/>}</span></pre><p id="3890" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jt jg jh ji ju jk jl jm jv jo jp jq jr hb bi translated">æœ€åï¼Œå°†æ›´æ–°å¯†ç å±å¹•æ·»åŠ åˆ°å·²éªŒè¯çš„åº”ç”¨å¯¼èˆªå™¨ä¸­ã€‚</p><pre class="ld le lf lg fd lh lc li lj aw lk bi"><span id="db5f" class="ll jx hi lc b fi lm ln l lo lp">export const VerifiedAppNavigator = () =&gt; (<br/>  &lt;Stack.Navigator&gt;<br/>    {/* Existing code omitted for brevitiy */}<br/>    &lt;Stack.Screen<br/>      name="UpdatePassword"<br/>      component={UpdatePasswordScreen}<br/>      options={{ title: 'Update Password' }}<br/>    /&gt;<br/>  &lt;/Stack.Navigator&gt;<br/>)</span></pre><p id="b013" class="pw-post-body-paragraph it iu hi iw b ix iy iz ja jb jc jd je jt jg jh ji ju jk jl jm jv jo jp jq jr hb bi translated">å°±æ˜¯è¿™æ ·ï¼ä¸€æ—¦é‡æ–°è®¤è¯ï¼Œåº”ç”¨ç¨‹åºçš„ç”¨æˆ·ç°åœ¨å¯ä»¥æ›´æ–°ä»–ä»¬çš„å¯†ç ã€‚</p><h1 id="f064" class="jw jx hi bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt bi translated">ç»“è®º</h1><p id="bb78" class="pw-post-body-paragraph it iu hi iw b ix ku iz ja jb kv jd je jt kw jh ji ju kx jl jm jv ky jp jq jr hb bi translated">è¿™æ˜¯ä¸€ç³»åˆ—åšå®¢æ–‡ç« çš„æœ€åä¸€éƒ¨åˆ†ï¼Œæ¶µç›–äº†å¦‚ä½•ä½¿ç”¨Expoå’ŒFirebaseè®¾ç½®åŸºäºç”µå­é‚®ä»¶å’Œå¯†ç çš„èº«ä»½éªŒè¯ã€‚å¼€å‘çš„åº”ç”¨ç¨‹åºæ”¯æŒæ³¨å†Œã€ç™»å½•ã€æ³¨é”€ã€ç”µå­é‚®ä»¶éªŒè¯ã€å¿˜è®°å¯†ç å’Œæ›´æ–°å¯†ç ã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿åœ¨ä¸‹é¢å‘è¡¨é—®é¢˜æˆ–è¯„è®ºï¼Œæˆ–è€…åœ¨é¡¹ç›®çš„<a class="ae js" href="https://github.com/diegocasmo/expo-firebase-authentication" rel="noopener ugc nofollow" target="_blank"> GitHubåº“</a>ä¸­æå‡ºé—®é¢˜ï¼›æˆ‘å¾ˆä¹æ„å¸®åŠ©è§£å†³ä»»ä½•é—®é¢˜ğŸ™‚ã€‚</p></div></div>    
</body>
</html>