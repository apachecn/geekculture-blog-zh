<html>
<head>
<title>Xcode 13.3 supports SPM binary dependency in private GitHub release</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Xcode 13.3æ”¯æŒç§æœ‰GitHubç‰ˆæœ¬ä¸­çš„SPMäºŒè¿›åˆ¶ä¾èµ–</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/geekculture/xcode-13-3-supports-spm-binary-dependency-in-private-github-release-8d60a47d5e45?source=collection_archive---------2-----------------------#2022-04-15">https://medium.com/geekculture/xcode-13-3-supports-spm-binary-dependency-in-private-github-release-8d60a47d5e45?source=collection_archive---------2-----------------------#2022-04-15</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="8aef" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">åœ¨è¿™ç¯‡åšæ–‡ä¸­ï¼Œæˆ‘å°†åˆ†äº«ä¸€ä¸ªåœ¨<a class="ae jd" href="https://developer.apple.com/documentation/Xcode-Release-Notes/xcode-13_3-release-notes" rel="noopener ugc nofollow" target="_blank"> Xcode 13.3å‘è¡Œè¯´æ˜</a>ä¸­æ²¡æœ‰æåˆ°çš„æ–°åŠŸèƒ½çš„ç»†èŠ‚ã€‚å½“å¼€å‘ä¸“æœ‰çš„ã€å°é—­æºä»£ç çš„åº“æ—¶ï¼Œéœ€è¦å°†ä»£ç ä½œä¸ºäºŒè¿›åˆ¶æ–‡ä»¶æä¾›ä»¥ä¿æŠ¤å…¶çŸ¥è¯†äº§æƒçš„å¼€å‘äººå‘˜ä¼šå¯¹è¿™ä¸ªç‰¹æ€§æ„Ÿå…´è¶£ã€‚</p><p id="20aa" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è¦ä»¥äºŒè¿›åˆ¶å½¢å¼ä½œä¸ºSwiftåŒ…åˆ†å‘ä»£ç ï¼Œè¯·åˆ›å»ºä¸€ä¸ªåŒ…å«äºŒè¿›åˆ¶æ–‡ä»¶çš„XCFrameworkåŒ…ã€‚ç„¶åï¼Œä½¿è¿™ä¸ªåŒ…åœ¨æœ¬åœ°æˆ–æœåŠ¡å™¨ä¸Šå¯ç”¨ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªåˆ†å‘å­˜å‚¨åœ¨æœåŠ¡å™¨ä¸Šçš„äºŒè¿›åˆ¶æ¡†æ¶çš„<code class="du je jf jg jh b">Package.swift</code>æ¸…å•ç¤ºä¾‹:</p><pre class="ji jj jk jl fd jm jh jn jo aw jp bi"><span id="6db3" class="jq jr hi jh b fi js jt l ju jv">// swift-tools-version:5.3<br/>import PackageDescription</span><span id="1cb3" class="jq jr hi jh b fi jw jt l ju jv">let package = Package(<br/>    name: "MyLibrary",<br/>    platforms: [<br/>        .macOS(.v10_14), .iOS(.v13), .tvOS(.v13)<br/>    ],<br/>    products: [<br/>        .library(<br/>            name: "MyLibrary",<br/>            targets: ["SomeRemoteBinaryPackage"])<br/>    ],<br/>    dependencies: [],<br/>    targets: [<br/>        .binaryTarget(<br/>            name: "SomeRemoteBinaryPackage",<br/>            url: "<a class="ae jd" href="https://url/to/some/remote/xcframework.zip" rel="noopener ugc nofollow" target="_blank">https://url/to/some/remote/xcframework.zip</a>",<br/>            checksum: "The checksum of the ZIP archive that contains the XCFramework."<br/>        )<br/>    ]<br/>)</span></pre><p id="3e1b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">xcframework.zipæ–‡ä»¶éœ€è¦åœ¨æœåŠ¡å™¨ä¸Šå…¬å¼€è®¿é—®ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨éœ€è¦å°†å…¬å…±è®¿é—®é™åˆ¶ä¸ºç»è¿‡èº«ä»½éªŒè¯çš„ç”¨æˆ·ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><p id="0fdd" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><code class="du je jf jg jh b">.netrc</code>æ–‡ä»¶æ ¼å¼é€šå¸¸ç”¨äºHTTPè¯·æ±‚çš„è‡ªåŠ¨è®¤è¯ã€‚</p><pre class="ji jj jk jl fd jm jh jn jo aw jp bi"><span id="d19f" class="jq jr hi jh b fi js jt l ju jv">machine &lt;example.com&gt; login &lt;my-user-name&gt; password &lt;my-password&gt;</span></pre><p id="9a83" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å®ƒé€šå¸¸é©»ç•™åœ¨ç”¨æˆ·çš„ä¸»ç›®å½•ä¸­(<code class="du je jf jg jh b">~/.netrc</code>)ã€‚é€šè¿‡é˜…è¯»<a class="ae jd" href="https://www.gnu.org/software/inetutils/manual/html_node/The-_002enetrc-file.html" rel="noopener ugc nofollow" target="_blank"> gnuæ–‡æ¡£</a>äº†è§£æ›´å¤šå…³äºnetrcçš„ä¿¡æ¯ã€‚</p><p id="72c9" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æˆ‘ä»¥å‰çš„åŒäº‹<a class="ae jd" href="https://twitter.com/StadelmanStan" rel="noopener ugc nofollow" target="_blank"> Stan Stadelman </a>å°†<code class="du je jf jg jh b">netrc</code>å¼•å…¥SPMï¼Œä»¥æ”¯æŒé¢å‘égitäºŒè¿›åˆ¶ä¾èµ–ä¸»æœºçš„åŸºæœ¬èº«ä»½éªŒè¯ã€‚</p><div class="jx jy ez fb jz ka"><a href="https://github.com/apple/swift-package-manager/pull/2833" rel="noopener  ugc nofollow" target="_blank"><div class="kb ab dw"><div class="kc ab kd cl cj ke"><h2 class="bd hj fi z dy kf ea eb kg ed ef hh bi translated">é€šè¿‡sstadelman Pullè¯·æ±‚#2833æ·»åŠ å¯¹Netrcä¸‹è½½ç¨‹åºçš„æ”¯æŒâ€¦</h2><div class="kh l"><h3 class="bd b fi z dy kf ea eb kg ed ef dx translated">å®ç°äº†å¯¹netrcæ–‡ä»¶çš„å¤„ç†ã€‚åŒ¹é…äºŒè¿›åˆ¶å·¥ä»¶ä¸»æœºçš„è¿æ¥è®¾ç½®ï¼Œå¹¶è¿”å›åŸºæœ¬â€¦</h3></div><div class="ki l"><p class="bd b fp z dy kf ea eb kg ed ef dx translated">github.com</p></div></div><div class="kj l"><div class="kk l kl km kn kj ko kp ka"/></div></div></a></div><p id="a838" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ç”¨æˆ·æ— éœ€é€‰æ‹©ä½¿ç”¨netrcï¼Œå› ä¸ºåœ¨Swift Package Manager ä¸­é»˜è®¤æƒ…å†µä¸‹<a class="ae jd" href="https://github.com/apple/swift-package-manager/blob/5a94f3c4625158c4dd8da6c92b6800ce2cc0e1e7/Sources/Commands/Options.swift#L144" rel="noopener ugc nofollow" target="_blank">é€‰é¡¹æ˜¯æ‰“å¼€çš„ã€‚</a></p><pre class="ji jj jk jl fd jm jh jn jo aw jp bi"><span id="bf90" class="jq jr hi jh b fi js jt l ju jv">    /// Whether to load .netrc files for authenticating with remote servers<br/>    /// when downloading binary artifacts or communicating with a registry.<br/>    <a class="ae jd" href="http://twitter.com/Flag" rel="noopener ugc nofollow" target="_blank">@Flag</a>(inversion: .prefixedEnableDisable,<br/>          exclusivity: .exclusive,<br/>          help: "Load credentials from a .netrc file")<br/>    var netrc: Bool = true</span></pre><p id="84da" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">SPMå°†è‡ªåŠ¨æ£€æµ‹<code class="du je jf jg jh b">.netrc</code>æ–‡ä»¶å¹¶åº”ç”¨æ‰€éœ€çš„<code class="du je jf jg jh b">Authentication</code>æ ‡é¢˜ã€‚æ­¤å¤–ï¼Œé€šè¿‡é€‰é¡¹<code class="du je jf jg jh b">netrc-file &lt;netrc-file&gt;</code>ï¼Œæ‚¨å¯ä»¥æŒ‡å®šä¸åŒçš„ä½ç½®ã€‚</p><p id="e9d2" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Xcode 12.5æä¾›äº†è¿™é¡¹åŠŸèƒ½ã€‚ç„¶è€Œï¼Œç¤¾åŒºæŒ‡å‡ºè¿™å¹¶ä¸<a class="ae jd" href="https://forums.swift.org/t/spm-binary-dependency-in-private-github-release/52514/3" rel="noopener ugc nofollow" target="_blank">å¯¹ä¸€ä¸ªç§æœ‰çš„GitHubç‰ˆæœ¬</a>æœ‰æ•ˆã€‚</p><p id="a337" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">é¦–å…ˆï¼Œæ‚¨ä¸èƒ½ä½¿ç”¨æµè§ˆå™¨ä¸‹è½½URLï¼Œå› ä¸ºHTTPè¯·æ±‚ä¼šå¯¼è‡´302é‡å®šå‘ã€‚æ‚¨å¿…é¡»<a class="ae jd" href="https://forums.swift.org/t/spm-support-basic-auth-for-non-git-binary-dependency-hosts/37878/35" rel="noopener ugc nofollow" target="_blank">æŸ¥æ‰¾èµ„äº§åç§°</a>ï¼Œç„¶åä½¿ç”¨èµ„äº§urlã€‚</p><ul class=""><li id="3221" class="kq kr hi ih b ii ij im in iq ks iu kt iy ku jc kv kw kx ky bi translated">ä¸æ­£ç¡®çš„ç½‘å€:<code class="du je jf jg jh b"><a class="ae jd" href="https://github.com/:owner/:repo/releases/download/:tag/some.xcframework.zip" rel="noopener ugc nofollow" target="_blank">https://github.com/:owner/:repo/releases/download/:tag/some.xcframework.zip</a></code></li><li id="840d" class="kq kr hi ih b ii kz im la iq lb iu lc iy ld jc kv kw kx ky bi translated">æ­£ç¡®çš„ç½‘å€:<code class="du je jf jg jh b"><a class="ae jd" href="https://api.github.com/repos/:owner/:repo/releases/assets/\(assetId).zip" rel="noopener ugc nofollow" target="_blank">https://api.github.com/repos/:owner/:repo/releases/assets/\(assetId).zip</a></code></li></ul><p id="f9a8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä½†æ›´é‡è¦çš„æ˜¯ï¼Œè¿˜æœ‰ä¸€ä¸ªSPMæ²¡æœ‰æ„è¯†åˆ°çš„é—®é¢˜ã€‚</p><pre class="ji jj jk jl fd jm jh jn jo aw jp bi"><span id="2e03" class="jq jr hi jh b fi js jt l ju jv">// netrc support is NOT enough to make this work for a private repo asset<br/>.binaryTarget(<br/>    name: privateName,<br/>    url: "<a class="ae jd" href="https://api.github.com/repos/:owner/:repo/releases/assets/\(assetId).zip" rel="noopener ugc nofollow" target="_blank">https://api.github.com/repos/:owner/:repo/releases/assets/\(assetId).zip</a>",<br/>    checksum: checksum<br/>)</span></pre><p id="be03" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae jd" href="https://docs.github.com/en/rest/reference/releases#get-a-release-asset" rel="noopener ugc nofollow" target="_blank"> Github API </a>å£°æ˜ä¸‹è½½èµ„äº§çš„äºŒè¿›åˆ¶å†…å®¹éœ€è¦å¯¹<code class="du je jf jg jh b">application/octet-stream</code>çš„è¯·æ±‚çš„<code class="du je jf jg jh b">Accept</code>å¤´ã€‚å¦åˆ™ï¼Œå°†è¿”å›API JSONå“åº”ã€‚</p><p id="5f6e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å› æ­¤ï¼Œ<a class="ae jd" rel="noopener" href="/@jimmyarts"> Jimmy Arts </a>åœ¨SPMä¸­å¼•å…¥äº†ä»¥ä¸‹æ›´æ”¹ï¼Œä»¥è‡ªåŠ¨è®¾ç½®å‰²å°:</p><div class="jx jy ez fb jz ka"><a href="https://github.com/apple/swift-package-manager/pull/3795" rel="noopener  ugc nofollow" target="_blank"><div class="kb ab dw"><div class="kc ab kd cl cj ke"><h2 class="bd hj fi z dy kf ea eb kg ed ef hh bi translated">å°†æ¥å—æ ‡é¢˜æ·»åŠ åˆ°jimmya Pull Request # 3795 apple/swift-package-managerçš„ä¸‹è½½è¯·æ±‚ä¸­</h2><div class="kh l"><h3 class="bd b fi z dy kf ea eb kg ed ef dx translated">å‘äºŒè¿›åˆ¶ä¸‹è½½è¯·æ±‚æ·»åŠ Accept:application/octet-streamå¤´ï¼Œä»¥å…è®¸ä½¿ç”¨Github APIã€‚åŠ¨æœº:æˆ‘æƒ³è¦â€¦</h3></div><div class="ki l"><p class="bd b fp z dy kf ea eb kg ed ef dx translated">github.com</p></div></div><div class="kj l"><div class="le l kl km kn kj ko kp ka"/></div></div></a></div><p id="6974" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Xcode 13.3åŒ…å«äº†è¿™ä¸€å˜åŒ–ã€‚å› æ­¤ï¼Œä½¿ç”¨Xcode 13.3å’Œä¸€ä¸ªå¸¦æœ‰GitHubä¸ªäººè®¿é—®ä»¤ç‰Œçš„<code class="du je jf jg jh b">.netrc</code>æ–‡ä»¶å°†æœ€ç»ˆå…è®¸æ‚¨ä»ç§æœ‰GitHubå­˜å‚¨åº“ä¸­ä¸‹è½½äºŒè¿›åˆ¶èµ„äº§ã€‚ğŸ˜ŠğŸ‰</p><p id="6bf6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¾‹å¦‚:åœ¨æˆ‘çš„GitHubç”¨æˆ·<code class="du je jf jg jh b">MarcoEidinger</code>ä¸‹æœ‰ä¸€ä¸ªå­˜å‚¨åº“<code class="du je jf jg jh b">MyPrivateRepo</code>ï¼Œæˆ‘ç”¨èµ„äº§<code class="du je jf jg jh b">MyBinaryModuleName.xcframework.zip</code>åˆ›å»ºäº†å‘å¸ƒç‰ˆ<code class="du je jf jg jh b">1.0.0</code>ã€‚å› æ­¤<code class="du je jf jg jh b">Package.swift</code>åº”è¯¥æ˜¯è¿™æ ·çš„</p><pre class="ji jj jk jl fd jm jh jn jo aw jp bi"><span id="b70f" class="jq jr hi jh b fi js jt l ju jv">.binaryTarget(<br/>    name: "MyBinaryModuleName",<br/>    url: "<a class="ae jd" href="https://api.github.com/repos/MarcoEidinger/MyPrivateRepo/releases/assets/58858051.zip" rel="noopener ugc nofollow" target="_blank">https://api.github.com/repos/MarcoEidinger/MyPrivateRepo/releases/assets/58858051.zip</a>",<br/>    checksum: "c533f08210ac21def782d48c2ff1e1a538b05b051e128aa88ffcd44051ddc2b3"<br/>),</span></pre><p id="fbe4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æˆ‘çš„<code class="du je jf jg jh b">~/.netrc</code>æ–‡ä»¶åº”è¯¥æ˜¯è¿™æ ·çš„</p><pre class="ji jj jk jl fd jm jh jn jo aw jp bi"><span id="0d6b" class="jq jr hi jh b fi js jt l ju jv">machine api.github.com login MarcoEidinger password ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span></pre><p id="3bc8" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">Netrcæ˜¯ä¸€ä¸ªå¾ˆæ£’çš„è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥åœ¨Macä¸Šè¿è¡Œï¼Œä¹Ÿå¯ä»¥åœ¨Linuxä¸Šè¿è¡Œã€‚å¦‚æœä½ åªåœ¨Macä¸Šå·¥ä½œï¼Œé‚£ä¹ˆä½ å¯ä»¥åˆ©ç”¨è‹¹æœçš„é’¥åŒ™ä¸²ä½œä¸ºæ›¿ä»£ã€‚æ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ªåŒ…å«ä»¥ä¸‹å†…å®¹çš„äº’è”ç½‘å¯†ç ï¼Œè€Œä¸æ˜¯åœ¨<code class="du je jf jg jh b">~/.netrc</code>æ–‡ä»¶ä¸­åˆ›å»ºä¸€ä¸ªæ¡ç›®</p><ul class=""><li id="eb8d" class="kq kr hi ih b ii ij im in iq ks iu kt iy ku jc kv kw kx ky bi translated"><code class="du je jf jg jh b">Keychain Item Name</code>:api.github.com</li><li id="548d" class="kq kr hi ih b ii kz im la iq lb iu lc iy ld jc kv kw kx ky bi translated"><code class="du je jf jg jh b">Account Name</code> : GitHubç”¨æˆ·å</li><li id="8fd9" class="kq kr hi ih b ii kz im la iq lb iu lc iy ld jc kv kw kx ky bi translated"><code class="du je jf jg jh b">Password</code>:ä¸ªäººè®¿é—®ä»¤ç‰Œ</li></ul><figure class="ji jj jk jl fd lg er es paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="er es lf"><img src="../Images/f46f256d810666fe3db83079e5ef15a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LyY65Ha20NTC7d9i"/></div></div></figure><figure class="ji jj jk jl fd lg er es paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="er es lm"><img src="../Images/3da123fe1bb39fd341033b9973627427.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EVBh5n-kkD6hY4_R"/></div></div></figure><p id="5339" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¸€æ—¦æ‚¨æˆäºˆæƒé™ï¼ŒXcode (SPM)å°†ä»é’¥åŒ™ä¸²ä¸­è¯»å–ã€‚è¿™æ ·çš„å¯¹è¯å¯èƒ½åœ¨åŒ…è§£ææœŸé—´å‡ºç°ã€‚</p><figure class="ji jj jk jl fd lg er es paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="er es ln"><img src="../Images/36815254a78aa524f939359c9e72642b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DHjuhPRQMwniT9u2"/></div></div></figure><p id="4752" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">é™„æ³¨:æ•´ä¸ªå†å²å¯ä»¥åœ¨Swiftè®ºå›çš„ä»¥ä¸‹çº¿ç´¢ä¸­æ‰¾åˆ°:</p><div class="jx jy ez fb jz ka"><a href="https://forums.swift.org/t/spm-support-basic-auth-for-non-git-binary-dependency-hosts/37878" rel="noopener  ugc nofollow" target="_blank"><div class="kb ab dw"><div class="kc ab kd cl cj ke"><h2 class="bd hj fi z dy kf ea eb kg ed ef hh bi translated">SPMæ”¯æŒégitäºŒè¿›åˆ¶ä¾èµ–ä¸»æœºçš„åŸºæœ¬èº«ä»½éªŒè¯</h2><div class="kh l"><h3 class="bd b fi z dy kf ea eb kg ed ef dx translated">æˆ‘çš„å…¬å¸åœ¨Nexuså­˜å‚¨åº“ä¸­æä¾›å¯¹iOS SDKäºŒè¿›åˆ¶ä¾èµ–é¡¹çš„æœ‰é™å…¬å…±è®¿é—®ã€‚å¼€å‘è€…æ˜¯â€¦</h3></div><div class="ki l"><p class="bd b fp z dy kf ea eb kg ed ef dx translated">forums.swift.org</p></div></div><div class="kj l"><div class="lo l kl km kn kj ko kp ka"/></div></div></a></div></div><div class="ab cl lp lq gp lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="hb hc hd he hf"><p id="5c35" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><em class="lw">åŸè½½äº</em><a class="ae jd" href="https://blog.eidinger.info/xcode-133-supports-spm-binary-dependency-in-private-github-release" rel="noopener ugc nofollow" target="_blank"><em class="lw">https://blog . eidinger . info</em></a><em class="lw">ã€‚</em></p></div></div>    
</body>
</html>