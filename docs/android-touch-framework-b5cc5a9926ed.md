# Android è§¦æ‘¸æ¡†æ¶

> åŸæ–‡ï¼š<https://medium.com/geekculture/android-touch-framework-b5cc5a9926ed?source=collection_archive---------6----------------------->

ç†è§£è§¦æ‘¸æ¡†æ¶çš„æ¦‚å¿µ

![](img/a4f7f6ae65edf7e466caf96cbf15da9a.png)

Android Touch

å„ä½å¼€å‘è€…å¥½ï¼Œåœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†è®¨è®º Android è§¦æ‘¸æ¡†æ¶ï¼Œè§¦æ‘¸å¦‚ä½•åœ¨åº”ç”¨ç¨‹åºä¸­æµåŠ¨ï¼Œä»¥åŠ Android å¦‚ä½•å¤„ç†æ‰€æœ‰è¿™äº›äº‹ä»¶ã€‚

# Android å¦‚ä½•å¤„ç†è§¦æ‘¸

åº”ç”¨ç¨‹åºä¸­çš„æ¯ä¸ªè§¦æ‘¸äº‹ä»¶éƒ½è¢«åŒ…è£…æˆä¸€ä¸ª**è¿åŠ¨äº‹ä»¶**ã€‚è¿™äº›**åŠ¨ä½œäº‹ä»¶**åŒ…å«åŠ¨ä½œçš„æè¿°å’Œä¸€äº›å…ƒæ•°æ®ï¼Œä¾‹å¦‚å±å¹•ä¸Šè§¦æ‘¸äº‹ä»¶çš„ä½ç½®ã€‚ä¸€äº›è¡ŒåŠ¨å¦‚ä¸‹:

*   **ACTION_DOWN** :æ‰‹æŒ‡è§¦æ‘¸å±å¹•æ—¶
*   **ACTION_UP** :æ‰‹æŒ‡ç¦»å¼€å±å¹•æ—¶
*   **åŠ¨ä½œ _ æŒ‡é’ˆ _ å‘ä¸‹**
*   **åŠ¨ä½œ _ æŒ‡é’ˆ _ å‘ä¸Š**
*   **åŠ¨ä½œ _ ç§»åŠ¨**:åœ¨å±å¹•ä¸Šç§»åŠ¨æ‰‹æŒ‡æ—¶
*   **åŠ¨ä½œ _ å–æ¶ˆ**

æ‰‹åŠ¿è¢«å®šä¹‰ä¸ºä»¥**åŠ¨ä½œ _ å‘ä¸‹**å¼€å§‹ï¼Œä»¥**åŠ¨ä½œ _ å‘ä¸Š**ç»“æŸã€‚

1.  äº‹ä»¶ä»å¸¦æœ‰`dispatchTouchEvent()`çš„æ´»åŠ¨å¼€å§‹
2.  äº‹ä»¶é€šè¿‡è§†å›¾ä»ä¸Šåˆ°ä¸‹æµåŠ¨

*   çˆ¶æ¯(è§†å›¾ç»„)å°†äº‹ä»¶å‘é€ç»™ä»–ä»¬çš„å­©å­
*   å¯ä»¥éšæ—¶æ‹¦æˆªäº‹ä»¶ã€‚

3.äº‹ä»¶æ²¿å±‚æ¬¡ç»“æ„å‘ä¸‹æµåŠ¨ï¼Œç„¶åå‘ä¸ŠæµåŠ¨ï¼Œç›´åˆ°è¢«æ¶ˆè´¹

> å½“å¤„ç†äº‹ä»¶çš„è°ƒåº¦æ—¶ï¼Œå±‚æ¬¡ç»“æ„çš„é¡¶éƒ¨ä½ç½®èµ·ä¸»å¯¼ä½œç”¨ï¼Œä½†æ˜¯å½“å¤„ç†è§¦æ‘¸æ—¶ï¼Œä½¿ç”¨ onTouchEvent çš„å­è§†å›¾æ€»æ˜¯ç¬¬ä¸€ä¸ªï¼Œç„¶åå®ƒç»§ç»­å‘ ViewGroups ç§»åŠ¨ã€‚
> 
> **è§¦æ‘¸äº‹ä»¶çš„å·¥ä½œæ–¹å¼ç±»ä¼¼äºäº‹ä»¶çš„åˆ†æ´¾ï¼Œä½†ä»å­åˆ°çˆ¶çš„é¡ºåºç›¸åã€‚**

![](img/f5ec921b3619f3fdadae37c90f1f2011.png)![](img/417fee0b6a225b3c2bd89554c259fdb0.png)

å½“æ‹¦æˆªæ—¶ï¼Œå¦‚æœæˆ‘ä»¬è¿”å›`true`ï¼Œé‚£ä¹ˆè§¦æ‘¸äº‹ä»¶æ˜¯**è€Œä¸æ˜¯**ä¼ é€’ç»™å®ƒçš„å­©å­ï¼Œå¦‚æœæˆ‘ä»¬ä¼ é€’`false`ï¼ŒAndroid ç”Ÿæ€ç³»ç»Ÿå¾—åˆ°é€šçŸ¥ï¼Œè§†å›¾ç»„æƒ³è¦å°†äº‹ä»¶åˆ†æ´¾ç»™å®ƒçš„å­©å­ï¼Œ

![](img/42c0089afd346778d853d8b9ae29d274.png)

å­©å­å¯ä»¥è°ƒç”¨`requestDisallowTouchIntercept()`åœ¨å½“å‰æ‰‹åŠ¿æŒç»­æœŸé—´é˜»æ­¢`onInterceptTouchEvent()`ã€‚ä¾‹å¦‚ Scrollview ä¸­çš„ä¸€äº›æ»šåŠ¨è§†å›¾ã€‚æˆ‘ä»¬å¸Œæœ›åœ¨æ»šåŠ¨å­çº§æ—¶åœæ­¢çˆ¶çº§æ»šåŠ¨ã€‚*è¯¥æ ‡å¿—ç”±æ¡†æ¶åœ¨æ–°æ‰‹åŠ¿(ACTION_DOWN)æ—¶é‡ç½®*

# åœºæ™¯ 1â€”å½“æ²¡æœ‰è§†å›¾æ­£åœ¨ä½¿ç”¨äº‹ä»¶æ—¶

![](img/c07b7f1b118721f52f10522472e2706e.png)

# åœºæ™¯ 2 â€”å½“ä¸€ä¸ªè§†å›¾æ­£åœ¨æ¶ˆè´¹äº‹ä»¶æ—¶

![](img/cd3294e32d3ea8e9a870c1d5994bb809.png)

# åœºæ™¯ 3 â€”

åœ¨`ScrollView`å†…çš„æŒ‰é’®çš„æƒ…å†µä¸‹ï¼ŒæŒ‰é’®åœ¨è¢«ç‚¹å‡»æ—¶æ¶ˆè€—è§¦æ‘¸äº‹ä»¶ï¼Œä½†æ˜¯å¦‚æœæ‰‹åŠ¿è¢«æ”¹å˜ä¸ºæ‹–åŠ¨ï¼Œåˆ™`ScrollView`çš„`onInterceptTouchEvent`è¢«è°ƒç”¨ï¼Œ`ScrollView`å¼€å§‹å¤„ç†è§¦æ‘¸ï¼Œå¹¶ä¸”æŒ‰é’®æ¥æ”¶`ACTION_CANCEL`äº‹ä»¶ã€‚

![](img/a89e01487929f5d42e41f2a9f5a75c8c.png)

*   ä¸€åˆ‡éƒ½å–å†³äº`onInterceptTouchEvent()`åŠå…¶è¿”å›å€¼**å’Œ**ã€‚dispatchTouchEvent ä¾èµ–äº`onInterceptTouchEvent()`çš„å€¼ï¼Œå¦‚æœå®ƒè¿”å› trueï¼Œåˆ™è°ƒåº¦è¢«å–æ¶ˆï¼Œå¦‚æœå®ƒè¿”å› falseï¼Œåˆ™è§¦æ‘¸äº‹ä»¶çš„è°ƒåº¦ç»§ç»­è¿›è¡Œï¼Œç›´åˆ°å®ƒè¢«ä½¿ç”¨ã€‚
*   å¦‚æœ`onTouchEvent()`è¿”å›çœŸï¼Œåˆ™æ„å‘³ç€è§¦æ‘¸è¢«å¤„ç†ï¼Œä½†æ˜¯å¦‚æœå®ƒè¿”å›å‡ï¼Œåˆ™æ„å‘³ç€è§¦æ‘¸æœªè¢«å¤„ç†ã€‚

## å¯¹äºå¤æ‚çš„è§¦æ‘¸äº¤äº’:

æˆ‘ä»¬æœ‰æ‰‹åŠ¿æ£€æµ‹å™¨ï¼Œé€šè¿‡`onTouchListener() or onTouchEvent()`å¤„ç†:

*   `onDown(), onSingleTapUp(), onDoubleTap()`
*   `onLongPress()`
*   `onScroll()`
*   `onFling()`

# è§¦æ‘¸ä»£è¡¨

å¸®åŠ©å™¨ç±»æ¥å¤„ç†æ‚¨å¸Œæœ›è§†å›¾å…·æœ‰æ¯”å…¶å®é™…è§†å›¾è¾¹ç•Œæ›´å¤§çš„è§¦æ‘¸åŒºåŸŸçš„æƒ…å†µã€‚è§¦æ‘¸åŒºåŸŸå‘ç”Ÿå˜åŒ–çš„è§†å›¾ç§°ä¸ºä»£ç†è§†å›¾ã€‚è¯¥ç±»åº”è¯¥ç”±å§”æ‰˜çš„ç¥–å…ˆä½¿ç”¨ã€‚

> **å…è®¸ç‰¹å®šè§†å›¾çš„è§¦æ‘¸åŒºåŸŸä¸å…¶å®é™…è§¦æ‘¸è¾¹ç•Œä¸åŒã€‚**

å¸Œæœ›ä½ å­¦åˆ°äº†ä¸€äº›ä¸œè¥¿ï¼æ„Ÿè°¢æ‚¨çš„é˜…è¯»ã€‚

*ç‚¹å‡»*ğŸ‘è¡¨ç¤ºä½ çš„æ”¯æŒï¼Œå¹¶ä¸å…¶ä»–åª’ä½“ç”¨æˆ·åˆ†äº«ã€‚

ä½ å¯ä»¥åœ¨ [***æ¨ç‰¹***](https://twitter.com/adilkhanforeal) **å’Œ**[***insta gram***](https://www.instagram.com/adilkhanforeal/)ä¸Šæ‰¾åˆ°æˆ‘

[](https://www.linkedin.com/in/iadilkhan/) [## Adil Khan - BBD å¤§å­¦-å°åº¦åŒ—æ–¹é‚¦å‹’å…‹ç‘™| LinkedIn

### åœ¨ä¸–ç•Œä¸Šæœ€å¤§çš„èŒä¸šç¤¾åŒº LinkedIn ä¸ŠæŸ¥çœ‹ Adil Khan çš„ä¸ªäººèµ„æ–™ã€‚Adil æœ‰ 1 ä¸ªå·¥ä½œåˆ—åœ¨ä»–ä»¬çš„â€¦

www.linkedin.com](https://www.linkedin.com/in/iadilkhan/)