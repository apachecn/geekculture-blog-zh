<html>
<head>
<title>How does server side internationalization (i18n) look like?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">æœåŠ¡å™¨ç«¯å›½é™…åŒ–(i18n)æ˜¯ä»€ä¹ˆæ ·å­çš„ï¼Ÿ</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/geekculture/how-does-server-side-internationalization-i18n-look-like-6ddbd15147b7?source=collection_archive---------18-----------------------#2021-06-28">https://medium.com/geekculture/how-does-server-side-internationalization-i18n-look-like-6ddbd15147b7?source=collection_archive---------18-----------------------#2021-06-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/6f6294ef59e8cd86d5dd11904c39a021.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E8H1oQGSqu599stzjC06zw.jpeg"/></div></div></figure><p id="8b35" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ä½ å¯èƒ½å·²ç»çŸ¥é“å¦‚ä½•æ­£ç¡®åœ°å›½é™…åŒ–ä¸€ä¸ªå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºï¼Œå°±åƒåœ¨è¿™ä¸ªåŸºäº<a class="ae jo" href="https://dev.to/adrai/how-to-properly-internationalize-a-react-application-using-i18next-3hdb" rel="noopener ugc nofollow" target="_blank"> Reactçš„æ•™ç¨‹</a>ï¼Œè¿™ä¸ªåŸºäº<a class="ae jo" href="https://dev.to/adrai/unleash-the-full-power-of-angular-i18next-4b7o" rel="noopener ugc nofollow" target="_blank"> Angularçš„æ•™ç¨‹</a>æˆ–è€…è¿™ä¸ªåŸºäº<a class="ae jo" href="https://dev.to/adrai/give-vue-i18n-more-superpowers-12la" rel="noopener ugc nofollow" target="_blank"> Vueçš„æ•™ç¨‹</a>ä¸­æè¿°çš„é‚£æ ·ã€‚</p><p id="b564" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">åœ¨è¿™ç¯‡åšæ–‡ä¸­ï¼Œæˆ‘ä»¬å°†é˜æ˜æœåŠ¡å™¨ç«¯ã€‚</p><blockquote class="jp jq jr"><p id="7c40" class="iq ir js is b it iu iv iw ix iy iz ja jt jc jd je ju jg jh ji jv jk jl jm jn hb bi translated">ä¸ºä»€ä¹ˆæˆ‘éœ€è¦åœ¨åº”ç”¨ç¨‹åºçš„åç«¯å¤„ç†i18nï¼Ÿ</p></blockquote><p id="81b3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æƒ³è±¡ä¸€ä¸‹æ‰€æœ‰é¢å‘ç”¨æˆ·çš„å†…å®¹ä¸ç›´æ¥å‘ˆç°åœ¨æ‚¨çš„æµè§ˆå™¨ä¸­â€¦</p><ul class=""><li id="c181" class="jw jx hi is b it iu ix iy jb jy jf jz jj ka jn kb kc kd ke bi translated">ä¾‹å¦‚ï¼Œæ‚¨æ­£åœ¨æ„å»ºå‘½ä»¤è¡Œç•Œé¢(CLI)ï¼Ÿ</li><li id="2f9f" class="jw jx hi is b it kf ix kg jb kh jf ki jj kj jn kb kc kd ke bi translated">ä½ åœ¨å‘é‚®ä»¶å—ï¼Ÿ</li><li id="8316" class="jw jx hi is b it kf ix kg jb kh jf ki jj kj jn kb kc kd ke bi translated">æˆ–è€…ä½ ç”¨çš„æ˜¯æœåŠ¡å™¨ç«¯æ¸²æŸ“(SSR)ï¼Ÿ</li><li id="512a" class="jw jx hi is b it kf ix kg jb kh jf ki jj kj jn kb kc kd ke bi translated">ç­‰ç­‰ã€‚</li></ul><h1 id="21be" class="kk kl hi bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh bi translated">è®©æˆ‘ä»¬æ£€æŸ¥ä¸€ä¸‹â€¦</h1><p id="0d48" class="pw-post-body-paragraph iq ir hi is b it li iv iw ix lj iz ja jb lk jd je jf ll jh ji jj lm jl jm jn hb bi translated">æˆ‘ä»¬å°†å±•ç¤ºä¸€äº›ä½¿ç”¨<a class="ae jo" href="https://www.i18next.com/" rel="noopener ugc nofollow" target="_blank"> i18next </a>ä½œä¸ºi18næ¡†æ¶çš„ä¾‹å­ã€‚å¦‚æœä½ æƒ³çŸ¥é“æˆ‘ä»¬ä¸ºä»€ä¹ˆå»ºè®®i18nextï¼Œçœ‹çœ‹è¿™ä¸€é¡µã€‚</p><h1 id="7725" class="kk kl hi bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh bi translated">å‘½ä»¤è¡Œç•Œé¢(CLI)</h1><p id="21c3" class="pw-post-body-paragraph iq ir hi is b it li iv iw ix lj iz ja jb lk jd je jf ll jh ji jj lm jl jm jn hb bi translated">è®©æˆ‘ä»¬ä»ç®€å•çš„å¼€å§‹:ä¸€ä¸ªéå¸¸å°çš„CLIåº”ç”¨ç¨‹åºã€‚å¯¹äºè¿™ä¸ªä¾‹å­ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨æœ€åˆç”±<a class="ae jo" href="https://twitter.com/tjholowaychuk" rel="noopener ugc nofollow" target="_blank"> TJ Holowaychuk </a>åˆ›å»ºçš„<a class="ae jo" href="https://github.com/tj/commander.js" rel="noopener ugc nofollow" target="_blank">æŒ‡æŒ¥å®˜</a>ã€‚<br/>æˆ‘ä»¬æ­£åœ¨å®šä¹‰ä¸€ä¸ªå¸¦æœ‰å¯é€‰è¯­è¨€å’Œåç§°å‚æ•°çš„<code class="du ln lo lp lq b">sayhi</code>å‘½ä»¤ï¼Œè¯¥å‘½ä»¤åº”è¯¥ä»¥é€‚å½“çš„è¯­è¨€å›åº”ä¸€ä¸ªç§°å‘¼ã€‚</p><pre class="lr ls lt lu fd lv lq lw lx aw ly bi"><span id="8956" class="lz kl hi lq b fi ma mb l mc md">#!/usr/bin/env node</span><span id="2acf" class="lz kl hi lq b fi me mb l mc md">const program = require('commander')</span><span id="6cc3" class="lz kl hi lq b fi me mb l mc md">program<br/>  .command('sayhi')<br/>  .alias('s')<br/>  .option('-l, --language &lt;lng&gt;', 'by default the system language is used')<br/>  .option('-n, --name &lt;name&gt;', 'your name')<br/>  .action((options) =&gt; {<br/>    // options.language =&gt; optional language<br/>    // options.name =&gt; optional name<br/>    // TODO: log the salutation to the console...<br/>  })<br/>  .on('--help', () =&gt; {<br/>    console.log('  Examples:')<br/>    console.log()<br/>    console.log('    $ mycli sayhi')<br/>    console.log('    $ mycli sayhi --language de')<br/>    console.log('    $ mycli sayhi --language de --name John')<br/>    console.log()<br/>  })</span><span id="afb4" class="lz kl hi lq b fi me mb l mc md">program.parse(process.argv)</span><span id="8393" class="lz kl hi lq b fi me mb l mc md">if (!process.argv.slice(2).length) {<br/>  program.outputHelp()<br/>}</span></pre><p id="9eab" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">å¥½äº†ï¼Œç°åœ¨è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°çš„<code class="du ln lo lp lq b">i18n.js</code>æ–‡ä»¶ï¼Œå¹¶ç›¸åº”åœ°è®¾ç½®i18next:</p><pre class="lr ls lt lu fd lv lq lw lx aw ly bi"><span id="c418" class="lz kl hi lq b fi ma mb l mc md">const i18next = require('i18next')</span><span id="89d9" class="lz kl hi lq b fi me mb l mc md">// if no language parameter is passed, let's try to use the node.js system's locale<br/>const systemLocale = Intl.DateTimeFormat().resolvedOptions().locale</span><span id="4797" class="lz kl hi lq b fi me mb l mc md">i18next<br/>  .init({<br/>    fallbackLng: 'en',<br/>    resources: {<br/>      en: {<br/>        translation: require('./locales/en/translation.json')<br/>      },<br/>      de: {<br/>        translation: require('./locales/de/translation.json')<br/>      }<br/>    }<br/>  })</span><span id="0687" class="lz kl hi lq b fi me mb l mc md">module.exports = (lng) =&gt; i18next.getFixedT(lng || systemLocale)</span></pre><p id="e32e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ä»¥åŠæˆ‘ä»¬çš„ç¿»è¯‘èµ„æº:</p><pre class="lr ls lt lu fd lv lq lw lx aw ly bi"><span id="fd16" class="lz kl hi lq b fi ma mb l mc md">// locales/en/translations.json<br/>{<br/>  "salutation": "Hello World!",<br/>  "salutationWithName": "Hello {{name}}!"<br/>}</span><span id="6f1a" class="lz kl hi lq b fi me mb l mc md">// locales/de/translations.json<br/>{<br/>  "salutation": "Hallo Welt!",<br/>  "salutationWithName": "Hallo {{name}}!"<br/>}</span></pre><p id="bc54" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ç°åœ¨æˆ‘ä»¬å¯ä»¥ç”¨<code class="du ln lo lp lq b">i18n.js</code>é‚£æ ·å¯¼å‡º:</p><pre class="lr ls lt lu fd lv lq lw lx aw ly bi"><span id="a6ad" class="lz kl hi lq b fi ma mb l mc md">#!/usr/bin/env node</span><span id="38a3" class="lz kl hi lq b fi me mb l mc md">const program = require('commander')<br/>const i18n = require('../i18n.js')</span><span id="bde5" class="lz kl hi lq b fi me mb l mc md">program<br/>  .command('sayhi')<br/>  .alias('s')<br/>  .option('-l, --language &lt;lng&gt;', 'by default the system language is used')<br/>  .option('-n, --name &lt;name&gt;', 'your name')<br/>  .action((options) =&gt; {<br/>    const t = i18n(options.language)<br/>    if (options.name) {<br/>      console.log(t('salutationWithName', { name: options.name }))<br/>    } else {<br/>      console.log(t('salutation'))<br/>    }<br/>  })<br/>  .on('--help', () =&gt; {<br/>    console.log('  Examples:')<br/>    console.log()<br/>    console.log('    $ mycli sayhi')<br/>    console.log('    $ mycli sayhi --language de')<br/>    console.log('    $ mycli sayhi --language de --name John')<br/>    console.log()<br/>  })</span><span id="4e7f" class="lz kl hi lq b fi me mb l mc md">program.parse(process.argv)</span><span id="a36c" class="lz kl hi lq b fi me mb l mc md">if (!process.argv.slice(2).length) {<br/>  program.outputHelp()<br/>}</span></pre><p id="8d77" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">å¥½å§ï¼Œç»“æœå‘¢ï¼Ÿ</p><pre class="lr ls lt lu fd lv lq lw lx aw ly bi"><span id="8969" class="lz kl hi lq b fi ma mb l mc md"># if we execute the cli command without any parameters...<br/>mycli sayhi<br/># result: Hello World!</span><span id="396b" class="lz kl hi lq b fi me mb l mc md"># if we execute the cli command with a language parameter...<br/>mycli sayhi --language de<br/># result: Hallo Welt!</span><span id="bdd4" class="lz kl hi lq b fi me mb l mc md"># if we execute the cli command with a language parameter and a name parameter...<br/>mycli sayhi --language de --name John<br/># result: Hallo John!</span></pre><p id="5a7c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">å¾ˆå®¹æ˜“ï¼Œä¸æ˜¯å—ï¼Ÿ</p><p id="3d95" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">å¦‚æœæ‚¨æ²¡æœ‰å°†CLIåº”ç”¨ç¨‹åºæ†ç»‘åœ¨å•ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ä¸­ï¼Œä¾‹å¦‚é€šè¿‡ä½¿ç”¨<a class="ae jo" href="https://github.com/vercel/pkg" rel="noopener ugc nofollow" target="_blank"> pkg </a>ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨<a class="ae jo" href="https://github.com/i18next/i18next-fs-backend" rel="noopener ugc nofollow" target="_blank"> i18next-fs-backend </a>æ¥åŠ¨æ€åŠ è½½æ‚¨çš„ç¿»è¯‘ï¼Œä¾‹å¦‚:</p><pre class="lr ls lt lu fd lv lq lw lx aw ly bi"><span id="6550" class="lz kl hi lq b fi ma mb l mc md">const i18next = require('i18next')<br/>const Backend = require('i18next-fs-backend')<br/>const { join } = require('path')<br/>const { readdirSync, lstatSync } = require('fs')</span><span id="3b71" class="lz kl hi lq b fi me mb l mc md">// if no language parameter is passed, let's try to use the node.js system's locale<br/>const systemLocale = Intl.DateTimeFormat().resolvedOptions().locale</span><span id="bff0" class="lz kl hi lq b fi me mb l mc md">const localesFolder = join(__dirname, './locales')</span><span id="570e" class="lz kl hi lq b fi me mb l mc md">i18next<br/>  .use(Backend)<br/>  .init({<br/>    initImmediate: false, // setting initImediate to false, will load the resources synchronously<br/>    fallbackLng: 'en',<br/>    preload: readdirSync(localesFolder).filter((fileName) =&gt; {<br/>      const joinedPath = join(localesFolder, fileName)<br/>      return lstatSync(joinedPath).isDirectory()<br/>    }),<br/>    backend: {<br/>      loadPath: join(localesFolder, '{{lng}}/{{ns}}.json')<br/>    }<br/>  })</span><span id="27cb" class="lz kl hi lq b fi me mb l mc md">module.exports = (lng) =&gt; i18next.getFixedT(lng || systemLocale)</span></pre><p id="e1f9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="js"> ğŸ§‘â€ğŸ’»ä¸€ä¸ªä»£ç ç¤ºä¾‹å¯ä»¥åœ¨</em> <a class="ae jo" href="https://github.com/i18next/i18next-cli-app-example" rel="noopener ugc nofollow" target="_blank"> <em class="js">è¿™é‡Œæ‰¾åˆ°</em> </a> <em class="js">ã€‚</em></p><h1 id="36d8" class="kk kl hi bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh bi translated">ä¸€ä¸ªå¯èƒ½çš„ä¸‹ä¸€æ­¥â€¦</h1><p id="dbb2" class="pw-post-body-paragraph iq ir hi is b it li iv iw ix lj iz ja jb lk jd je jf ll jh ji jj lm jl jm jn hb bi translated">ä¸‹ä¸€æ­¥å¯èƒ½æ˜¯ä½¿ç¿»è¯‘ç®¡ç†ä¸“ä¸šåŒ–ã€‚<br/>è¿™æ„å‘³ç€ç¿»è¯‘å°†åœ¨ç¿»è¯‘ç®¡ç†ç³»ç»Ÿ(TMS)ä¸­è¢«â€œç®¡ç†â€(æ·»åŠ æ–°è¯­è¨€ã€æ–°ç¿»è¯‘ç­‰)ï¼Œå°±åƒ<a class="ae jo" href="https://www.locize.com/" rel="noopener ugc nofollow" target="_blank"> locize </a>ä¸€æ ·ï¼Œå¹¶ä¸æ‚¨çš„ä»£ç åŒæ­¥ã€‚è¦äº†è§£è¿™å¯èƒ½æ˜¯ä»€ä¹ˆæ ·å­ï¼Œè¯·æŸ¥çœ‹æœ¬æ•™ç¨‹ä¸­çš„<a class="ae jo" href="https://github.com/locize/react-tutorial#step-1---keep-existing-code-setup-but-synchronize-with-locize" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj">æ­¥éª¤1 </strong>ã€‚</a></p><h1 id="87eb" class="kk kl hi bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh bi translated">ç”Ÿæˆç”µå­é‚®ä»¶</h1><p id="7ad3" class="pw-post-body-paragraph iq ir hi is b it li iv iw ix lj iz ja jb lk jd je jf ll jh ji jj lm jl jm jn hb bi translated">å¦ä¸€ä¸ªéœ€è¦å›½é™…åŒ–çš„å…¸å‹æœåŠ¡å™¨ç«¯ç”¨ä¾‹æ˜¯ç”Ÿæˆç”µå­é‚®ä»¶ã€‚</p><p id="7bfd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ä¸ºäº†å®ç°è¿™ä¸ªç›®æ ‡ï¼Œé€šå¸¸éœ€è¦å°†ä¸€äº›åŸå§‹æ•°æ®è½¬æ¢æˆhtmlå†…å®¹(æˆ–æ–‡æœ¬),ä»¥ç”¨æˆ·å–œæ¬¢çš„è¯­è¨€æ˜¾ç¤ºã€‚</p><p id="2029" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<a class="ae jo" href="https://pugjs.org/" rel="noopener ugc nofollow" target="_blank"> pug </a>(ä»¥å‰ç§°ä¸ºâ€œJadeâ€ï¼Œæœ€åˆä¹Ÿæ˜¯ç”±<a class="ae jo" href="https://twitter.com/tjholowaychuk" rel="noopener ugc nofollow" target="_blank"> TJ Holowaychuk </a>åˆ›å»ºçš„)æ¥å®šä¹‰ä¸€äº›åº”è¯¥ç”¨ç”µå­é‚®ä»¶ä¸­æ‰€éœ€çš„æ•°æ®å¡«å……çš„æ¨¡æ¿ï¼Œå¹¶ä½¿ç”¨<a class="ae jo" href="https://mjml.io/" rel="noopener ugc nofollow" target="_blank"> mjml </a>æ¥å®é™…è®¾è®¡ç”µå­é‚®ä»¶å†…å®¹ã€‚</p><p id="d941" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°çš„<code class="du ln lo lp lq b">mail.js</code>æ–‡ä»¶æ¥å®Œæˆè¿™ä¸ªä»»åŠ¡ã€‚</p><pre class="lr ls lt lu fd lv lq lw lx aw ly bi"><span id="31ed" class="lz kl hi lq b fi ma mb l mc md">import pug from 'pug'<br/>import mjml2html from 'mjml'</span><span id="efee" class="lz kl hi lq b fi me mb l mc md">export default (data) =&gt; {<br/>  // first let's compile and render the mail template that will include the data needed to show in the mail content<br/>  const mjml = pug.renderFile('./mailTemplate.pug', data)</span><span id="faef" class="lz kl hi lq b fi me mb l mc md">  // then transform the mjml syntax to normal html<br/>  const { html, errors } = mjml2html(mjml)<br/>  if (errors &amp;&amp; errors.length &gt; 0) throw new Error(errors[0].message)</span><span id="bef7" class="lz kl hi lq b fi me mb l mc md">  // and return the html, if there where no errors<br/>  return html<br/>}</span></pre><p id="979c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><code class="du ln lo lp lq b">mailTemplate.pug</code>å¯èƒ½çœ‹èµ·æ¥åƒè¿™æ ·:</p><pre class="lr ls lt lu fd lv lq lw lx aw ly bi"><span id="8794" class="lz kl hi lq b fi ma mb l mc md">mjml<br/>  mj-body(background-color='#F4F4F4' color='#55575d' font-family='Arial, sans-serif')<br/>    mj-section(background-color='#024b3f' background-repeat='repeat' padding='20px 0' text-align='center' vertical-align='top')<br/>      mj-column<br/>        mj-image(align='center' padding='10px 25px' src='https://raw.githubusercontent.com/i18next/i18next/master/assets/i18next-ecosystem.jpg')<br/>    mj-section(background-color='#ffffff' background-repeat='repeat' padding='20px 0' text-align='center' vertical-align='top')<br/>      mj-column<br/>    mj-section(background-color='#ffffff' background-repeat='repeat' background-size='auto' padding='20px 0px 20px 0px' text-align='center' vertical-align='top')<br/>      mj-column<br/>        mj-text(align='center' color='#55575d' font-family='Arial, sans-serif' font-size='20px' line-height='28px' padding='0px 25px 0px 25px')<br/>          span=t('greeting', { name: name || 'there' })<br/>          br<br/>          br<br/>        mj-text(align='center' color='#55575d' font-family='Arial, sans-serif' font-size='16px' line-height='28px' padding='0px 25px 0px 25px')<br/>          =t('text')<br/>    mj-section(background-color='#024b3f' background-repeat='repeat' padding='20px 0' text-align='center' vertical-align='top')<br/>      mj-column<br/>        mj-text(align='center' color='#ffffff' font-family='Arial, sans-serif' font-size='13px' line-height='22px' padding='10px 25px')<br/>          =t('ending')&amp;nbsp;<br/>          a(style='color:#ffffff' href='https://www.i18next.com')<br/>            b <a class="ae jo" href="http://www.i18next.com" rel="noopener ugc nofollow" target="_blank">www.i18next.com</a></span></pre><p id="dfc5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ç°åœ¨è®©æˆ‘ä»¬å®šä¹‰ä¸€äº›ç¿»è¯‘â€¦</p><pre class="lr ls lt lu fd lv lq lw lx aw ly bi"><span id="9a9c" class="lz kl hi lq b fi ma mb l mc md">// locales/en/translations.json<br/>{<br/>  "greeting": "Hi {{name}}!",<br/>  "text": "You were invited to try i18next.",<br/>  "ending": "Internationalized with"<br/>}</span><span id="51e2" class="lz kl hi lq b fi me mb l mc md">// locales/de/translations.json<br/>{<br/>  "greeting": "Hallo {{name}}!",<br/>  "text": "Du bist eingeladen worden i18next auszuprobieren.",<br/>  "ending": "Internationalisiert mit"<br/>}</span></pre><p id="1220" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">â€¦å¹¶åœ¨ä¸€ä¸ª<code class="du ln lo lp lq b">i18n.js</code>æ–‡ä»¶ä¸­ä½¿ç”¨å®ƒä»¬:</p><pre class="lr ls lt lu fd lv lq lw lx aw ly bi"><span id="afab" class="lz kl hi lq b fi ma mb l mc md">import { dirname, join } from 'path'<br/>import { readdirSync, lstatSync } from 'fs'<br/>import { fileURLToPath } from 'url'<br/>import i18next from 'i18next'<br/>import Backend from 'i18next-fs-backend'</span><span id="7c11" class="lz kl hi lq b fi me mb l mc md">const __dirname = dirname(fileURLToPath(import.meta.url))<br/>const localesFolder = join(__dirname, './locales')</span><span id="5061" class="lz kl hi lq b fi me mb l mc md">i18next<br/>  .use(Backend) // you can also use any other i18next backend, like i18next-http-backend or i18next-locize-backend<br/>  .init({<br/>    // debug: true,<br/>    initImmediate: false, // setting initImediate to false, will load the resources synchronously<br/>    fallbackLng: 'en',<br/>    preload: readdirSync(localesFolder).filter((fileName) =&gt; {<br/>      const joinedPath = join(localesFolder, fileName)<br/>      return lstatSync(joinedPath).isDirectory()<br/>    }),<br/>    backend: {<br/>      loadPath: join(localesFolder, '{{lng}}/{{ns}}.json')<br/>    }<br/>  })</span><span id="61ab" class="lz kl hi lq b fi me mb l mc md">export default i18next</span></pre><p id="5fbf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æ‰€ä»¥æœ€åï¼Œä»¥ä¸Šéƒ½å¯ä»¥è¿™æ ·ç”¨:</p><pre class="lr ls lt lu fd lv lq lw lx aw ly bi"><span id="09c8" class="lz kl hi lq b fi ma mb l mc md">import mail from './mail.js'</span><span id="c835" class="lz kl hi lq b fi me mb l mc md">import i18next from './i18n.js'</span><span id="d388" class="lz kl hi lq b fi me mb l mc md">const html = mail({<br/>  t: i18next.t,<br/>  name: 'John'<br/>})<br/>// that html now can be sent via some mail provider...</span></pre><p id="5a47" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">è¿™æ˜¯ç”Ÿæˆçš„htmlçš„æ ·å­:</p><figure class="lr ls lt lu fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mf"><img src="../Images/6e89218ce313fc3e96512e38b8cf866c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*OZ-VFh30okhXuAxN.jpg"/></div></div></figure><p id="5761" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="js"> ğŸ§‘â€ğŸ’»ä¸€ä¸ªä»£ç ç¤ºä¾‹å¯ä»¥åœ¨</em> <a class="ae jo" href="https://github.com/i18next/i18next-fs-backend/blob/master/example/fastify/app.js#L14-L19" rel="noopener ugc nofollow" target="_blank"> <em class="js">è¿™é‡Œæ‰¾åˆ°</em> </a> <em class="js">ã€‚</em></p><h1 id="3834" class="kk kl hi bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh bi translated">æœåŠ¡å™¨ç«¯æ¸²æŸ“(SSR)</h1><p id="3879" class="pw-post-body-paragraph iq ir hi is b it li iv iw ix lj iz ja jb lk jd je jf ll jh ji jj lm jl jm jn hb bi translated">æˆ‘ä»¬å°†å°è¯•ä¸¤ä¸ªä¸åŒçš„SSRä¾‹å­ï¼Œä¸€ä¸ªæ˜¯ä½¿ç”¨Fastifyå’Œpugçš„ç»å…¸ä¾‹å­ï¼Œå¦ä¸€ä¸ªæ˜¯ä½¿ç”¨Next.jsçš„æµè¡Œä¾‹å­ã€‚</p><h1 id="1bc7" class="kk kl hi bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh bi translated">ç”¨æ³¥å·´ä¾‹å­å›ºå®š</h1><p id="9e98" class="pw-post-body-paragraph iq ir hi is b it li iv iw ix lj iz ja jb lk jd je jf ll jh ji jj lm jl jm jn hb bi translated">å¯¹äºè¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨æˆ‘æœ€å–œæ¬¢çš„httpæ¡†æ¶<a class="ae jo" href="https://www.fastify.io/" rel="noopener ugc nofollow" target="_blank"> Fastify </a>(ç”±<a class="ae jo" href="https://twitter.com/matteocollina" rel="noopener ugc nofollow" target="_blank"> Matteo Collina </a>å’Œ<a class="ae jo" href="https://twitter.com/delvedor" rel="noopener ugc nofollow" target="_blank"> Tomas Della Vedova </a>åˆ›å»º)ï¼Œä½†æ˜¯ä»»ä½•å…¶ä»–æ¡†æ¶ä¹Ÿå¯ä»¥ã€‚</p><p id="88ab" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">è¿™æ¬¡æˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªä¸åŒçš„i18nextæ¨¡å—ï¼Œ<a class="ae jo" href="https://github.com/i18next/i18next-http-middleware" rel="noopener ugc nofollow" target="_blank">i18 next-http-ä¸­é—´ä»¶</a>ã€‚<br/>å¯ä»¥ç”¨äºæ‰€æœ‰Node.js webæ¡†æ¶ï¼Œåƒ<a class="ae jo" href="https://expressjs.com/" rel="noopener ugc nofollow" target="_blank"> express </a>æˆ–è€…<a class="ae jo" href="https://www.fastify.io/" rel="noopener ugc nofollow" target="_blank"> Fastify </a>ï¼Œä¹Ÿå¯ä»¥ç”¨äºDeno webæ¡†æ¶ï¼Œåƒ<a class="ae jo" href="https://github.com/zhmushan/abc" rel="noopener ugc nofollow" target="_blank"> abc </a>æˆ–è€…<a class="ae jo" href="https://github.com/keroxp/servest" rel="noopener ugc nofollow" target="_blank"> ServestJS </a>ã€‚</p><p id="029a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æ­£å¦‚å·²ç»è¯´è¿‡çš„ï¼Œè¿™é‡Œæˆ‘ä»¬å°†ä½¿ç”¨æˆ‘çš„æœ€çˆ±<a class="ae jo" href="https://www.fastify.io/" rel="noopener ugc nofollow" target="_blank"> Fastify </a>ğŸ˜‰ã€‚</p><p id="957d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">è®©æˆ‘ä»¬å†æ¬¡ä»<code class="du ln lo lp lq b">i18n.js</code>æ–‡ä»¶å¼€å§‹:</p><pre class="lr ls lt lu fd lv lq lw lx aw ly bi"><span id="aeee" class="lz kl hi lq b fi ma mb l mc md">import { dirname, join } from 'path'<br/>import { readdirSync, lstatSync } from 'fs'<br/>import { fileURLToPath } from 'url'<br/>import i18next from 'i18next'<br/>import Backend from 'i18next-fs-backend'<br/>import i18nextMiddleware from 'i18next-http-middleware'</span><span id="49f6" class="lz kl hi lq b fi me mb l mc md">const __dirname = dirname(fileURLToPath(import.meta.url))<br/>const localesFolder = join(__dirname, '../locales')</span><span id="4451" class="lz kl hi lq b fi me mb l mc md">i18next<br/>  .use(i18nextMiddleware.LanguageDetector) // the language detector, will automatically detect the users language, by some criteria... like the query parameter ?lng=en or http header, etc...<br/>  .use(Backend) // you can also use any other i18next backend, like i18next-http-backend or i18next-locize-backend<br/>  .init({<br/>    initImmediate: false, // setting initImediate to false, will load the resources synchronously<br/>    fallbackLng: 'en',<br/>    preload: readdirSync(localesFolder).filter((fileName) =&gt; {<br/>      const joinedPath = join(localesFolder, fileName)<br/>      return lstatSync(joinedPath).isDirectory()<br/>    }),<br/>    backend: {<br/>      loadPath: join(localesFolder, '{{lng}}/{{ns}}.json')<br/>    }<br/>  })</span><span id="d36d" class="lz kl hi lq b fi me mb l mc md">export { i18next, i18nextPlugin: i18nextMiddleware.plugin }</span></pre><p id="d3bc" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æˆ‘ä»¬çš„ç¿»è¯‘èµ„æºâ€¦</p><pre class="lr ls lt lu fd lv lq lw lx aw ly bi"><span id="f126" class="lz kl hi lq b fi ma mb l mc md">// locales/en/translations.json<br/>{<br/>  "home": {<br/>    "title": "Hello World!"<br/>  },<br/>  "server": {<br/>    "started": "Server is listening on port {{port}}."<br/>  }<br/>}</span><span id="254f" class="lz kl hi lq b fi me mb l mc md">// locales/de/translations.json<br/>{<br/>  "home": {<br/>    "title": "Hallo Welt!"<br/>  },<br/>  "server": {<br/>    "started": "Der server lauscht auf dem Port {{port}}."<br/>  }<br/>}</span><span id="9065" class="lz kl hi lq b fi me mb l mc md">// locales/it/translations.json<br/>{<br/>  "home": {<br/>    "title": "Ciao Mondo!"<br/>  },<br/>  "server": {<br/>    "started": "Il server sta aspettando sul port {{port}}."<br/>  }<br/>}</span></pre><p id="ce33" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ä¸€ä¸ªç®€å•çš„pugæ¨¡æ¿:</p><pre class="lr ls lt lu fd lv lq lw lx aw ly bi"><span id="0230" class="lz kl hi lq b fi ma mb l mc md">html<br/>  head<br/>    title i18next - fastify with pug<br/>  body<br/>    h1=t('home.title')<br/>    div<br/>      a(href="/?lng=en") english<br/>      | &amp;nbsp; | &amp;nbsp;<br/>      a(href="/?lng=it") italiano<br/>      | &amp;nbsp; | &amp;nbsp;<br/>      a(href="/?lng=de") deutsch</span></pre><p id="98cd" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æˆ‘ä»¬çš„â€œä¸»â€æ–‡ä»¶<code class="du ln lo lp lq b">app.js</code>:</p><pre class="lr ls lt lu fd lv lq lw lx aw ly bi"><span id="1833" class="lz kl hi lq b fi ma mb l mc md">import fastify from 'fastify'<br/>import pov from 'point-of-view'<br/>import pug from 'pug'<br/>import { i18next, i18nextPlugin } from './lib/i18n.js'</span><span id="d03f" class="lz kl hi lq b fi me mb l mc md">const port = process.env.PORT || 8080</span><span id="f690" class="lz kl hi lq b fi me mb l mc md">const app = fastify()<br/>app.register(pov, { engine: { pug } })<br/>app.register(i18nextPlugin, { i18next })</span><span id="03c6" class="lz kl hi lq b fi me mb l mc md">app.get('/raw', (request, reply) =&gt; {<br/>  reply.send(request.t('home.title'))<br/>})</span><span id="5d57" class="lz kl hi lq b fi me mb l mc md">app.get('/', (request, reply) =&gt; {<br/>  reply.view('/views/index.pug')<br/>})</span><span id="b404" class="lz kl hi lq b fi me mb l mc md">app.listen(port, (err) =&gt; {<br/>  if (err) return console.error(err)<br/>  // if you like you can also internationalize your log statements ;-)<br/>  console.log(i18next.t('server.started', { port }))<br/>  console.log(i18next.t('server.started', { port, lng: 'de' }))<br/>  console.log(i18next.t('server.started', { port, lng: 'it' }))<br/>})</span></pre><p id="9bf2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ç°åœ¨å¯åŠ¨åº”ç”¨ç¨‹åºï¼Œæ£€æŸ¥ä½ çœ‹åˆ°çš„æ˜¯ä»€ä¹ˆè¯­è¨€â€¦</p><figure class="lr ls lt lu fd ij er es paragraph-image"><div class="er es mg"><img src="../Images/34d9f8051a0e26561a8af83d07f3f3fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/0*7UkS_rhtanDcymlv.jpg"/></div></figure><p id="75d3" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">å¦‚æœæ‚¨æ£€æŸ¥æ§åˆ¶å°è¾“å‡ºï¼Œæ‚¨è¿˜ä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„å†…å®¹:</p><pre class="lr ls lt lu fd lv lq lw lx aw ly bi"><span id="520c" class="lz kl hi lq b fi ma mb l mc md">node app.js<br/># Server is listening on port 8080.<br/># Der server lauscht auf dem Port 8080.<br/># Il server sta aspettando sul port 8080.</span></pre><p id="e7a8" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="js">æ˜¯çš„ï¼Œå¦‚æœä½ æ„¿æ„ï¼Œä½ ä¹Ÿå¯ä»¥å°†ä½ çš„æ—¥å¿—è¯­å¥å›½é™…åŒ–ğŸ˜</em></p><p id="28a7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="js"> ğŸ§‘â€ğŸ’»ä¸€ä¸ªä»£ç ç¤ºä¾‹å¯ä»¥åœ¨</em> <a class="ae jo" href="https://github.com/i18next/i18next-fs-backend/tree/master/example/fastify" rel="noopener ugc nofollow" target="_blank"> <em class="js">è¿™é‡Œæ‰¾åˆ°</em> </a> <em class="js">ã€‚</em></p><h1 id="993f" class="kk kl hi bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh bi translated">ä¸€ä¸ªå¯èƒ½çš„ä¸‹ä¸€æ­¥â€¦</h1><p id="98e5" class="pw-post-body-paragraph iq ir hi is b it li iv iw ix lj iz ja jb lk jd je jf ll jh ji jj lm jl jm jn hb bi translated">ä½ å¸Œæœ›åœ¨ç¿»è¯‘ç®¡ç†ç³»ç»Ÿ(TMS)ä¸­ç®¡ç†ä½ çš„ç¿»è¯‘å—ï¼Œå°±åƒ<a class="ae jo" href="https://www.locize.com/" rel="noopener ugc nofollow" target="_blank"> locize </a>ä¸€æ ·ï¼Ÿ</p><p id="a169" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">åªéœ€ä½¿ç”¨è¿™ä¸ªå‘½ä»¤è¡Œç•Œé¢æ¥åŒæ­¥ç¿»è¯‘å’Œä½ çš„ä»£ç ã€‚è¦äº†è§£è¿™çœ‹èµ·æ¥å¦‚ä½•ï¼Œè¯·æŸ¥çœ‹æœ¬æ•™ç¨‹ä¸­çš„<a class="ae jo" href="https://github.com/locize/react-tutorial#step-1---keep-existing-code-setup-but-synchronize-with-locize" rel="noopener ugc nofollow" target="_blank"> <strong class="is hj">æ­¥éª¤1 </strong>ã€‚</a></p><p id="524a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æˆ–è€…ï¼Œä½¿ç”¨<a class="ae jo" href="https://github.com/locize/i18next-locize-backend" rel="noopener ugc nofollow" target="_blank"> i18next-locize-backend </a>ä»£æ›¿<a class="ae jo" href="https://github.com/i18next/i18next-fs-backend" rel="noopener ugc nofollow" target="_blank"> i18next-fs-backend </a>ã€‚<br/>å¦‚æœä½ åœ¨æ— æœåŠ¡å™¨ç¯å¢ƒä¸‹è¿è¡Œä½ çš„ä»£ç ï¼Œç¡®ä¿ä½ <a class="ae jo" href="https://github.com/locize/i18next-locize-backend#important-advice-for-serverless-environments---aws-lambda-google-cloud-functions-azure-functions-etc" rel="noopener ugc nofollow" target="_blank">å…ˆé˜…è¯»è¿™ä¸ªå»ºè®®</a>ï¼</p><p id="bf72" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">é¡ºä¾¿è¯´ä¸€å¥:ä½ çŸ¥é“å—ï¼Œä½ å¯ä»¥è½»æ¾åœ°è°ƒæ•´ä½ çš„Fastifyåº”ç”¨ç¨‹åºï¼Œä½¿å…¶åœ¨</strong><a class="ae jo" href="https://aws.amazon.com/lambda/" rel="noopener ugc nofollow" target="_blank"><strong class="is hj">AWS Lambda</strong></a><strong class="is hj">å’Œæœ¬åœ°ä½¿ç”¨ã€‚</strong></p><p id="f68a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">è¿™å¯ä»¥åœ¨<a class="ae jo" href="https://github.com/fastify/aws-lambda-fastify" rel="noopener ugc nofollow" target="_blank"> aws-lambda-fastify </a>çš„å¸®åŠ©ä¸‹å®ç°ã€‚<br/>åªéœ€åˆ›å»ºä¸€ä¸ªæ–°çš„<code class="du ln lo lp lq b">lambda.js</code>ï¼Œå¯¼å…¥æ‚¨ä¿®æ”¹è¿‡çš„<code class="du ln lo lp lq b">app.js</code>æ–‡ä»¶:</p><pre class="lr ls lt lu fd lv lq lw lx aw ly bi"><span id="0bb9" class="lz kl hi lq b fi ma mb l mc md">// lambda.js<br/>import awsLambdaFastify from 'aws-lambda-fastify'<br/>import app from './app.js'<br/>export const handler = awsLambdaFastify(app)</span></pre><p id="b8f5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ç¡®ä¿æ‚¨çš„Fastifyåº”ç”¨ç¨‹åºå·²å¯¼å‡ºâ€¦ ( <code class="du ln lo lp lq b">export default app</code> ) <br/>ï¼Œå¹¶ä¸”å¦‚æœæ²¡æœ‰åœ¨AWS Lambdaä¸­æ‰§è¡Œï¼Œåˆ™åªå¼€å§‹ç›‘å¬ä¸€ä¸ªç«¯å£(<code class="du ln lo lp lq b">import.meta.url === 'file://${process.argv[1]}'</code>æˆ–<code class="du ln lo lp lq b">require.main === module</code>ç”¨äºCommonJS)</p><pre class="lr ls lt lu fd lv lq lw lx aw ly bi"><span id="251c" class="lz kl hi lq b fi ma mb l mc md">// app.js<br/>import fastify from 'fastify'<br/>import pov from 'point-of-view'<br/>import pug from 'pug'<br/>import { i18next, i18nextPlugin } from './lib/i18n.js'</span><span id="ed21" class="lz kl hi lq b fi me mb l mc md">const port = process.env.PORT || 8080</span><span id="ea2c" class="lz kl hi lq b fi me mb l mc md">const app = fastify()<br/>app.register(pov, { engine: { pug } })<br/>app.register(i18nextPlugin, { i18next })</span><span id="8f5d" class="lz kl hi lq b fi me mb l mc md">app.get('/raw', (request, reply) =&gt; {<br/>  reply.send(request.t('home.title'))<br/>})</span><span id="41f3" class="lz kl hi lq b fi me mb l mc md">app.get('/', (request, reply) =&gt; {<br/>  reply.view('/views/index.pug')<br/>})</span><span id="86e7" class="lz kl hi lq b fi me mb l mc md">if (import.meta.url === `file://${process.argv[1]}`) {<br/>  // called directly (node app.js)<br/>  app.listen(port, (err) =&gt; {<br/>    if (err) return console.error(err)<br/>    console.log(i18next.t('server.started', { port }))<br/>    console.log(i18next.t('server.started', { port, lng: 'de' }))<br/>    console.log(i18next.t('server.started', { port, lng: 'it' }))<br/>  })<br/>} else {<br/>  // imported as a module, i.e. when executed in AWS Lambda<br/>}</span><span id="9ed8" class="lz kl hi lq b fi me mb l mc md">export default app</span></pre><p id="d41c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">ğŸ˜å¾ˆé…·ï¼Œå¯¹å§ï¼Ÿ</strong></p><h1 id="ac28" class="kk kl hi bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh bi translated">Next.jsç¤ºä¾‹</h1><p id="9889" class="pw-post-body-paragraph iq ir hi is b it li iv iw ix lj iz ja jb lk jd je jf ll jh ji jj lm jl jm jn hb bi translated">ç°åœ¨åˆ°äº†<a class="ae jo" href="https://nextjs.org/" rel="noopener ugc nofollow" target="_blank"> Next.js </a> â€¦</p><p id="426b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">è°ˆåˆ°Next.jsåº”ç”¨çš„å›½é™…åŒ–ï¼Œæœ€å—æ¬¢è¿çš„é€‰æ‹©ä¹‹ä¸€æ˜¯<a class="ae jo" href="https://github.com/isaachinman/next-i18next" rel="noopener ugc nofollow" target="_blank"> next-i18next </a>ã€‚å®ƒåŸºäº<a class="ae jo" href="https://react.i18next.com/" rel="noopener ugc nofollow" target="_blank"> react-i18next </a>ï¼Œé»˜è®¤æƒ…å†µä¸‹<a class="ae jo" href="https://github.com/isaachinman/next-i18next" rel="noopener ugc nofollow" target="_blank"> next-i18next </a>çš„ç”¨æˆ·åªéœ€å°†ä»–ä»¬çš„ç¿»è¯‘å†…å®¹åŒ…å«ä¸ºJSONæ–‡ä»¶ï¼Œä¸å¿…æ‹…å¿ƒå¤ªå¤šå…¶ä»–é—®é¢˜ã€‚</p><p id="f843" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">åœ¨è¿™é‡Œï¼Œä½ ä¼šæ‰¾åˆ°ä¸€ä¸ªç®€å•çš„ä¾‹å­ã€‚</p><p id="c51a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ä½ åªéœ€è¦ä¸€ä¸ªä¸º<code class="du ln lo lp lq b">next-i18next</code>æä¾›é…ç½®çš„<code class="du ln lo lp lq b">next-i18next.config.js</code>æ–‡ä»¶ï¼Œå¹¶ç”¨<code class="du ln lo lp lq b">appWithTranslation</code>å‡½æ•°åŒ…è£…ä½ çš„åº”ç”¨ç¨‹åºï¼Œå®ƒå…è®¸é€šè¿‡é’©å­åœ¨ä½ çš„ç»„ä»¶ä¸­ä½¿ç”¨<code class="du ln lo lp lq b">t</code>(ç¿»è¯‘)å‡½æ•°ã€‚</p><pre class="lr ls lt lu fd lv lq lw lx aw ly bi"><span id="62e1" class="lz kl hi lq b fi ma mb l mc md">// _app.js<br/>import { appWithTranslation } from 'next-i18next'</span><span id="a8ee" class="lz kl hi lq b fi me mb l mc md">const MyApp = ({ Component, pageProps }) =&gt; &lt;Component {...pageProps} /&gt;</span><span id="8f98" class="lz kl hi lq b fi me mb l mc md">export default appWithTranslation(MyApp)</span><span id="e7ac" class="lz kl hi lq b fi me mb l mc md">// index.js<br/>import { useTranslation } from 'next-i18next'<br/>import { serverSideTranslations } from 'next-i18next/serverSideTranslations'<br/>// This is an async function that you need to include on your page-level components, via either getStaticProps or getServerSideProps (depending on your use case)</span><span id="de0f" class="lz kl hi lq b fi me mb l mc md">const Homepage = () =&gt; {<br/>  const { t } = useTranslation('common')</span><span id="d15c" class="lz kl hi lq b fi me mb l mc md">  return (<br/>    &lt;&gt;<br/>      &lt;main&gt;<br/>        &lt;p&gt;<br/>          {t('description')}<br/>        &lt;/p&gt;<br/>      &lt;/main&gt;<br/>    &lt;/&gt;<br/>  )<br/>}</span><span id="3354" class="lz kl hi lq b fi me mb l mc md">export const getStaticProps = async ({ locale }) =&gt; ({<br/>  props: {<br/>    ...await serverSideTranslations(locale, ['common']),<br/>    // Will be passed to the page component as props<br/>  },<br/>})</span><span id="ce1c" class="lz kl hi lq b fi me mb l mc md">export default Homepage</span></pre><p id="0989" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code class="du ln lo lp lq b">next-i18next</code>å¸Œæœ›æ‚¨çš„ç¿»è¯‘æŒ‰å¦‚ä¸‹æ–¹å¼ç»„ç»‡:</p><pre class="lr ls lt lu fd lv lq lw lx aw ly bi"><span id="b457" class="lz kl hi lq b fi ma mb l mc md">.<br/>â””â”€â”€ public<br/>    â””â”€â”€ locales<br/>        â”œâ”€â”€ en<br/>        |   â””â”€â”€ common.json<br/>        â””â”€â”€ de<br/>            â””â”€â”€ common.json</span></pre><p id="0216" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">åœ¨<a class="ae jo" href="https://next-i18next.com/" rel="noopener ugc nofollow" target="_blank">è¿™é‡Œ</a>å¯ä»¥æ‰¾åˆ°è¿™æ ·ä¸€ä¸ªåº”ç”¨éƒ¨ç½²åçš„æ ·å­ã€‚</p><figure class="lr ls lt lu fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mf"><img src="../Images/0d5110faa50ac0f626ac3100c6a0bc5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LwVp9u21oPmipZkU.jpg"/></div></div></figure><p id="670b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">è¿™ä¸ªçœ‹èµ·æ¥çœŸçš„å¾ˆç®€å•ï¼Œå¯¹å§ï¼Ÿ</p><h1 id="cf15" class="kk kl hi bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh bi translated">ç®¡ç†ä»£ç ä¹‹å¤–çš„ç¿»è¯‘</h1><p id="2f36" class="pw-post-body-paragraph iq ir hi is b it li iv iw ix lj iz ja jb lk jd je jf ll jh ji jj lm jl jm jn hb bi translated">ä¸ºäº†æœ€å¥½åœ°ç®¡ç†ç¿»è¯‘ï¼Œæœ‰ä¸¤ç§ä¸åŒçš„æ–¹æ³•:</p><h1 id="5ec3" class="kk kl hi bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh bi translated">å¯èƒ½æ€§1:ç°åœºç¿»è¯‘ä¸‹è½½</h1><p id="123e" class="pw-post-body-paragraph iq ir hi is b it li iv iw ix lj iz ja jb lk jd je jf ll jh ji jj lm jl jm jn hb bi translated">å½“ä½¿ç”¨<a class="ae jo" href="https://www.locize.com/" rel="noopener ugc nofollow" target="_blank"> locize </a>æ—¶ï¼Œæ‚¨å¯ä»¥é…ç½®æ‚¨çš„next-i18nexté¡¹ç›®æ¥åŠ è½½æ¥è‡ª<a class="ae jo" href="https://docs.locize.com/whats-inside/cdn-content-delivery-network" rel="noopener ugc nofollow" target="_blank"> CDN </a>çš„ç¿»è¯‘(åœ¨æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯)ã€‚</p><p id="e6de" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">è¿™æ ·çš„é…ç½®å¯èƒ½å¦‚ä¸‹æ‰€ç¤º:</p><pre class="lr ls lt lu fd lv lq lw lx aw ly bi"><span id="c66b" class="lz kl hi lq b fi ma mb l mc md">// next-i18next.config.js<br/>module.exports = {<br/>  i18n: {<br/>    defaultLocale: 'en',<br/>    locales: ['en', 'de'],<br/>  },<br/>  backend: {<br/>    projectId: 'd3b405cf-2532-46ae-adb8-99e88d876733',<br/>    // apiKey: 'myApiKey', // to not add the api-key in production, used for saveMissing feature<br/>    referenceLng: 'en'<br/>  },<br/>  use: [<br/>    require('i18next-locize-backend/cjs')<br/>  ],<br/>  ns: ['common', 'footer', 'second-page'], // the namespaces needs to be listed here, to make sure they got preloaded<br/>  serializeConfig: false, // because of the custom use i18next plugin<br/>  // debug: true,<br/>  // saveMissing: true, // to not saveMissing to true for production<br/>}</span></pre><p id="325d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">åœ¨è¿™é‡Œä½ ä¼šæ‰¾åˆ°æ›´å¤šçš„ä¿¡æ¯å’Œä¸€ä¸ªä¾‹å­ã€‚</p><p id="5784" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ç”±äºæœ‰äº†<a class="ae jo" href="https://github.com/i18next/i18next-chained-backend" rel="noopener ugc nofollow" target="_blank"> i18next-chained-backend </a>ï¼Œè¿˜å¯ä»¥åœ¨æœ¬åœ°ç¼“å­˜ç¿»è¯‘ã€‚<a class="ae jo" href="https://github.com/locize/next-i18next-locize#optional-server-side-caching-to-filesystem" rel="noopener ugc nofollow" target="_blank">åœ¨è¿™é‡Œ</a>ä½ å¯ä»¥æ‰¾åˆ°æ›´å¤šå…³äºè¿™ä¸ªé€‰é¡¹çš„ä¿¡æ¯ã€‚</p><p id="8ec5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><em class="js">å¦‚æœä½ æ­£åœ¨ä¸€ä¸ªæ— æœåŠ¡å™¨çš„ç¯å¢ƒä¸­éƒ¨ç½²ä½ çš„Next.jsåº”ç”¨ç¨‹åºï¼Œè€ƒè™‘ä½¿ç”¨ç¬¬äºŒç§å¯èƒ½æ€§â€¦ </em> <br/> <em class="js">æ›´å¤šå…³äºè¿™ä¸ªåŸå› çš„ä¿¡æ¯å¯ä»¥åœ¨</em> <a class="ae jo" href="https://github.com/locize/i18next-locize-backend#important-advice-for-serverless-environments---aws-lambda-google-cloud-functions-azure-functions-etc" rel="noopener ugc nofollow" target="_blank"> <em class="js">è¿™é‡Œ</em> </a> <em class="js">æ‰¾åˆ°ã€‚</em></p><h1 id="aea7" class="kk kl hi bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh bi translated">å¯èƒ½æ€§2:æ†ç»‘ç¿»è¯‘å¹¶ä¿æŒåŒæ­¥</h1><p id="006c" class="pw-post-body-paragraph iq ir hi is b it li iv iw ix lj iz ja jb lk jd je jf ll jh ji jj lm jl jm jn hb bi translated">å¦‚æœä½ ä¸ç¡®å®šï¼Œå°±é€‰æ‹©è¿™ç§æ–¹å¼ã€‚</p><p id="4f37" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æ­¤é€‰é¡¹ä¸ä¼šæ›´æ”¹â€œæ™®é€šâ€next-i18nexté¡¹ç›®çš„é…ç½®:</p><pre class="lr ls lt lu fd lv lq lw lx aw ly bi"><span id="0fe3" class="lz kl hi lq b fi ma mb l mc md">// next-i18next.config.js<br/>module.exports = {<br/>  i18n: {<br/>    defaultLocale: 'en',<br/>    locales: ['en', 'de'],<br/>  }<br/>}</span></pre><p id="59f2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">åœ¨â€œéƒ¨ç½²â€åº”ç”¨ç¨‹åºä¹‹å‰ï¼Œåªéœ€ä¸‹è½½æˆ–åŒæ­¥æ‚¨çš„æœ¬åœ°ç¿»è¯‘ã€‚</p><p id="5795" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥æ‰¾åˆ°æ›´å¤šçš„ä¿¡æ¯å’Œä¾‹å­ã€‚</p><p id="fc1c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥è¿è¡Œä¸€ä¸ª<a class="ae jo" href="https://github.com/locize/next-i18next-locize/blob/main/package.json#L6" rel="noopener ugc nofollow" target="_blank"> npmè„šæœ¬è„šæœ¬</a>(æˆ–ç±»ä¼¼çš„)ï¼Œå®ƒå°†ä½¿ç”¨<a class="ae jo" href="https://github.com/locize/locize-cli" rel="noopener ugc nofollow" target="_blank"> cli </a>å°†ç¿»è¯‘ä»locizeä¸‹è½½åˆ°next-i18nextæ­£åœ¨æŸ¥æ‰¾çš„é€‚å½“æ–‡ä»¶å¤¹ä¸­(å³<code class="du ln lo lp lq b">./public/locales</code>)ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œç¿»è¯‘æ†ç»‘åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­ï¼Œä½ ä¸ä¼šåœ¨è¿è¡Œæ—¶ç”Ÿæˆä»»ä½•CDNä¸‹è½½ã€‚</p><p id="5b79" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">å³<code class="du ln lo lp lq b">locize download --project-id=d3b405cf-2532-46ae-adb8-99e88d876733 --ver=latest --clean=true --path=./public/locales</code></p><h1 id="7a8f" class="kk kl hi bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh bi translated">ğŸ‰ğŸ¥³ç»“è®ºğŸŠğŸ</h1><p id="eef6" class="pw-post-body-paragraph iq ir hi is b it li iv iw ix lj iz ja jb lk jd je jf ll jh ji jj lm jl jm jn hb bi translated">å¦‚ä½ æ‰€è§ï¼Œi18nåœ¨æœåŠ¡å™¨ç«¯ä¹Ÿå¾ˆé‡è¦ã€‚</p><p id="018a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æˆ‘å¸Œæœ›ä½ å·²ç»å­¦åˆ°äº†ä¸€äº›å…³äºæœåŠ¡å™¨ç«¯å›½é™…åŒ–å’Œç°ä»£æœ¬åœ°åŒ–å·¥ä½œæµç¨‹çš„æ–°ä¸œè¥¿ã€‚</p><p id="d1d7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">å› æ­¤ï¼Œå¦‚æœä½ æƒ³è®©ä½ çš„i18nè¯é¢˜æ›´ä¸Šä¸€å±‚æ¥¼ï¼Œå€¼å¾—å°è¯•ä¸€ä¸‹<a class="ae jo" href="https://www.i18next.com/" rel="noopener ugc nofollow" target="_blank"> i18next </a>å’Œ<a class="ae jo" href="https://www.locize.com/" rel="noopener ugc nofollow" target="_blank"> locize </a>ã€‚</p><p id="9090" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi">ğŸ‘</p></div></div>    
</body>
</html>