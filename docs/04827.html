<html>
<head>
<title>Visualising Schema Registry</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å¯è§†åŒ–æ¨¡å¼æ³¨å†Œè¡¨</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/geekculture/visualising-schema-registry-9cbafe89e56?source=collection_archive---------34-----------------------#2021-07-04">https://medium.com/geekculture/visualising-schema-registry-9cbafe89e56?source=collection_archive---------34-----------------------#2021-07-04</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/dc912caae5bdef163a5ae5bb672b7a66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*sLupsMnc0MQksT3B.png"/></div></div></figure><p id="6b96" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ç°åœ¨ï¼Œå¦‚æœæ‚¨æƒ³åœ¨Kafkaé›†ç¾¤ä¸­ä½¿ç”¨æ¨¡å¼ï¼ŒSchema Registryæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å·¥å…·ã€‚å®ƒè·Ÿè¸ªä¸åŒçš„ç‰ˆæœ¬ï¼Œå…è®¸æ¨¡å¼ä¹‹é—´çš„å…¼å®¹æ€§ï¼Œæ”¯æŒä¸åŒçš„æ ¼å¼ç±»å‹(jsonã€avroã€protobufç­‰ç­‰)ã€‚</p><p id="44cf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">å¦‚æœåœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œæ‰€æœ‰è¿™äº›å¯¹ä½ æ¥è¯´éƒ½æ˜¯ä¸€ä¸ªå¤§é—®å·ï¼Œé‚£ä¹ˆåœ¨ç»§ç»­ä¹‹å‰ï¼ŒæŸ¥çœ‹ä¸€ä¸‹æ±‡åˆæ–‡æ¡£<a class="ae jo" href="https://docs.confluent.io/platform/current/schema-registry/index.html" rel="noopener ugc nofollow" target="_blank">ç¬¬</a>é¡µã€‚</p><p id="99a7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆè¿˜è¦å¯è§†åŒ–æ¨¡å¼æ³¨å†Œå‘¢ï¼Ÿå¥½é—®é¢˜ã€‚è¯¥é¡¹ç›®ç»“åˆäº†ä¸€äº›æŠ€æœ¯ä¹è¶£å’Œåœ¨Schema Registryä¸­å¯è§†åŒ–ä¾èµ–å…³ç³»çš„éœ€æ±‚ã€‚åœ¨å½“å‰çš„é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å·²ç»å†³å®šä½¿ç”¨<a class="ae jo" href="https://developers.google.com/protocol-buffers" rel="noopener ugc nofollow" target="_blank"> Protobuf </a>ä½œä¸ºæ¨¡å¼æä¾›è€…çš„é€‰æ‹©ã€‚æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªâ€œå…¬å…±â€Protobufåº“ï¼Œæè¿°äº†ä¸ä¸šåŠ¡è¯æ±‡ç›¸åŒ¹é…çš„åŸºæœ¬å’Œå¤æ‚ç±»å‹ã€‚æœ‰äº†è¿™äº›ç±»å‹ï¼Œæ¯ä¸ªå›¢é˜Ÿéƒ½å¯ä»¥åœ¨ä»–ä»¬çš„é¢†åŸŸå†…æ ¹æ®éœ€è¦æ„å»ºæ›´å¤æ‚çš„æ¨¡å¼ã€‚å¼€å§‹çš„æ—¶å€™ä¸€åˆ‡éƒ½å¾ˆå¥½ï¼Œç›´åˆ°å®ƒå˜æˆä¸€åªæœ‰æ›´å¤šä¾èµ–çš„é‡å…½ã€‚</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es jp"><img src="../Images/9c2819e7682c8082e33c10f6c7878cdb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VEvcmYIOH4r3_lGO"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx">Where does it start and end right ?</figcaption></figure><p id="56f4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">â€œé‚£åˆæ€ä¹ˆæ ·ï¼Ÿâ€æˆ‘å¬åˆ°ä½ åœ¨æƒ³ã€‚ç°åœ¨åˆ°äº†æ£˜æ‰‹çš„éƒ¨åˆ†ï¼Œä¸€ä¸ªå¼€å‘äººå‘˜èµ°åˆ°æ‚¨çš„åŠå…¬æ¡Œå‰(æˆ–é‚®ä»¶ä¸­),è¯´ä»–/å¥¹æƒ³åˆ é™¤ä¸€ä¸ªæ¨¡å¼ï¼Œä½†æ˜¯å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œç°åœ¨å¡ä½äº†ã€‚ç”±ä½ æ¥çº ç¼ è¿™ä¸ªçƒ‚æ‘Šå­ã€‚</p><h1 id="3b91" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">ä½ å¥½å›¾è¡¨</h1><p id="a075" class="pw-post-body-paragraph iq ir hi is b it kw iv iw ix kx iz ja jb ky jd je jf kz jh ji jj la jl jm jn hb bi translated">ä¸Šè¿°é—®é¢˜å¯ä»¥ä½œä¸ºä¸€ä¸ª<a class="ae jo" href="https://en.wikipedia.org/wiki/Graph_(abstract_data_type)#:~:text=In%20computer%20science%2C%20a%20graph,of%20graph%20theory%20within%20mathematics." rel="noopener ugc nofollow" target="_blank">å›¾å½¢</a>é—®é¢˜æ¥è§£å†³ã€‚Schema Registryä¸­çš„æ¯ä¸ªæ¡ç›®éƒ½å¯ä»¥çœ‹ä½œä¸€ä¸ªèŠ‚ç‚¹ï¼Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»å¯ä»¥çœ‹ä½œä¸€æ¡è¾¹ã€‚</p><p id="5f5f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ä¸ºäº†å¯è§†åŒ–è¿™ç§æƒ…å†µï¼Œæˆ‘é€‰æ‹©ä½¿ç”¨<a class="ae jo" href="https://d3js.org/" rel="noopener ugc nofollow" target="_blank"> D3.js </a>ï¼Œå®ƒæœ‰ä¸€äº›å¾ˆå¥½çš„æ–¹å¼æ¥å¯è§†åŒ–ä½ çš„å›¾è¡¨ã€‚</p><p id="2469" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">å¤ªå¥½äº†ï¼Œæˆ‘ä»¬æœ‰é—®é¢˜ï¼Œæˆ‘ä»¬æœ‰è§£å†³é—®é¢˜çš„æ–¹æ³•ï¼Œè®©æˆ‘ä»¬å»ºç«‹æˆ‘ä»¬çš„APIã€‚</p><h1 id="fcac" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">Python API</h1><p id="f77d" class="pw-post-body-paragraph iq ir hi is b it kw iv iw ix kx iz ja jb ky jd je jf kz jh ji jj la jl jm jn hb bi translated">æˆ‘å†³å®šç”¨pythonæ¥æ„å»ºè§£å†³æ–¹æ¡ˆï¼Œå› ä¸ºæˆ‘å¯ä»¥åˆ©ç”¨<a class="ae jo" href="https://networkx.org/" rel="noopener ugc nofollow" target="_blank"> NetworkX </a>æ¥è§£å†³æˆ‘çš„ç»˜å›¾é—®é¢˜ã€‚APIæœ¬èº«æ˜¯ç”¨<a class="ae jo" href="https://fastapi.tiangolo.com/" rel="noopener ugc nofollow" target="_blank"> FastAPI </a>ç¼–å†™çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªç”¨äºç¼–å†™REST APIçš„ç°ä»£æ¡†æ¶ã€‚</p><p id="e8d5" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æˆ‘ä»¬å°†çœ‹åˆ°ä¸¤ä¸ªç«¯ç‚¹ã€‚ç¬¬ä¸€ä¸ªç«¯ç‚¹å°†åˆ›å»ºå›¾å½¢å¹¶ä»¥JSONæ ¼å¼è¿”å›ç»“æ„ã€‚</p><p id="910d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ç¬¬äºŒä¸ªç«¯ç‚¹ä»…ç”¨äºæ¼”ç¤ºç›®çš„ï¼Œä½†å…è®¸æ‚¨åœ¨æœ¬åœ°webbrowserä¸­å¯è§†åŒ–å›¾å½¢ï¼Œè€Œæ— éœ€ç¼–å†™ä»»ä½•å‰ç«¯ä»£ç ã€‚</p><pre class="jq jr js jt fd lb lc ld le aw lf bi"><span id="58e4" class="lg jz hi lc b fi lh li l lj lk">@app.post("/viz_topic", response_class=JSONResponse)<br/>async def viz_topic(viz_subject_name: VizTopicSubjectInput):      result = viz_sr_topic(subject_name=viz_subject_name, sr_base_url=schema_registry_base_url)    <br/>return result  </span><span id="ab34" class="lg jz hi lc b fi ll li l lj lk">@app.get("/show/{graph_id}", response_class=HTMLResponse)<br/>return templates.TemplateResponse("graphd3.html", {"request": request, "graph_id": graph_id})</span></pre><p id="edf0" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">å¥½äº†ï¼Œæˆ‘ä»¬æœ‰äº†ç»ˆç‚¹ï¼Œè®©æˆ‘ä»¬å¼€å§‹è§£å†³å®é™…é—®é¢˜ã€‚</p><h2 id="5040" class="lg jz hi bd ka lm ln lo ke lp lq lr ki jb ls lt km jf lu lv kq jj lw lx ku ly bi translated">Pythonä¸æ¨¡å¼æ³¨å†Œä¸­å¿ƒçš„äº¤äº’</h2><p id="9c66" class="pw-post-body-paragraph iq ir hi is b it kw iv iw ix kx iz ja jb ky jd je jf kz jh ji jj la jl jm jn hb bi translated">è™½ç„¶Schema Registryæœ‰javaå’Œscalaçš„æœ¬åœ°åº“ï¼Œä½†å®ƒæ²¡æœ‰pythonçš„æœ¬åœ°åº“ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å®Œå…¨åœç•™åœ¨ä½¿ç”¨APIè°ƒç”¨æ¨¡å¼æ³¨å†Œè¡¨ä¸Šã€‚ä¸ºäº†å°½å¯èƒ½ä¿æŒç®€æ´ï¼Œæˆ‘æ„å»ºäº†ä¸€ä¸ªç±»ï¼Œå®ƒå…¬å¼€äº†æˆ‘éœ€è¦çš„ç«¯ç‚¹ã€‚</p><pre class="jq jr js jt fd lb lc ld le aw lf bi"><span id="3635" class="lg jz hi lc b fi lh li l lj lk">class SchemaRegistry():<br/>    def __init__(self, base_url):<br/>        self.base_url = base_url<br/>        self.protocol = urlparse(self.base_url).scheme</span><span id="bb33" class="lg jz hi lc b fi ll li l lj lk">def get_protocol(self):<br/>        """<br/>        Returns the protocol of a given URL<br/>        :return: str: Protocol<br/>        """<br/>        return self.protocol</span><span id="6990" class="lg jz hi lc b fi ll li l lj lk">def get_subject_versions_url(self, subject_name):<br/>        """<br/>        Creates the URL to retrieve the subject versions<br/>        :param subject_name: str: Name of the subject<br/>        :return: str<br/>        """<br/>        return self.base_url + "/subjects/{}/versions/".format(subject_name)<br/>...</span></pre><h2 id="6d7d" class="lg jz hi bd ka lm ln lo ke lp lq lr ki jb ls lt km jf lu lv kq jj lw lx ku ly bi translated">å·²ç»å»ºç«‹äº†å›¾è¡¨</h2><p id="d5f5" class="pw-post-body-paragraph iq ir hi is b it kw iv iw ix kx iz ja jb ky jd je jf kz jh ji jj la jl jm jn hb bi translated">å¯¹å—ï¼Ÿï¼å¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬å·²ç»æœ‰äº†ä¸€äº›è¾…åŠ©ç»„ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹æ„å»ºæˆ‘ä»¬çš„å›¾è¡¨äº†ã€‚è¿™ä¸ªæƒ³æ³•æ˜¯ï¼Œå¼€å‘äººå‘˜æä¾›ä¸€ä¸ªä¸»é¢˜ï¼Œæˆ‘ä»¬å¸Œæœ›æ˜¾ç¤ºè¯¥ä¸»é¢˜çš„æ‰€æœ‰ä¾èµ–å…³ç³»ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬åˆå§‹åŒ–ä¸€ä¸ªNetworkXå›¾å½¢ç»„ä»¶ã€‚è™½ç„¶NetworkXæ”¯æŒ<a class="ae jo" href="https://networkx.org/documentation/stable/auto_examples/index.html" rel="noopener ugc nofollow" target="_blank">ä¸åŒç±»å‹çš„</a>å›¾ï¼Œä½†æˆ‘è¿˜æ˜¯é€‰æ‹©äº†æ ‡å‡†ç±»å‹ã€‚</p><pre class="jq jr js jt fd lb lc ld le aw lf bi"><span id="7ae1" class="lg jz hi lc b fi lh li l lj lk">def viz_sr_topic(subject_name, sr_base_url):<br/>    """<br/>    This function will, for a given subject, query schema registry and generate a networkx graph from it.<br/>    :param subject_name: str: Name of the subject as in SR<br/>    :param sr_base_url: str: Full URL of SR<br/>    :return: none<br/>    """<br/>    G = nx.Graph()<br/>    versions = None<br/>    subject = subject_name.subjectname<br/>    persist_uuid = uuid.uuid4() if subject_name.persist else None</span><span id="b060" class="lg jz hi lc b fi ll li l lj lk">try:<br/>        if len(subject) == 0:<br/>            raise MissingSubjectNameException()<br/>        else:<br/>            G.add_node(subject)</span></pre><p id="3b34" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">åŸºæœ¬èŠ‚ç‚¹å°†è¢«è®¾ç½®ä¸ºæˆ‘ä»¬æŒ‡å®šçš„ä¸»é¢˜ï¼Œå› æ­¤æ¥ä¸‹æ¥æˆ‘ä»¬å°†æ£€ç´¢ä¾èµ–é¡¹ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç›®æ ‡ï¼Œæˆ‘ä»¬å¿…é¡»åšå‡ ä»¶äº‹:</p><ul class=""><li id="cc09" class="lz ma hi is b it iu ix iy jb mb jf mc jj md jn me mf mg mh bi translated">æ£€ç´¢ç»™å®šä¸»é¢˜çš„æ‰€æœ‰ç‰ˆæœ¬</li><li id="16a2" class="lz ma hi is b it mi ix mj jb mk jf ml jj mm jn me mf mg mh bi translated">å¯¹äºæ‰€æœ‰ç‰ˆæœ¬ï¼Œè·å–æ¨¡å¼å¼•ç”¨id</li><li id="3661" class="lz ma hi is b it mi ix mj jb mk jf ml jj mm jn me mf mg mh bi translated">å¦‚æœæˆ‘ä»¬å·²ç»æ‰¾åˆ°ä¸€ä¸ªæœ‰æ•ˆçš„æ¨¡å¼å¼•ç”¨idï¼Œè§£æé™„åŠ åˆ°å®ƒçš„æ¨¡å¼å¹¶æ·»åŠ åç§°ä½œä¸ºå¼•ç”¨ã€‚è¾¹ç¼˜å°†æ˜¯å‚è€ƒå’Œä¸»é¢˜ä¹‹é—´çš„é“¾æ¥</li></ul><pre class="jq jr js jt fd lb lc ld le aw lf bi"><span id="f03c" class="lg jz hi lc b fi lh li l lj lk">for version in json.loads(versions.text):<br/> version_response = do_url_request(<br/>  request_url=sr.get_references_url(subject_name=subject, version_id=version),<br/>  sr_protocol=sr.get_protocol())<br/> if version_response.status_code == 200:<br/>  for refId in json.loads(version_response.text):<br/>   schema_response = do_url_request(request_url=sr.get_schema_by_id_url(schema_id=refId),<br/>            sr_protocol=sr.get_protocol())<br/>   if schema_response.status_code == 200:<br/>    result = json.loads(schema_response.text)<br/>    for ref in result["references"]:<br/>     G.add_edge(subject, ref["name"])<br/>     G.add_node(ref["name"])</span></pre><h2 id="ce47" class="lg jz hi bd ka lm ln lo ke lp lq lr ki jb ls lt km jf lu lv kq jj lw lx ku ly bi translated">æœ€åä¸€æ­¥:æƒ³è±¡å®ƒ</h2><p id="18b4" class="pw-post-body-paragraph iq ir hi is b it kw iv iw ix kx iz ja jb ky jd je jf kz jh ji jj la jl jm jn hb bi translated">å¦‚å‰æ‰€è¿°ï¼Œè¿™åªæ˜¯ä¸ºäº†æ¼”ç¤ºçš„ç›®çš„è€Œæ·»åŠ çš„ï¼Œæˆ‘åšä¿¡è¿™ç§ç±»å‹çš„å·¥ä½œåº”è¯¥åœ¨ä¸€ä¸ªé€‚å½“çš„å‰ç«¯æ¡†æ¶ä¸­å®Œæˆã€‚</p><p id="48da" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æ‚¨å¯èƒ½å·²ç»æ³¨æ„åˆ°ï¼Œæˆ‘ä»¬å…è®¸ç”¨æˆ·å‘APIæä¾›ä¸€ä¸ªæ ‡å¿—æ¥æŒä¹…åŒ–è§£å†³æ–¹æ¡ˆï¼Œè¿™åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­æ„å‘³ç€åœ¨åç«¯ä¿å­˜jsonå¯¹è±¡ã€‚</p><p id="4b71" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">å½“æ‰€æœ‰çš„å¤„ç†å®Œæˆåï¼Œæˆ‘ä»¬æœ€ç»ˆè¿”å›ç»“æœï¼Œè¿™æ˜¯ä¸€ä¸ªåŒ…å«æ‰€æœ‰è¾¹å’Œä¾èµ–èŠ‚ç‚¹çš„JSONç»“æ„ã€‚å¦‚æœè®¾ç½®äº†persistæ ‡å¿—ï¼Œæˆ‘ä»¬è¿˜å°†è¾“å‡ºä¸€ä¸ªIDä½œä¸ºæœ‰æ•ˆè´Ÿè½½çš„ä¸€éƒ¨åˆ†ï¼Œå¹¶å°†è¿™ä¸ªIDä½œä¸ºæ–‡ä»¶åä¿å­˜åœ¨jsonå¯¹è±¡ä¸­ã€‚</p><pre class="jq jr js jt fd lb lc ld le aw lf bi"><span id="1f73" class="lg jz hi lc b fi lh li l lj lk">data = json_graph.node_link_data(G)<br/>if persist_uuid is None:<br/> return {"data": data, "uuid": ""}<br/>else:<br/> with open('static/' + str(persist_uuid) + '.json', 'w') as f:<br/>  json.dump(data, f, indent=4)</span><span id="6448" class="lg jz hi lc b fi ll li l lj lk">return {"data": data, "uuid": persist_uuid}</span></pre><p id="6050" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æ‰€ä»¥ç°åœ¨æ˜¯æ—¶å€™ä½¿ç”¨æˆ‘ä»¬çš„ç¬¬äºŒä¸ªç«¯ç‚¹äº†ã€‚è¿›å…¥ä½ çš„æµè§ˆå™¨ï¼Œè¾“å…¥ä»¥ä¸‹ç½‘å€â€œhttp://localhost/show/ <uuid from="" first="" endpoint=""/></p><p id="6651" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">FastAPIå…è®¸æ‚¨ä½¿ç”¨â€œTemplateResponseâ€ï¼Œå®ƒå¯ä»¥è¿”å›ä¸€ä¸ªhtmlé¡µé¢ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬é¦–å…ˆéœ€è¦åˆ›å»ºä¸€ä¸ªåŒ…å«D3.jsåº“çš„htmlé¡µé¢æ¥å¯è§†åŒ–æ•°æ®ã€‚</p><p id="29d1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æˆ‘ä»¬ä½¿ç”¨d3.jsonå‡½æ•°ä»ä¿å­˜åœ¨ç¬¬ä¸€ä¸ªAPIè°ƒç”¨ä¸­çš„æ–‡ä»¶ä¸­åŠ è½½æ•°æ®ã€‚</p><pre class="jq jr js jt fd lb lc ld le aw lf bi"><span id="48f8" class="lg jz hi lc b fi lh li l lj lk">d3.json("{{ url_for('static',path='.') }}/{{ graph_id }}.json", function(error, graph)</span></pre><p id="c1ea" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">å½“è°ƒç”¨ç»“æŸæ—¶ï¼Œæµè§ˆå™¨å°†å‘ˆç°æ‚¨çš„è¾“å‡ºã€‚æœ€ç»ˆäº§å“æ˜¯ä¸€ä¸ªåŠ¨æ€å›¾å½¢ï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­æ‹–åŠ¨ä¸åŒçš„èŠ‚ç‚¹ã€‚</p><figure class="jq jr js jt fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es mn"><img src="../Images/2f96e0fba3ffa39ad4e804cf370d44ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oLVk8IDP7MofjH1r"/></div></div><figcaption class="ju jv et er es jw jx bd b be z dx">Static screenshot of d3.js visualization</figcaption></figure><h1 id="fe41" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">HTTPSå¯ç”¨çš„æ¨¡å¼æ³¨å†Œè¡¨</h1><p id="ad8d" class="pw-post-body-paragraph iq ir hi is b it kw iv iw ix kx iz ja jb ky jd je jf kz jh ji jj la jl jm jn hb bi translated">åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ‚¨çš„æ¨¡å¼æ³¨å†Œä¸­å¿ƒå°†å¯ç”¨HTTPS(å¦‚æœæ²¡æœ‰ï¼Œè¯·ç¡®ä¿å®ƒæ˜¯å¯ç”¨çš„ğŸ˜±).å› ä¸ºæˆ‘ä»¬ä½¿ç”¨è¯·æ±‚åŒ…æ¥è°ƒç”¨æ¨¡å¼æ³¨å†Œä¸­å¿ƒç«¯ç‚¹ï¼Œæ‰€ä»¥å¯ä»¥å°†è¯ä¹¦æŒ‡å®šä¸ºè°ƒç”¨çš„ä¸€éƒ¨åˆ†ã€‚</p><p id="8194" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">åœ¨å‡½æ•°â€œdo_url_requestâ€ä¸­ï¼Œæˆ‘ä»¬å°†æ£€æŸ¥urlæ˜¯å¦ä½¿ç”¨HTTPSï¼Œå¦‚æœæ˜¯ï¼Œæˆ‘ä»¬å°†æ£€æŸ¥ç¯å¢ƒå˜é‡â€œCERT_FILE_PATHâ€æ˜¯å¦åŒ…å«è¯ä¹¦ã€‚å¦‚æœæ‚¨åœ¨æ²¡æœ‰è¿™ä¸ªç¯å¢ƒå˜é‡çš„æƒ…å†µä¸‹è¿›è¡ŒHTTPSè°ƒç”¨ï¼Œæˆ‘ä»¬å°†å¼•å‘ä¸€ä¸ªè‡ªå®šä¹‰é”™è¯¯ï¼Œå› ä¸ºæˆ‘ä»¬çŸ¥é“è¿™å°†æ°¸è¿œä¸ä¼šå¯¼è‡´æˆåŠŸçš„è°ƒç”¨ã€‚</p><pre class="jq jr js jt fd lb lc ld le aw lf bi"><span id="d267" class="lg jz hi lc b fi lh li l lj lk">def do_url_request(request_url, sr_protocol):<br/>    """<br/>    Helper function to handle requests for Schema registry. If https is used, a valid cerificate must be present<br/>    :param request_url: str: URL endpoint you are trying to reach<br/>    :param sr_protocol: str: Protocol (http or https)<br/>    :return: requests.Response<br/>    """<br/>    if sr_protocol == "http":<br/>        return requests.get(url=request_url, headers={'content-type': 'application/json'})<br/>    else:<br/>        if "CERT_FILE_PATH" in os.environ:<br/>            return requests.get(url=request_url, headers={'content-type': 'application/json'},verify=os.getenv("CERT_FILE_PATH"))<br/>        else:<br/>            raise MissingCertFilePath()</span></pre><h1 id="b3d9" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">æƒ³åœ¨Dockerä¸Šè¿è¡Œè¿™ä¸ªå—ï¼Ÿ</h1><p id="47c6" class="pw-post-body-paragraph iq ir hi is b it kw iv iw ix kx iz ja jb ky jd je jf kz jh ji jj la jl jm jn hb bi translated">æˆ‘æŠŠå®ƒä½œä¸ºè§£å†³æ–¹æ¡ˆçš„ä¸€éƒ¨åˆ†ã€‚å¦‚æœæ‚¨æƒ³å°†æ•´ä¸ªè®¾ç½®ä½œä¸ºDockerè§£å†³æ–¹æ¡ˆè¿è¡Œï¼Œæ‚¨å¯ä»¥ã€‚ä»é¡¹ç›®çš„æ ¹ç›®å½•ï¼Œæ‚¨å¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤</p><pre class="jq jr js jt fd lb lc ld le aw lf bi"><span id="c0b7" class="lg jz hi lc b fi lh li l lj lk">docker build -t schema_registry_visualizer -f Docker/Dockerfile .</span></pre><h1 id="a736" class="jy jz hi bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">ç»“è®º</h1><p id="8232" class="pw-post-body-paragraph iq ir hi is b it kw iv iw ix kx iz ja jb ky jd je jf kz jh ji jj la jl jm jn hb bi translated">è¿™ä¸ªé¡¹ç›®æ˜¯ä¸€ä¸ªå•†ä¸šé—®é¢˜çš„ä¸€éƒ¨åˆ†ï¼Œä½†ç»“åˆäº†ä¸€äº›æŠ€æœ¯æ–¹é¢ï¼Œä½¿å®ƒå¯¹å¼€å‘è€…æ¥è¯´ä¹Ÿå¾ˆæœ‰è¶£ã€‚åƒå¾€å¸¸ä¸€æ ·ï¼Œæ•´ä¸ªè§£å†³æ–¹æ¡ˆå¯ä»¥åœ¨æˆ‘çš„<a class="ae jo" href="https://github.com/Ycallaer/schema_registry_viz" rel="noopener ugc nofollow" target="_blank"> githubé¡µé¢</a>ä¸Šæ‰¾åˆ°ï¼Œæ–‡æ¡£åœ¨README.mdå’Œä»£ç ä¸­ã€‚å¸Œæœ›ä½ å–œæ¬¢è¿™ä¸ªå°æ•…äº‹ï¼Œå¹¶åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å­¦åˆ°äº†ä¸€äº›ä¸œè¥¿ã€‚</p></div></div>    
</body>
</html>