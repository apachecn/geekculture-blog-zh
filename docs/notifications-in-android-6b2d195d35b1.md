# Android ä¸­çš„é€šçŸ¥

> åŸæ–‡ï¼š<https://medium.com/geekculture/notifications-in-android-6b2d195d35b1?source=collection_archive---------1----------------------->

![](img/6d464be4a5fac2945fea85dc8490e82f.png)

[https://ifunny.co/picture/tinder-yesterday-10-22-am-who-are-all-these-new-Wbsry7hr6?s=cl](https://ifunny.co/picture/tinder-yesterday-10-22-am-who-are-all-these-new-Wbsry7hr6?s=cl)

é€šçŸ¥æ˜¯æˆ‘ä»¬åœ¨åº”ç”¨ç¨‹åºå¤–éƒ¨å‘ç”¨æˆ·æ˜¾ç¤ºçš„æ˜¾ç¤ºæ¶ˆæ¯ã€‚å®ƒæœ‰åŠ©äºæé†’åŸºäºæ—¶é—´çš„äº‹æƒ…æˆ–ä¸å…¶ä»–äººäº¤æµã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡ç‚¹å‡»é€šçŸ¥æ¥æ‰“å¼€åº”ç”¨ç¨‹åºï¼Œæˆ–è€…åªåœ¨é‚£é‡Œæä¾›æ“ä½œã€‚

å°±åƒåœ¨ WhatsApp ä¸­ï¼Œå¦‚æœç”¨æˆ·ç‚¹å‡»é€šçŸ¥ï¼Œæˆ‘ä»¬ä¼šæ”¶åˆ°æ¶ˆæ¯é€šçŸ¥ï¼Œæˆ‘ä»¬ä¼šæ‰“å¼€ä¸€ä¸ªèŠå¤©çª—å£ï¼Œæˆ–è€…æˆ‘ä»¬å¯ä»¥ç®€å•åœ°åœ¨é€šçŸ¥ä¸­é”®å…¥æˆ‘ä»¬çš„æ¶ˆæ¯ã€‚ç„¶åå‘é€å‡ºå»ã€‚

# è®¾å¤‡ä¸Šçš„å¤–è§‚

![](img/ce1e22c52703e79eb1ef862524d6053c.png)

Notification icons appear on left side of status bar

![](img/9ac5a75a20a23aa0f63e72606b756c8c.png)![](img/db2fc5df1b963177b269da881484e047.png)![](img/d54bd1b76515fd5b57f543eb345a39a1.png)

Reminder for sleep time in HealthifyMe app

ç”¨æˆ·å¯ä»¥åœ¨æœ€ä¸Šé¢çš„æŠ½å±‰ä¸­çœ‹åˆ°é€šçŸ¥ã€‚é€šçŸ¥å¡åŒ…å«å›¾æ ‡ã€æ ‡é¢˜ã€æ¶ˆæ¯ã€å¤§å›¾æ ‡å’Œæ“ä½œæŒ‰é’®ã€‚

ç”¨æˆ·å¯ä»¥å‘ä¸‹æ‹–åŠ¨é€šçŸ¥æ¥æŸ¥çœ‹æ‰©å±•è§†å›¾ã€‚

é€šçŸ¥åœ¨é€šçŸ¥æŠ½å±‰ä¸­ä¿æŒå¯è§ï¼Œç›´åˆ°è¢«åº”ç”¨ç¨‹åºæˆ–ç”¨æˆ·å–æ¶ˆã€‚

é€šçŸ¥å°†åœ¨é”å®šå±å¹•ä¸Šå¯è§ï¼Œç›´åˆ°ç”¨æˆ·ä»è®¾ç½®ä¸­éšè—å®ƒã€‚

![](img/f698fb6ea3a800388660057ae7b51f5a.png)![](img/02d722278c6952452751d69cce0394c9.png)

Gmail small and expanded notification view

æ­£å¦‚ä½ ä»ä¸Šé¢çš„æˆªå›¾ä¸­çœ‹åˆ°çš„ï¼Œå·¦è¾¹æ˜¯ä¸€ä¸ªç”µå­é‚®ä»¶é€šçŸ¥çš„å°è§†å›¾ï¼Œå½“ç”¨æˆ·æ‹–åŠ¨å®ƒæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€ä¸ªæ‰©å±•çš„è§†å›¾ã€‚æˆ‘ä»¬è¿™é‡Œæœ‰ä¸¤ä¸ªåŠ¨ä½œæŒ‰é’®å­˜æ¡£å’Œå›å¤ã€‚ç‚¹å‡»è¿™äº›æŒ‰é’®ï¼Œç”¨æˆ·å°†è¿›å…¥ä¸€ä¸ªé›†æˆå±å¹•ã€‚åœ¨æœ¬æ–‡çš„ä¸‹ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°å¦‚ä½•å®ç°è¿™ä¸€ç‚¹ã€‚

# åˆ›å»ºé€šçŸ¥

æˆ‘ä»¬å°†ä»åŸºç¡€å¼€å§‹ï¼Œç„¶åè½¬å‘æ‰©å±•ã€è¡ŒåŠ¨å’Œ it ä¼˜å…ˆçº§ã€‚åŸºæœ¬é€šçŸ¥åŒ…å«å›¾æ ‡ã€æ ‡é¢˜å’Œæ¶ˆæ¯ï¼Œç„¶åå•å‡»ã€‚

**è®¾ç½®é€šçŸ¥å†…å®¹:**

![](img/ae2478fd3615e960b12bdf691dc329af.png)

[https://developer.android.com/images/ui/notifications/notification-callouts_2x.png](https://developer.android.com/images/ui/notifications/notification-callouts_2x.png)

1.  **å°å›¾æ ‡**:ä»ä¸Šé¢çš„æˆªå›¾æ¥çœ‹ï¼Œå°å›¾æ ‡ä¼šè¢«`[setSmallIcon()](https://developer.android.com/reference/androidx/core/app/NotificationCompat.Builder#setSmallIcon(int))`è®¾ç½®ã€‚
2.  **App åç§°**:ç”±ç³»ç»Ÿæä¾›ã€‚
3.  **æ—¶é—´æˆ³**:è¿™æ˜¯ç³»ç»Ÿæä¾›çš„ï¼Œä½†æ˜¯ä½ å¯ä»¥ç”¨`setWhen()`è¦†ç›–å®ƒæˆ–è€…ç”¨`setShowWhen(false)`éšè—å®ƒã€‚
4.  **å¤§å›¾æ ‡**:è¿™æ˜¯å¯é€‰çš„(é€šå¸¸åªç”¨äºè”ç³»äººç…§ç‰‡ï¼›ä¸è¦ç”¨äºä½ çš„åº”ç”¨å›¾æ ‡)å¹¶ç”¨`setLargeIcon()`è®¾ç½®ã€‚
5.  **æ ‡é¢˜**:å¯é€‰ï¼Œç”¨`setContentTitle()`è®¾ç½®ã€‚
6.  **æ–‡æœ¬**:å¯é€‰ï¼Œç”¨`setContentText()`è®¾ç½®ã€‚

æ‚¨éœ€è¦ä½¿ç”¨ä¸€ä¸ª`NotificationCompat.Builder`å¯¹è±¡æ¥è®¾ç½®é€šçŸ¥çš„å†…å®¹å’Œé€šé“ã€‚

```
val builder = NotificationCompat.Builder(context, NotificationUtils.*CHANNEL_OTHERS*)
builder.setContentTitle(title)
    .setContentText(message)
    .setSmallIcon(icon)
    .setWhen(notificationTimeInMillis)
    .setColor(ContextCompat.getColor(context, R.color.*brand_nutrition_track*))
    .setStyle(NotificationCompat.BigTextStyle().bigText(message))
    .setDeleteIntent(dismissIntent)
```

æ³¨æ„`NotificationCompat.Builder`æ„é€ å‡½æ•°è¦æ±‚æ‚¨æä¾›ä¸€ä¸ªé€šé“ IDã€‚è¿™æ˜¯ä¸ Android 8.0 (API çº§åˆ« 26)å’Œæ›´é«˜ç‰ˆæœ¬å…¼å®¹æ‰€å¿…éœ€çš„ï¼Œä½†è¢«æ—§ç‰ˆæœ¬å¿½ç•¥ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œé€šçŸ¥æ–‡æœ¬åœ¨ä¸€è¡Œä¸­ã€‚**å¦‚æœæ‚¨çš„å†…å®¹å¾ˆå¤§ï¼Œæ— æ³•åœ¨ä¸€è¡Œä¸­æ˜¾ç¤ºï¼Œæ‚¨å¯ä»¥é€šè¿‡æ·»åŠ æ ·å¼æ¥æ·»åŠ æ‰©å±•è§†å›¾**:

```
setStyle(NotificationCompat.BigTextStyle().bigText(message)
```

**åˆ›å»ºé¢‘é“**

åœ¨ Android 8.0 å’Œæ›´é«˜ç‰ˆæœ¬ä¸Šå‘é€é€šçŸ¥ä¹‹å‰ï¼Œæ‚¨å¿…é¡»é€šè¿‡å°†`NotificationChannel`çš„å®ä¾‹ä¼ é€’ç»™`createNotificationChannel()`æ¥å‘ç³»ç»Ÿæ³¨å†Œæ‚¨çš„åº”ç”¨ç¨‹åºçš„é€šçŸ¥é€šé“ã€‚æ‰€ä»¥ä¸‹é¢çš„ä»£ç è¢«`[SDK_INT](https://developer.android.com/reference/android/os/Build.VERSION#SDK_INT)`ç‰ˆæœ¬ä¸Šçš„ä¸€ä¸ªæ¡ä»¶é˜»å¡äº†:

å› ä¸ºåœ¨ android 8.0 æˆ–æ›´é«˜ç‰ˆæœ¬ä¸Šéœ€è¦è®¾ç½®ä¸€ä¸ªé€šçŸ¥é€šé“æ¥å‘é€é€šçŸ¥ï¼Œæ‰€ä»¥è¿™åº”è¯¥åœ¨åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶æˆ–è€…è‡³å°‘åœ¨åˆ›å»ºé€šçŸ¥æ„å»ºå™¨ä¹‹å‰è¿›è¡Œã€‚

å¸¦é¢‘é“çš„ç”¨æˆ·æ§åˆ¶åº”ç”¨ç¨‹åºé€šçŸ¥ã€‚æˆ‘ä»¬å¯ä»¥è¿›å…¥åº”ç”¨ç¨‹åºè®¾ç½®->é€šçŸ¥ï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªè¿™æ ·çš„çª—å£ã€‚

![](img/1c5e68a09243d6d179c9a5ca1a006cd3.png)

ä¸Šé¢ä½ å¯ä»¥çœ‹åˆ° HealthifyMe åº”ç”¨ä¸­çš„é¢‘é“åˆ—è¡¨ã€‚å¦‚æœæˆ‘ä»¬ä¸æƒ³è¦ç‰¹å®šçš„é€šé“é€šçŸ¥ï¼Œåªéœ€ç¦ç”¨å®ƒã€‚

**é”å±å¯è§†æ€§**

ä»ä¸Šé¢çš„ä»£ç ç‰‡æ®µå¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬æ­£åœ¨è®¾ç½®**é”å±å¯è§æ€§ã€‚**ç”¨äºå®‰å…¨ç›®çš„ï¼Œæ¯”å¦‚ç”¨æˆ·ä¸æƒ³åœ¨è®¾å¤‡é”å®šæ—¶æ˜¾ç¤ºé€šçŸ¥ï¼Œæˆ–è€…åªæƒ³æ˜¾ç¤ºæœ‰é™çš„å†…å®¹ã€‚

ä½¿ç”¨ `**setVisibility()**`æ–¹æ³•:

*   `[VISIBILITY_PUBLIC](https://developer.android.com/reference/androidx/core/app/NotificationCompat#VISIBILITY_PUBLIC)`æ˜¾ç¤ºé€šçŸ¥çš„å…¨éƒ¨å†…å®¹ã€‚
*   `[VISIBILITY_SECRET](https://developer.android.com/reference/androidx/core/app/NotificationCompat#VISIBILITY_SECRET)`åœ¨é”å®šå±å¹•ä¸Šä¸æ˜¾ç¤ºè¯¥é€šçŸ¥çš„ä»»ä½•éƒ¨åˆ†ã€‚
*   `[VISIBILITY_PRIVATE](https://developer.android.com/reference/androidx/core/app/NotificationCompat#VISIBILITY_PRIVATE)`æ˜¾ç¤ºåŸºæœ¬ä¿¡æ¯ï¼Œå¦‚é€šçŸ¥çš„å›¾æ ‡å’Œå†…å®¹æ ‡é¢˜ï¼Œä½†éšè—é€šçŸ¥çš„å…¨éƒ¨å†…å®¹ã€‚

**è®¾ç½®é€šçŸ¥ä¼˜å…ˆçº§**

é€šçŸ¥ä¼˜å…ˆçº§å®šä¹‰äº†å½“ç”¨æˆ·åœ¨åšå…¶ä»–äº‹æƒ…æ—¶ï¼Œä¸€ä¸ªé€šé“å¦‚ä½•ä¸­æ–­ç”¨æˆ·æ¥æ˜¾ç¤ºé€šçŸ¥ã€‚

![](img/8e239b0738470fe77960b7ccda701cf3.png)

[https://ifunny.co/picture/me-knock-knock-my-dad-is-it-the-interrupting-cow-Xsgbeaca6?s=cl](https://ifunny.co/picture/me-knock-knock-my-dad-is-it-the-interrupting-cow-Xsgbeaca6?s=cl)

æ‚¨æŒ‡å®šçš„é‡è¦æ€§çº§åˆ«å°†æ˜¯é¢‘é“çš„é»˜è®¤å€¼ã€‚ç”¨æˆ·å¯ä»¥åœ¨ Android è®¾ç½®ä¸­æ›´æ”¹é¢‘é“çš„é‡è¦æ€§çº§åˆ«ã€‚

![](img/eb3d443b2be6e5997fcf1fb77bf205d3.png)

```
setPriority(NotificationCompat.PRIORITY_DEFAULT)
```

**é€šçŸ¥çš„ç‚¹å‡»åŠ¨ä½œ**

å½“æ‚¨å•å‡»é€šçŸ¥æ—¶ï¼Œå®ƒåº”è¯¥ä¼šæ‰“å¼€ä¸€ä¸ªæ´»åŠ¨ï¼Œä¸ºæ­¤ï¼Œæ‚¨å¿…é¡»æŒ‡å®šä¸€ä¸ªç”¨`[PendingIntent](https://developer.android.com/reference/android/app/PendingIntent)`å¯¹è±¡å®šä¹‰çš„å†…å®¹æ„å›¾ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™`[setContentIntent()](https://developer.android.com/reference/androidx/core/app/NotificationCompat.Builder#setContentIntent(android.app.PendingIntent))`ã€‚

è¯·æ³¨æ„ï¼Œæˆ‘ä»¬æ·»åŠ äº† setAutoCancel()ï¼Œå½“æ‚¨ç‚¹å‡»å®ƒæ—¶ï¼Œå®ƒå°†å–æ¶ˆé€šçŸ¥ã€‚

**è®¾ç½®æ ‡å¿—**

```
val pendingIntent = PendingIntent.getActivity(context,
    notificationId,activityIntent,PendingIntent.*FLAG_CANCEL_CURRENT*)
```

å½“æˆ‘ä»¬ä¸ºé€šçŸ¥çš„è§¦æ‘¸åŠ¨ä½œåˆ›å»ºå¾…å®šæ„å‘æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨`setFlags()`æ–¹æ³•æˆ–åœ¨æ–¹æ³•ä¸­æä¾›å¯¹è±¡å€¼æ¥è®¾ç½®æ ‡å¿— yã€‚å®ƒæœ‰åŠ©äºåœ¨ç”¨æˆ·é€šè¿‡é€šçŸ¥æ‰“å¼€æ‚¨çš„åº”ç”¨ç¨‹åºåï¼Œä¿æŒä»–ä»¬é¢„æœŸçš„å¯¼èˆªä½“éªŒã€‚

ç°åœ¨ï¼Œæˆ‘ä»¬æ˜¯å¦éœ€è¦è®¾ç½®è¿™å–å†³äºæˆ‘ä»¬æ­£åœ¨æ‰“å¼€çš„æ´»åŠ¨çš„ç±»å‹ã€‚æœ‰ä¸¤ç§æƒ…å†µ:

*   **å¸¸è§„æ´»åŠ¨**:è¿™æ˜¯ä½œä¸ºä½ çš„åº”ç”¨æ­£å¸¸ UX æµçš„ä¸€éƒ¨åˆ†è€Œå­˜åœ¨çš„æ´»åŠ¨ã€‚å› æ­¤ï¼Œå½“ç”¨æˆ·ä»é€šçŸ¥åˆ°è¾¾æ´»åŠ¨æ—¶ï¼Œæ–°ä»»åŠ¡åº”è¯¥åŒ…æ‹¬ä¸€ä¸ªå®Œæ•´çš„ [back stack](https://developer.android.com/guide/components/activities/tasks-and-back-stack) ï¼Œå…è®¸ä»–ä»¬æŒ‰ *Back* å¹¶åœ¨åº”ç”¨ç¨‹åºå±‚æ¬¡ç»“æ„ä¸­å‘ä¸Šå¯¼èˆªã€‚
*   **ç‰¹æ®Šæ´»åŠ¨**:åªæœ‰ä»é€šçŸ¥å¼€å§‹ï¼Œç”¨æˆ·æ‰èƒ½çœ‹åˆ°è¯¥æ´»åŠ¨ã€‚ä»æŸç§æ„ä¹‰ä¸Šè¯´ï¼Œè¯¥æ´»åŠ¨é€šè¿‡æä¾›éš¾ä»¥åœ¨é€šçŸ¥æœ¬èº«ä¸­æ˜¾ç¤ºçš„ä¿¡æ¯æ¥æ‰©å±•é€šçŸ¥ UIã€‚æ‰€ä»¥è¿™ä¸ªæ´»åŠ¨ä¸éœ€è¦ back stackã€‚

**å…³äºæ ‡å¿—çš„è¯¦ç»†ä¿¡æ¯**

æˆ‘ä»¬å·²ç»è®¨è®ºäº†ä¸€äº›åœ¨åˆ›å»º`PendingIntent`æ—¶å¯ä»¥ä½¿ç”¨çš„æ ‡å¿—ï¼Œä½†æ˜¯è¿˜æœ‰ä¸€äº›å…¶ä»–çš„æ ‡å¿—éœ€è¦è®¨è®ºã€‚

ğŸ¤¡`[FLAG_IMMUTABLE](https://developer.android.com/reference/kotlin/android/app/PendingIntent#FLAG_IMMUTABLE:kotlin.Int)`:è¡¨ç¤º`PendingIntent`å†…çš„æ„å›¾ä¸èƒ½è¢«ä¼ é€’`Intent`åˆ°`PendingIntent.send()`çš„å…¶ä»–åº”ç”¨ä¿®æ”¹ã€‚ä¸€ä¸ªåº”ç”¨ç¨‹åºæ€»æ˜¯å¯ä»¥ä½¿ç”¨`FLAG_UPDATE_CURRENT`æ¥ä¿®æ”¹å®ƒè‡ªå·±çš„æŒ‚èµ·å†…å®¹

ğŸ†•`[FLAG_MUTABLE](https://developer.android.com/reference/kotlin/android/app/PendingIntent#FLAG_MUTABLE:kotlin.Int)`:åªæœ‰å½“æŸäº›åŠŸèƒ½ä¾èµ–äºä¿®æ”¹æ½œåœ¨æ„å›¾æ—¶ï¼Œæ‰åº”è¯¥ä½¿ç”¨å®ƒï¼Œä¾‹å¦‚ï¼Œä»»ä½•éœ€è¦ä¸å†…åµŒå›å¤æˆ–æ°”æ³¡ä¸€èµ·ä½¿ç”¨çš„ PendingIntentã€‚

ğŸ˜`[FLAG_UPDATE_CURRENT](https://developer.android.com/reference/kotlin/android/app/PendingIntent#flag_update_current)`:è¯·æ±‚ç³»ç»Ÿç”¨æ–°çš„é¢å¤–æ•°æ®æ›´æ–°ç°æœ‰çš„`PendingIntent`ï¼Œè€Œä¸æ˜¯å­˜å‚¨æ–°çš„`PendingIntent`ã€‚å¦‚æœ`PendingIntent`æ²¡æœ‰æ³¨å†Œï¼Œé‚£ä¹ˆè¿™ä¸ªå°±ä¼šæ³¨å†Œã€‚

ğŸ‘†ğŸ»`[FLAG_ONE_SHOT](https://developer.android.com/reference/kotlin/android/app/PendingIntent#flag_one_shot)`:è¡¨ç¤ºè¯¥ PendingIntent åªèƒ½ä½¿ç”¨ä¸€æ¬¡çš„æ ‡å¿—ã€‚ä¸#getActivityã€`[getBroadcast](https://developer.android.com/reference/kotlin/android/app/PendingIntent#getBroadcast(android.content.Context,%20kotlin.Int,%20android.content.Intent,%20kotlin.Int))`å’Œ`[getService](https://developer.android.com/reference/kotlin/android/app/PendingIntent#getService(android.content.Context,%20kotlin.Int,%20android.content.Intent,%20kotlin.Int))`ä¸€èµ·ä½¿ç”¨ã€‚

å¦‚æœè®¾ç½®äº†ï¼Œåœ¨å¯¹å®ƒè°ƒç”¨`[send()](https://developer.android.com/reference/kotlin/android/app/PendingIntent#send())`ä¹‹åï¼Œå®ƒå°†è‡ªåŠ¨ä¸ºä½ å–æ¶ˆï¼Œå¹¶ä¸”ä»»ä½•æœªæ¥é€šè¿‡å®ƒå‘é€çš„å°è¯•éƒ½å°†å¤±è´¥ã€‚

ğŸ”åˆ©ç”¨`FLAG_ONE_SHOT`å¯ä»¥é˜²æ­¢è¯¸å¦‚[â€œé‡æ”¾æ”»å‡»â€](https://en.wikipedia.org/wiki/Replay_attack)ä¹‹ç±»çš„é—®é¢˜ã€‚

`[FLAG_CANCEL_CURRENT](https://developer.android.com/reference/kotlin/android/app/PendingIntent#flag_cancel_current)`:åœ¨æ³¨å†Œæ–°çš„`PendingIntent`ä¹‹å‰ï¼Œå–æ¶ˆç°æœ‰çš„`PendingIntent`(å¦‚æœå­˜åœ¨çš„è¯)ã€‚å¦‚æœä¸€ä¸ªç‰¹å®šçš„`PendingIntent`è¢«å‘é€åˆ°ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œè€Œä½ æƒ³æŠŠå®ƒå‘é€åˆ°ä¸åŒçš„åº”ç”¨ç¨‹åºï¼Œå¯èƒ½ä¼šæ›´æ–°æ•°æ®ï¼Œè¿™å¯èƒ½å¾ˆé‡è¦ã€‚é€šè¿‡ä½¿ç”¨`FLAG_CANCEL_CURRENT`ï¼Œç¬¬ä¸€ä¸ªåº”ç”¨ç¨‹åºå°†ä¸å†èƒ½å¤Ÿè°ƒç”¨ sendï¼Œä½†æ˜¯ç¬¬äºŒä¸ªåº”ç”¨ç¨‹åºå¯ä»¥ã€‚

è¿™å°±æ˜¯æˆ‘ä»¬åœ¨ä¸Šé¢çš„ä»£ç ç‰‡æ®µä¸­ä½¿ç”¨çš„å†…å®¹ã€‚

**è®¾ç½®å£°éŸ³:**

```
Uri alarmSound = RingtoneManager.*getDefaultUri*(RingtoneManager.*TYPE_NOTIFICATION*);
builder.setSound(alarmSound);
builder.setVibrate(AbstractNotificationGCMHandler.*DEFAULT_VIBRATE_PATTERN*);
```

**æ˜¾ç¤ºé€šçŸ¥**

åˆ›å»ºé€šçŸ¥ç”Ÿæˆå™¨ã€é€šé“å¹¶å°†å†…å®¹è®¾ç½®ä¸ºåã€‚å±•ç¤ºå’Œã€‚å…¨ä½“è¡ŒåŠ¨ã€‚æ˜¯æ—¶å€™å±•ç¤ºäº†ã€‚é€šçŸ¥ã€‚

```
notificationManager.notify(notificationId, builder.build());
```

**è§ä¸‹é¢é€šçŸ¥çš„å®Œæ•´ä»£ç :**

æˆ‘å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ã€‚å¦‚æœæˆ‘ä»¬æƒ³å¼•èµ·ç”¨æˆ·çš„æ³¨æ„ï¼Œé€šçŸ¥åœ¨è®¸å¤š android åº”ç”¨ä¸­æ˜¯å¾ˆé‡è¦çš„ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬äº†è§£äº†ä»€ä¹ˆæ˜¯é€šçŸ¥ï¼Œå¦‚ä½•é€šçŸ¥ã€‚ä»–ä»¬ç€çœ¼äºï¼Œå¦‚ä½•åˆ›å»ºä¸€ä¸ªé€šçŸ¥é€šé“ï¼Œå¦‚ä½•ä¸ºé€šçŸ¥æ·»åŠ æ˜¾ç¤ºå†…å®¹ï¼Œå¦‚ä½•æä¾›ç‚¹å‡»åŠ¨ä½œå’Œæ˜¾ç¤ºé€šçŸ¥ã€‚

ä½†è¿™è¿˜æ²¡æœ‰ç»“æŸã€‚åœ¨æœ¬æ–‡çš„ä¸‹ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†äº†è§£åˆ†ç»„é€šçŸ¥ã€æœ‰æ—¶é—´é™åˆ¶çš„é€šçŸ¥å’Œé€šçŸ¥ä¸Šçš„ç”¨æˆ·æ“ä½œæŒ‰é’®ï¼Œä»¥åŠåœ¨åº”ç”¨ç¨‹åºè¿›åº¦æ¡ä¸­æ£€ç´¢ç”¨æˆ·è¾“å…¥æ•°æ®ã€‚

åœ¨æ­¤æ‰¾åˆ°æœ¬æ–‡çš„ä¸‹ä¸€éƒ¨åˆ†:

[](https://karishma-agr1996.medium.com/notifications-in-android-part-2-d37102e7e29a) [## Android ä¸­çš„é€šçŸ¥â€”ç¬¬ 2 éƒ¨åˆ†

karishma-agr1996.medium.com](https://karishma-agr1996.medium.com/notifications-in-android-part-2-d37102e7e29a) 

# å‚è€ƒ

[](https://developer.android.com/training/notify-user/build-notification#notify) [## åˆ›å»ºé€šçŸ¥| Android å¼€å‘è€…

### å½“æ‚¨çš„åº”ç”¨ç¨‹åºæœªè¢«ä½¿ç”¨æ—¶ï¼Œé€šçŸ¥ä¼šæä¾›æœ‰å…³è¯¥åº”ç”¨ç¨‹åºä¸­äº‹ä»¶çš„ç®€çŸ­ã€åŠæ—¶çš„ä¿¡æ¯ã€‚æœ¬é¡µæ•™ä½ â€¦

developer.android.com](https://developer.android.com/training/notify-user/build-notification#notify) [](https://developer.android.com/reference/kotlin/android/app/PendingIntent#flag_one_shot) [## å¾…å®šå†…å®¹| Android å¼€å‘è€…

### AccessibilityServiceMagnificationController . OnMagnificationChangedListener

developer.android.com](https://developer.android.com/reference/kotlin/android/app/PendingIntent#flag_one_shot) [](/androiddevelopers/all-about-pendingintents-748c8eb8619) [## å…³äºæœªå†³äº‹ä»¶çš„ä¸€åˆ‡

### å¾…å®šå†…å®¹æ˜¯ Android æ¡†æ¶çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œä½†å¤§å¤šæ•°å¯ç”¨çš„å¼€å‘äººå‘˜èµ„æºéƒ½é›†ä¸­åœ¨â€¦

medium.com](/androiddevelopers/all-about-pendingintents-748c8eb8619) 

å¦‚æœä½ æœ‰ä»»ä½•åé¦ˆï¼Œè¯·ç»™æˆ‘å›ä¿¡ï¼Œåœ°å€æ˜¯*karishma.agr1996@gmail.comã€‚éå¸¸æ„Ÿè°¢ä½ çš„é¼“æŒå¸®åŠ©å…¶ä»–äººæ‰¾åˆ°è¿™ç¯‡æ–‡ç« ğŸ˜ƒã€‚*

![](img/8ab18394d7b7572db8a392347888a3d7.png)