<html>
<head>
<title>Developing .NET Isolated Process Azure Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å‘å±•ä¸­ã€‚NETéš”ç¦»è¿›ç¨‹Azureå‡½æ•°</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/geekculture/developing-net-isolated-process-azure-functions-5a1ff4acee46?source=collection_archive---------6-----------------------#2021-06-22">https://medium.com/geekculture/developing-net-isolated-process-azure-functions-5a1ff4acee46?source=collection_archive---------6-----------------------#2021-06-22</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><p id="36cb" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä½¿ç”¨ã€‚NETéš”ç¦»çš„è¿›ç¨‹å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥å°†ã€‚æˆ‘ä»¬å¸Œæœ›ä»Azure Functionsè¿è¡Œæ—¶ä½¿ç”¨çš„. NETç‰ˆæœ¬ã€‚</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/e925a26894a716d2ddb16062748a3dba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/0*lAaftVU-whKgP1EK.png"/></div></figure><p id="670b" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ªç‹¬ç«‹çš„è¿›ç¨‹ä¸­è¿è¡Œæˆ‘ä»¬çš„C# Azureå‡½æ•°ï¼Œå°†ã€‚NETï¼Œæˆ‘ä»¬åœ¨å‡½æ•°ä¸­ä½¿ç”¨çš„è¿è¡Œæ—¶ç‰ˆæœ¬æ˜¯åœ¨âš¡ä¸Šå¼€å‘çš„</p><p id="6a10" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»å¼€å‘å…·æœ‰å½¼æ­¤ç´§å¯†é›†æˆçš„ç±»åº“å’Œå®¿ä¸»çš„å‡½æ•°ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å¿…é¡»è¿è¡Œæˆ‘ä»¬çš„ã€‚ä¸Azure Functionsè¿è¡Œæ—¶ç‰ˆæœ¬ç›¸åŒçš„. NETè¿›ç¨‹å†…ã€‚Azure Functions Runtime v3ä¸Šçš„NET Core 3.x)ã€‚é€šè¿‡è¿›ç¨‹å¤–å‡½æ•°ï¼Œæˆ‘ä»¬èƒ½å¤Ÿä½¿ç”¨ã€‚NET 5å’ŒAzure Functions runtimeçš„v3ã€‚</p><p id="39d6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æœ‰äº†åœ¨è¿›ç¨‹å¤–è¿è¡Œå‡½æ•°çš„èƒ½åŠ›ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»¥ä¸‹æ–¹é¢å—ç›Šã€‚</p><ul class=""><li id="2872" class="jl jm hi ih b ii ij im in iq jn iu jo iy jp jc jq jr js jt bi translated">æˆ‘ä»¬å¯ä»¥å®Œå…¨æ§åˆ¶æ•´ä¸ªè¿‡ç¨‹ï¼Œä»å¦‚ä½•å¯åŠ¨åº”ç”¨ç¨‹åºï¼Œåˆ°æ§åˆ¶æˆ‘ä»¬çš„åŠŸèƒ½é…ç½®ã€‚</li><li id="dfde" class="jl jm hi ih b ii ju im jv iq jw iu jx iy jy jc jq jr js jt bi translated">ä½¿ç”¨è¿™ä¸ªæ§ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç”µæµã€‚DIå’Œä¸­é—´ä»¶çš„. NETè¡Œä¸ºã€‚</li><li id="221a" class="jl jm hi ih b ii ju im jv iq jw iu jx iy jy jc jq jr js jt bi translated">æˆ‘ä»¬è¿˜å°†å—ç›Šäºæ›´å°‘çš„å†²çªï¼Œå› æ­¤æˆ‘ä»¬çš„ç¨‹åºé›†ä¸ä¼šä¸å®¿ä¸»è¿›ç¨‹ä½¿ç”¨çš„ä¸åŒç‰ˆæœ¬çš„ç¨‹åºé›†å†²çªã€‚</li></ul><h1 id="6eec" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">åˆ›å»ºæˆ‘ä»¬çš„åŠŸèƒ½</h1><p id="5010" class="pw-post-body-paragraph if ig hi ih b ii kx ik il im ky io ip iq kz is it iu la iw ix iy lb ja jb jc hb bi translated">ä¸ºäº†ä»å‡½æ•°è¿è¡Œæ—¶åˆ›å»ºä¸€ä¸ªè¿›ç¨‹å¤–è¿è¡Œçš„å‡½æ•°ï¼Œæˆ‘ä»¬éœ€è¦ä»¥ä¸‹å†…å®¹:</p><ul class=""><li id="236f" class="jl jm hi ih b ii ij im in iq jn iu jo iy jp jc jq jr js jt bi translated">ã€‚å®‰è£…äº†. NET 5.0</li><li id="de44" class="jl jm hi ih b ii ju im jv iq jw iu jx iy jy jc jq jr js jt bi translated">å®‰è£…äº†Visual Studio 2019ç‰ˆæœ¬16.10æˆ–æ›´é«˜ç‰ˆæœ¬(ç¡®ä¿æ‚¨å®‰è£…äº†Azureå¼€å‘æˆ–ASP.NETå’Œwebå¼€å‘å·¥ä½œè´Ÿè½½)</li></ul><p id="9075" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ä¸€æ—¦ä½ å®‰è£…äº†è¿™äº›ï¼Œåœ¨Visual Studioä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„Azure Functioné¡¹ç›®ã€‚åˆ›å»ºé¡¹ç›®æ—¶ï¼Œè¯·ç¡®ä¿é€‰æ‹©ã€‚NET 5(ç‹¬ç«‹çš„),å°±åƒè¿™æ ·:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="er es lc"><img src="../Images/8178ed4093381cabdcc71f1e948f2503.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*HodNaH6yddxX3vK1.png"/></div></div></figure><p id="1ac4" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å¯¹äºè¿™ä¸ªæ¼”ç¤ºï¼Œæˆ‘å°†åˆ›å»ºä¸€ä¸ªç®€å•çš„å‡½æ•°ï¼Œå®ƒè§¦å‘HTTP POSTè¯·æ±‚ï¼Œå¹¶å°†ä¸€ä¸ªé¡¹ç›®æ’å…¥Azure Cosmos DBå®¹å™¨ã€‚ä¸å®Œå…¨æ”¹å˜æˆ‘æ‰€çŸ¥é“çš„ä¸–ç•Œï¼Œä½†è¿™é‡Œçš„ç›®çš„æ˜¯å‘ä½ å±•ç¤ºä¸Azureå‡½æ•°ç›¸æ¯”ï¼Œéš”ç¦»å‡½æ•°æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼ŒAzureå‡½æ•°æ˜¯ä½œä¸ºä¸€ä¸ª<a class="ae lh" href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-create-your-first-function-visual-studio" rel="noopener ugc nofollow" target="_blank"> C#ç±»åº“å‡½æ•°</a>æ„å»ºçš„ã€‚</p><h1 id="943b" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">ç›’å­é‡Œå‡ºæ¥çš„æ˜¯ä»€ä¹ˆï¼Ÿ</h1><p id="3de7" class="pw-post-body-paragraph if ig hi ih b ii kx ik il im ky io ip iq kz is it iu la iw ix iy lb ja jb jc hb bi translated">æœ¬è´¨ä¸Šï¼Œä¸€ä¸ª. NETç‹¬ç«‹åŠŸèƒ½é¡¹ç›®æ˜¯ä¸€ä¸ªæ§åˆ¶å°åº”ç”¨ç¨‹åºã€‚NET 5.0ã€‚æ‚¨çš„è§£å†³æ–¹æ¡ˆèµ„æºç®¡ç†å™¨åº”è¯¥å¦‚ä¸‹æ‰€ç¤º:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es li"><img src="../Images/bd62b8e0a1f2aaf86eaa87247771ea24.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/format:webp/0*Gl-y3hcK9FAG0P6P.png"/></div></figure><p id="4c9c" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">æˆ‘åœ¨è¿™é‡Œæ·»åŠ äº†å‡ ä¸ªæ–‡ä»¶ï¼Œä½†æ˜¯è¿™äº›æ–‡ä»¶æ˜¯ä¸ºæ‚¨ç”Ÿæˆçš„:</p><ul class=""><li id="8f8b" class="jl jm hi ih b ii ij im in iq jn iu jo iy jp jc jq jr js jt bi translated"><strong class="ih hj">ã€‚csprojæ–‡ä»¶</strong>ã€‚è¯¥æ–‡ä»¶å°†å®šä¹‰é¡¹ç›®åŠå…¶ä¾èµ–é¡¹ã€‚</li><li id="768d" class="jl jm hi ih b ii ju im jv iq jw iu jx iy jy jc jq jr js jt bi translated"><strong class="ih hj"> local.settings.json </strong>ã€‚è¿™å°†å­˜å‚¨åº”ç”¨ç¨‹åºè®¾ç½®ã€è¿æ¥å­—ç¬¦ä¸²å’Œç”¨äºæœ¬åœ°å¼€å‘çš„è®¾ç½®ã€‚</li><li id="a3da" class="jl jm hi ih b ii ju im jv iq jw iu jx iy jy jc jq jr js jt bi translated"><strong class="ih hj"> host.jsonæ–‡ä»¶</strong>ã€‚è¯¥æ–‡ä»¶åŒ…å«å‡½æ•°åº”ç”¨ç¨‹åºä¸­æ‰€æœ‰å‡½æ•°çš„å…¨å±€é…ç½®é€‰é¡¹ã€‚</li><li id="0a8b" class="jl jm hi ih b ii ju im jv iq jw iu jx iy jy jc jq jr js jt bi translated"><strong class="ih hj"> Program.csæ–‡ä»¶</strong>ã€‚è¿™å°†æ˜¯æˆ‘ä»¬åº”ç”¨ç¨‹åºçš„å…¥å£ç‚¹ã€‚</li></ul><h1 id="3607" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">å¯åŠ¨å’Œé…ç½®</h1><p id="01b0" class="pw-post-body-paragraph if ig hi ih b ii kx ik il im ky io ip iq kz is it iu la iw ix iy lb ja jb jc hb bi translated">é€šè¿‡Program.csæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥å¯åŠ¨æˆ‘ä»¬çš„å‡½æ•°åº”ç”¨ç¨‹åºã€‚æˆ‘ä»¬ç°åœ¨å¯ä»¥ç›´æ¥è®¿é—®ä¸»æœºå®ä¾‹ï¼Œä»è€Œèƒ½å¤Ÿç›´æ¥åœ¨ä¸»æœºä¸Šè®¾ç½®ä»»ä½•é…ç½®å’Œä¾èµ–é¡¹ï¼Œè€Œä¸å¿…åˆ›å»ºå•ç‹¬çš„å¯åŠ¨ç±»æ¥å®Œæˆè¿™é¡¹å·¥ä½œã€‚</p><p id="f952" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­:</p><pre class="je jf jg jh fd lj lk ll lm aw ln bi"><span id="0081" class="lo ka hi lk b fi lp lq l lr ls">using Microsoft.Azure.Cosmos;<br/>using Microsoft.Extensions.Configuration;<br/>using Microsoft.Extensions.DependencyInjection;<br/>using Microsoft.Extensions.Hosting;<br/>using System.IO;<br/><br/>namespace DemoIsolatedFunction<br/>{<br/>    public class Program<br/>    {<br/>        public static void Main()<br/>        {<br/>            var host = new HostBuilder()<br/>                .ConfigureFunctionsWorkerDefaults()<br/>                .ConfigureAppConfiguration(config =&gt; config<br/>                    .SetBasePath(Directory.GetCurrentDirectory())<br/>                    .AddJsonFile("local.settings.json")<br/>                    .AddEnvironmentVariables())<br/>                .ConfigureServices(services =&gt;<br/>                {<br/>                    services.AddSingleton(sp =&gt;<br/>                    {<br/>                        IConfiguration configuration = sp.GetService&lt;IConfiguration&gt;();<br/>                        return new CosmosClient(configuration["CosmosDBConnectionString"]);<br/>                    });<br/>                })<br/>                .Build();<br/><br/>            host.Run();<br/>        }<br/>    }<br/>}</span></pre><p id="e21d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªæ–°çš„HostBuilderå¯¹è±¡æ¥åˆ›å»ºæˆ‘ä»¬çš„ä¸»æœºå®ä¾‹ï¼Œè¯¥å¯¹è±¡å°†è¿”å›ä¸€ä¸ªIHostå®ä¾‹ï¼Œè¯¥å®ä¾‹å¼‚æ­¥è¿è¡Œä»¥å¯åŠ¨æˆ‘ä»¬çš„å‡½æ•°ã€‚</p><p id="7cc6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae lh" href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.hosting.workerhostbuilderextensions.configurefunctionsworkerdefaults?view=azure-dotnet&amp;preserve-view=true#Microsoft_Extensions_Hosting_WorkerHostBuilderExtensions_ConfigureFunctionsWorkerDefaults_Microsoft_Extensions_Hosting_IHostBuilder_" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">ConfigureFunctionsWorkerDefaults</strong></a>æ–¹æ³•ç”¨äºæ·»åŠ åœ¨è¿›ç¨‹å¤–è¿è¡Œæˆ‘ä»¬çš„å‡½æ•°åº”ç”¨ç¨‹åºæ‰€éœ€çš„è®¾ç½®ã€‚è¿™åšäº†å‡ ä»¶äº‹ï¼Œæ¯”å¦‚æä¾›ä¸Azureå‡½æ•°æ—¥å¿—çš„é›†æˆï¼Œä»¥åŠæä¾›é»˜è®¤çš„gRPCæ”¯æŒã€‚</p><p id="dac0" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è¿™é‡Œä½¿ç”¨äº†<a class="ae lh" href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.hosting.hostbuilder.configureappconfiguration?view=dotnet-plat-ext-5.0&amp;preserve-view=true" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">ConfigureAppConfiguration</strong></a>æ–¹æ³•æ¥æ·»åŠ æˆ‘ä»¬çš„å‡½æ•°åº”ç”¨ç¨‹åºæ‰€éœ€çš„é…ç½®ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ç”¨å®ƒæ¥ä½¿ç”¨æˆ‘çš„<strong class="ih hj"> local.settings.json </strong>æ–‡ä»¶è¿›è¡Œæœ¬åœ°è°ƒè¯•ã€‚</p><p id="f48e" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated"><a class="ae lh" href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.hosting.hostbuilder.configureservices?view=dotnet-plat-ext-5.0&amp;preserve-view=true" rel="noopener ugc nofollow" target="_blank"><strong class="ih hj">configure services</strong></a>æ–¹æ³•å…è®¸æˆ‘ä»¬åœ¨åº”ç”¨ç¨‹åºä¸­æ³¨å…¥æˆ‘ä»¬éœ€è¦çš„æœåŠ¡ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ç”¨å®ƒæ¥æ³¨å…¥æˆ‘çš„Cosmoså®¢æˆ·æœºçš„ä¸€ä¸ªå•ä½“å®ä¾‹ã€‚</p><h1 id="5885" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">æˆ‘ä»¬çš„å‡½æ•°åº”ç”¨ç¨‹åº</h1><p id="e3ec" class="pw-post-body-paragraph if ig hi ih b ii kx ik il im ky io ip iq kz is it iu la iw ix iy lb ja jb jc hb bi translated">æˆ‘ä»¬ç°åœ¨å‡†å¤‡å¼€å§‹ç¼–å†™å‡½æ•°ä»£ç ã€‚è¿™é‡Œï¼Œæˆ‘åªæ˜¯åœ¨æˆ‘çš„å‡½æ•°å’ŒPOSTè¯·æ±‚ä¸­æ³¨å…¥äº†æˆ‘éœ€è¦çš„æœåŠ¡ï¼Œå°†Todoé¡¹æ’å…¥åˆ°æˆ‘çš„Cosmos DBå®¹å™¨ä¸­:</p><pre class="je jf jg jh fd lj lk ll lm aw ln bi"><span id="49b2" class="lo ka hi lk b fi lp lq l lr ls">using DemoIsolatedFunction.Models;<br/>using Microsoft.Azure.Cosmos;<br/>using Microsoft.Azure.Functions.Worker;<br/>using Microsoft.Azure.Functions.Worker.Http;<br/>using Microsoft.Extensions.Configuration;<br/>using Microsoft.Extensions.Logging;<br/>using Newtonsoft.Json;<br/>using System;<br/>using System.IO;<br/>using System.Net;<br/>using System.Threading.Tasks;<br/><br/>namespace DemoIsolatedFunction.Functions<br/>{<br/>    public class InsertTodo<br/>    {<br/>        private readonly IConfiguration _configuration;<br/>        private readonly CosmosClient _cosmosClient;<br/>        private readonly Container _todoContainer;<br/><br/>        public InsertTodo(<br/>            IConfiguration configuration,<br/>            CosmosClient cosmosClient)<br/>        {<br/>            _configuration = configuration;<br/>            _cosmosClient = cosmosClient;<br/>            _todoContainer = _cosmosClient.GetContainer(_configuration["DatabaseName"], _configuration["ContainerName"]);<br/>        }<br/><br/>        [Function("InsertTodo")]<br/>        public async Task&lt;HttpResponseData&gt; Run([HttpTrigger(AuthorizationLevel.Anonymous, "post", Route = "Todo")] HttpRequestData req,<br/>            FunctionContext executionContext)<br/>        {<br/>            HttpResponseData response;<br/>            var logger = executionContext.GetLogger("InsertTodo");<br/>            logger.LogInformation("C# HTTP trigger function processed a request.");<br/><br/>            try<br/>            {<br/>                var request = await new StreamReader(req.Body).ReadToEndAsync();<br/><br/>                var todo = JsonConvert.DeserializeObject&lt;TodoItem&gt;(request);<br/>                todo.Id = Guid.NewGuid().ToString();<br/><br/>                await _todoContainer.CreateItemAsync(<br/>                    todo,<br/>                    new PartitionKey(todo.Id));<br/><br/>                response = req.CreateResponse(HttpStatusCode.OK);<br/>            }<br/>            catch (Exception ex)<br/>            {<br/>                logger.LogError($"Exception thrown: {ex.Message}");<br/>                response = req.CreateResponse(HttpStatusCode.InternalServerError);<br/>            }<br/><br/>            return response;<br/>        }<br/>    }<br/>}</span></pre><p id="5102" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è¿™ä¸ªå‡½æ•°ä½¿ç”¨HTTPè§¦å‘å™¨å‘Cosmos DBå†™å…¥è®°å½•ã€‚ç‹¬ç«‹å‡½æ•°ä¸­çš„HTTPè§¦å‘å™¨ä¸åŒäºæ—§ç‰ˆæœ¬çš„è¿è¡Œæ—¶ï¼Œå› ä¸ºæˆ‘ä»¬å¿…é¡»ä½¿ç”¨<a class="ae lh" href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.functions.worker.http.httprequestdata?view=azure-dotnet&amp;preserve-view=true" rel="noopener ugc nofollow" target="_blank"> HttpRequestData </a>å’Œ<a class="ae lh" href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.functions.worker.http.httpresponsedata?view=azure-dotnet&amp;preserve-view=true" rel="noopener ugc nofollow" target="_blank"> HttpResponseData </a>æ¥è®¿é—®è¯·æ±‚å’Œå“åº”æ•°æ®ã€‚</p><p id="9d0a" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">åœ¨è¿›ç¨‹å¤–å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬ä¸èƒ½è®¿é—®åŸå§‹çš„HTTPè¯·æ±‚å’Œå“åº”å¯¹è±¡ã€‚è¿›ç¨‹å¤–å‡½æ•°ä¸­å‘ç”Ÿçš„äº‹æƒ…æ˜¯ï¼Œä¼ å…¥çš„HTTPè¯·æ±‚æ¶ˆæ¯è¢«è½¬æ¢ä¸ºHttpRequestDataå¯¹è±¡ã€‚ä»è¿™é‡Œå¼€å§‹ï¼Œæ•°æ®ç”±è¯·æ±‚æä¾›ã€‚</p><p id="32a6" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è¿™æ˜¯æˆ‘ä»¬çš„å¸–å­è¯·æ±‚:</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="er es lc"><img src="../Images/f54fd8c7b021c4d5e58821b0564e537a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*oQcznBTQyP_IPWyz.png"/></div></div></figure><p id="139d" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">è¿™ä¸ªè¯·æ±‚å‘HttpRequestDataå¯¹è±¡ä¸­çš„Bodyå±æ€§æä¾›æ•°æ®ã€‚</p><h1 id="e507" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">æ—¥å¿—è®°å½•å’Œæ‰§è¡Œä¸Šä¸‹æ–‡</h1><p id="c73c" class="pw-post-body-paragraph if ig hi ih b ii kx ik il im ky io ip iq kz is it iu la iw ix iy lb ja jb jc hb bi translated">æˆ‘ä»¬å¯ä»¥å†™å…¥æ—¥å¿—ã€‚NETç‹¬ç«‹å‡½æ•°ã€‚ç‹¬ç«‹å‡½æ•°é€šè¿‡FunctionContextå¯¹è±¡ä¼ é€’ï¼Œè¯¥å¯¹è±¡æä¾›æœ‰å…³å‡½æ•°æ‰§è¡Œçš„ä¿¡æ¯ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨GetLogger()æ–¹æ³•ï¼Œåƒè¿™æ ·ä¼ é€’å‡½æ•°å:</p><pre class="je jf jg jh fd lj lk ll lm aw ln bi"><span id="4025" class="lo ka hi lk b fi lp lq l lr ls">var logger = executionContext.GetLogger("InsertTodo");<br/>logger.LogInformation("C# HTTP trigger function processed a request.");</span></pre><h1 id="f314" class="jz ka hi bd kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw bi translated">æƒ³äº†è§£æ›´å¤šï¼Ÿ</h1><p id="8df4" class="pw-post-body-paragraph if ig hi ih b ii kx ik il im ky io ip iq kz is it iu la iw ix iy lb ja jb jc hb bi translated">è¿˜æœ‰ä¸€äº›å·¥ä½œè¦åšã€‚NETéš”ç¦»å‡½æ•°ã€‚ä¸ã€‚NET 6å°†åœ¨11æœˆçš„æŸä¸ªæ—¶å€™å‘å¸ƒï¼Œé‚£ä¸ªç‰ˆæœ¬å¯èƒ½æ˜¯LTSç‰ˆæœ¬ï¼Œä½ å¯ä»¥å¼€å§‹ä½¿ç”¨äº†ã€‚NET 6ä¸Azure Functions v4 (å®ƒå¤„äºæ—©æœŸé¢„è§ˆï¼Œæ‰€ä»¥é¢„è®¡ä¼šæœ‰bug)ã€‚</p><p id="1970" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å°±æˆ‘ä¸ªäººè€Œè¨€ï¼Œæˆ‘å¯¹ã€‚NETéš”ç¦»å‡½æ•°ï¼ğŸ™Œéšç€â€¦â€¦çš„å¢åŠ ã€‚NETç‰ˆæœ¬çš„cadenceï¼Œå…·æœ‰ã€‚NETç‰ˆæœ¬ä¸Azureè¿è¡Œæ—¶ç‰ˆæœ¬å°†æä¾›çš„åŠŸèƒ½ç›¸åˆ†ç¦»ã€‚ç½‘ç»œå‘å±•ğŸ‘©â€ğŸ’»ğŸ‘¨â€ğŸ’»æ›´çµæ´»åœ°ä½¿ç”¨ä¸­çš„æœ€æ–°åŠŸèƒ½ã€‚NETï¼Œè€Œä¸æ˜¯è¢«è¿è¡Œåº“å¼ºåŠ çš„é™åˆ¶æ‰€çº¦æŸã€‚</p><p id="2128" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å¦‚æœæ‚¨æƒ³äº†è§£æ›´å¤šå…³äºã€‚NETéš”ç¦»è¿›ç¨‹ä½œå“ï¼ŒæŸ¥çœ‹æœ¬æ–‡:<a class="ae lh" href="https://docs.microsoft.com/en-us/azure/azure-functions/dotnet-isolated-process-guide#logging" rel="noopener ugc nofollow" target="_blank">https://docs . Microsoft . com/en-us/azure/azure-functions/dot NET-isolated-process-guide # logging</a></p><p id="cd70" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">å¦‚æœä½ æ›´å–œæ¬¢äº²è‡ªåŠ¨æ‰‹åšä»£ç ï¼Œå°±æŒ‰ç…§è¿™ä¸ªæ•™ç¨‹:<a class="ae lh" href="https://docs.microsoft.com/en-us/azure/azure-functions/dotnet-isolated-process-developer-howtos?tabs=browser&amp;pivots=development-environment-vs" rel="noopener ugc nofollow" target="_blank">https://docs . Microsoft . com/en-us/azure/azure-functions/dot net-isolated-process-developer-how tosï¼Ÿtabs =æµè§ˆå™¨&amp;pivots =å¼€å‘-ç¯å¢ƒ-vs </a></p><p id="0596" class="pw-post-body-paragraph if ig hi ih b ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc hb bi translated">ç¼–ç å¿«ä¹ï¼ğŸ’»â˜•</p></div></div>    
</body>
</html>