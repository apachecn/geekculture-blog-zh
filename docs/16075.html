<html>
<head>
<title>How to Solve Merging Communities Union Problem</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å¦‚ä½•è§£å†³åˆå¹¶ç¤¾åŒºè”ç›Ÿé—®é¢˜</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/geekculture/how-to-solve-merging-communities-union-problem-ea0e8ee96f42?source=collection_archive---------10-----------------------#2022-12-09">https://medium.com/geekculture/how-to-solve-merging-communities-union-problem-ea0e8ee96f42?source=collection_archive---------10-----------------------#2022-12-09</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="380b" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">ä¸ä½¿ç”¨åº“è§£å†³åˆå¹¶è”åˆé—®é¢˜</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/94468471d4106758c06224575da7f879.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HSpjGMkdqI53psU7"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Photo by <a class="ae jn" href="https://unsplash.com/@synkevych?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Roman Synkevych ğŸ‡ºğŸ‡¦</a> on <a class="ae jn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="85cf" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">åˆå¹¶æ˜¯ä¸€ä¸ªå¸¸è§çš„é—®é¢˜ã€‚å¯¹æ­¤æœ‰è®¸å¤šè§£å†³æ–¹æ¡ˆã€‚ç‰¹åˆ«æ˜¯ä¸€äº›é«˜çº§ç¼–ç¨‹è¯­è¨€æˆ–è„šæœ¬éƒ½æœ‰ç°æœ‰çš„åº“å¯ä»¥ä½¿ç”¨ã€‚ä½†æ˜¯å¦‚ä½•è‡ªå·±è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ</p><h2 id="c89a" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">é—®é¢˜</h2><p id="9697" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated">äººä»¬åœ¨ç¤¾äº¤ç½‘ç»œä¸­ç›¸äº’è”ç³»ã€‚äººIå’Œäººjä¹‹é—´çš„è”ç³»è¢«è¡¨ç¤ºä¸ºMijã€‚å½“å±äºä¸åŒç¤¾åŒºçš„ä¸¤ä¸ªäººè¿æ¥æ—¶ï¼Œå‡€æ•ˆåº”æ˜¯Iå’Œjæ‰€å±çš„ç¤¾åŒºçš„åˆå¹¶ã€‚</p><p id="af15" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">ä¸€å¼€å§‹ï¼Œæœ‰nä¸ªäººä»£è¡¨nä¸ªç¤¾åŒºã€‚å‡è®¾äºº1å’Œ2è¿æ¥ï¼Œç„¶å2å’Œ3è¿æ¥ï¼Œé‚£ä¹ˆ1ã€2å’Œ3å°†å±äºåŒä¸€ä¸ªç¤¾åŒºã€‚</p><p id="69d2" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">æœ‰ä¸¤ç§ç±»å‹çš„æŸ¥è¯¢:</p><ol class=""><li id="6f10" class="lk ll hi jq b jr js ju jv jx lm kb ln kf lo kj lp lq lr ls bi translated">Mij:å¦‚æœåŒ…å«äººIå’Œjçš„ç¤¾åŒºå±äºä¸åŒçš„ç¤¾åŒºï¼Œåˆ™å®ƒä»¬è¢«åˆå¹¶ã€‚</li><li id="eb5e" class="lk ll hi jq b jr lt ju lu jx lv kb lw kf lx kj lp lq lr ls bi translated">é½:æ‰“å°æˆ‘æ‰€å±ç¤¾åŒºçš„å¤§å°ã€‚</li></ol><p id="01dc" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">HackerRankåŸé—®é¢˜å¦‚ä¸‹:</p><div class="ly lz ez fb ma mb"><a href="https://www.hackerrank.com/challenges/merging-communities/problem" rel="noopener  ugc nofollow" target="_blank"><div class="mc ab dw"><div class="md ab me cl cj mf"><h2 class="bd hj fi z dy mg ea eb mh ed ef hh bi translated">åˆå¹¶ç¤¾åŒº| HackerRank</h2><div class="mi l"><h3 class="bd b fi z dy mg ea eb mh ed ef dx translated">äººä»¬åœ¨ç¤¾äº¤ç½‘ç»œä¸­ç›¸äº’è”ç³»ã€‚äººä¸äººä¹‹é—´çš„è”ç³»è¢«è¡¨ç¤ºä¸ºã€‚å½“ä¸¤ä¸ªâ€¦</h3></div><div class="mj l"><p class="bd b fp z dy mg ea eb mh ed ef dx translated">www.hackerrank.com</p></div></div><div class="mk l"><div class="ml l mm mn mo mk mp jh mb"/></div></div></a></div><h2 id="e7b3" class="kk kl hi bd km kn ko kp kq kr ks kt ku jx kv kw kx kb ky kz la kf lb lc ld le bi translated">è§£å†³åŠæ³•</h2><p id="077e" class="pw-post-body-paragraph jo jp hi jq b jr lf ij jt ju lg im jw jx lh jz ka kb li kd ke kf lj kh ki kj hb bi translated">å¦‚ä¸Šæ‰€è¿°ï¼Œæœ‰å¤šç§å®ç°æ–¹å¼ã€‚è¿™é‡Œå°†ä¸¾ä¾‹è¯´æ˜ä¸¤ç§è§£å†³æ–¹æ¡ˆã€‚ä½†æ˜¯åœ¨Javaä¸­ï¼Œåˆå¹¶æ ‘æ˜¯æœ€æœ‰æ•ˆçš„æ–¹æ³•ä¹‹ä¸€ã€‚Javaä¸­æ²¡æœ‰è¿™æ–¹é¢çš„ç°æœ‰æ•°æ®ç»“æ„ã€‚</p><p id="e310" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">ç‰ˆæœ¬1 :ä½¿ç”¨Java HashSetâ€”â€”å®ƒå¯ä»¥å·¥ä½œï¼Œå¹¶ä¸”æ˜¯é€šç”¨çš„ï¼Œä½†æ˜¯æ•ˆç‡ä¸é«˜ã€‚</p><pre class="iy iz ja jb fd mq mr ms bn mt mu bi"><span id="1f52" class="mv kl hi mr b be mw mx l my mz">import java.io.*;<br/>import java.util.*;<br/><br/><br/>public class Solution {<br/><br/>    public static void main(String[] args) {<br/>        /* Enter your code here. Read input from STDIN. Print output to STDOUT. Your class should be named Solution. */<br/>        Scanner sc = new Scanner(System.in);<br/>        int n = sc.nextInt();<br/>        int q = sc.nextInt();<br/>        if (n &lt; 1 || q &lt; 1) {<br/>            sc.close();<br/>            return;<br/>        }<br/>        <br/>        /// HashMap solution<br/>        Map&lt;Integer, Set&lt;Integer&gt;&gt; hash = new HashMap&lt;&gt;();<br/>        while (q-- &gt; 0) {<br/>            String c = sc.next();<br/>            if (c.equals("M")) {<br/>                int a = sc.nextInt();<br/>                int b = sc.nextInt();  <br/>                Set&lt;Integer&gt; seta = null;<br/>                Set&lt;Integer&gt; setb = null;<br/>                if (hash.containsKey(a)) {<br/>                    seta = hash.get(a);    <br/>                }<br/>                if (hash.containsKey(b)) {<br/>                    setb = hash.get(b);    <br/>                }     <br/>                if (seta == null &amp;&amp; setb == null) {<br/>                    seta = new HashSet&lt;Integer&gt;();<br/>                    seta.add(a);<br/>                    seta.add(b);<br/>                    hash.put(a, seta);<br/>                    hash.put(b, seta);<br/>                }<br/>                else if (seta == null) {<br/>                    setb.add(a);<br/>                    hash.put(a, setb);    <br/>                }<br/>                else if (setb == null) {<br/>                    seta.add(b);<br/>                    hash.put(b, seta);<br/>                }<br/>                else {<br/>                    seta.addAll(setb);<br/>                    for (Integer i : setb) {<br/>                        hash.put(i, seta);<br/>                    }<br/>                }     <br/>            }<br/>            else if (c.equals("Q")) {<br/>                int i = sc.nextInt();<br/>                if (hash.containsKey(i)) {<br/>                    System.out.println(hash.get(i).size());<br/>                }<br/>                else {<br/>                    System.out.println(1);    <br/>                }<br/>            }<br/>        }<br/>        <br/>    }<br/>}</span></pre><p id="76c7" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><strong class="jq hj">ç‰ˆæœ¬2 </strong>:é’ˆå¯¹è¿™ä¸ªé—®é¢˜ä½¿ç”¨æ ‘åˆå¹¶çš„æ–¹æ³•è¿›è¡Œäº†ä¼˜åŒ–ã€‚</p><pre class="iy iz ja jb fd mq mr ms bn mt mu bi"><span id="44d7" class="mv kl hi mr b be mw mx l my mz">import java.io.*;<br/>import java.util.*;<br/><br/>class Node {<br/>    int parent = -1;<br/>    int num = 1;<br/>    static int findRoot(Node [] tree, int i) {<br/>        // assume it's the root, or fix it<br/>        int root = i;<br/>        while (tree[root].parent != -1) {<br/>            root = tree[root].parent;    <br/>        }<br/>        <br/>        // flat the tree<br/>        if (root != i) {<br/>            tree[i].parent = root;<br/>            // further optimize<br/>            // int j = i;<br/>            // while (j != root) {<br/>            //     int p = tree[j].parent;<br/>            //     tree[i].parent = root;<br/>            //     j = p;<br/>            // }<br/>        }<br/>        <br/>        return root; <br/>    }<br/>}<br/><br/>public class Solution {<br/><br/>    public static void main(String[] args) {<br/>        /* Enter your code here. Read input from STDIN. Print output to STDOUT. Your class should be named Solution. */<br/>        Scanner sc = new Scanner(System.in);<br/>        int n = sc.nextInt();<br/>        int q = sc.nextInt();<br/>        if (n &lt; 1 || q &lt; 1) {<br/>            sc.close();<br/>            return;<br/>        }<br/>        <br/>        // Tree solution<br/>        Node [] tree = new Node[n+1];<br/>        for (int i = 1; i &lt; tree.length; i++) {<br/>            tree[i] = new Node();<br/>        }<br/>        while (q-- &gt; 0) {<br/>            String c = sc.next();<br/>            if (c.equals("M")) {<br/>                int a = sc.nextInt();<br/>                int b = sc.nextInt();<br/>                int ra = Node.findRoot(tree, a);<br/>                int rb = Node.findRoot(tree, b);<br/>                if (ra != rb) {<br/>                    tree[ra].parent = rb;<br/>                    tree[rb].num += tree[ra].num;<br/>                }<br/>            }<br/>            else if (c.equals("Q")) {<br/>                int i = sc.nextInt();<br/>                int ri = Node.findRoot(tree, i);<br/>                System.out.println(tree[ri].num);<br/>            }<br/>        }<br/>        sc.close();<br/>        <br/>    }<br/>}</span></pre><p id="0ecd" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">å› æ­¤æ ‘åˆå¹¶æ˜¯è§£å†³è¿™ç§åˆå¹¶é—®é¢˜çš„æœ‰æ•ˆæ–¹æ³•ã€‚</p><p id="d585" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated">ç¼–ç å¿«ä¹ï¼</p></div><div class="ab cl na nb gp nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="hb hc hd he hf"><p id="d144" class="pw-post-body-paragraph jo jp hi jq b jr js ij jt ju jv im jw jx jy jz ka kb kc kd ke kf kg kh ki kj hb bi translated"><em class="nh">é—®é¢˜ï¼Œæƒ³æ³•ï¼Ÿåœ¨è¿™é‡Œç•™ä¸‹è¯„è®ºã€‚è·Ÿéšæˆ‘æˆä¸ºæœ‰è¶£çš„è§£å†³é—®é¢˜ä¹‹æ—…çš„ä¸€éƒ¨åˆ†ã€‚</em></p></div></div>    
</body>
</html>