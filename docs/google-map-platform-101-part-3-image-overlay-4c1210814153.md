# è°·æ­Œåœ°å›¾å¹³å° 101 â€”ç¬¬ 3 éƒ¨åˆ†:è¿è¡Œæ—¶çš„å›¾åƒå åŠ ã€åœ°å›¾æ ·å¼

> åŸæ–‡ï¼š<https://medium.com/geekculture/google-map-platform-101-part-3-image-overlay-4c1210814153?source=collection_archive---------21----------------------->

è°·æ­Œåœ°å›¾å¯ä»¥æ·»åŠ ä¸€ä¸ªå›¾åƒè¦†ç›–æ¥æ˜¾ç¤ºå®¢æˆ·çš„æ ‡å¿—ã€‚åœ¨è¿™ä¸€éƒ¨åˆ†ä¸­ï¼Œæ‚¨å°†å­¦ä¹ å¦‚ä½•åœ¨åœ°å›¾ä¸Šåˆ›å»ºèœå•å’Œå›¾åƒå·¥å…·ã€‚äº‹å…ˆï¼Œæ‚¨å¯ä»¥åœ¨è¿è¡Œæ—¶æ›´æ”¹åœ°å›¾æ ·å¼ã€‚

# â€” ===èœå•=== â€”

**ğŸ¨1.** [**åˆ›å»ºä¸€ä¸ªæ ‡å¿—**](#1ebe) **ğŸ–Œ 2ã€‚** [**åˆ›å»ºèœå•å›¾æ ‡**](#9fe9) **ğŸ“œ 3.** [**æ·»åŠ èœå•â†’é¦–é¡µ**](#9b75) **ğŸšµ 4.** [**å›¾åƒå åŠ **](#dc5a) **ğŸ 5.** [**èœå•é€‰é¡¹**](#86a9) **ğŸ® 6.** [**ç¬¬äºŒèœå•é¡¹**](#d737) **ğŸ›¬ 7ã€‚** [**è¿è¡Œæ—¶çš„åœ°å›¾æ ·å¼**](#b0f6)

# ğŸ¨1.åˆ›å»ºä¸€ä¸ªæ ‡å¿—â€¦ â†’ [èœå•](#1a4c)

åœ¨ä»–ä»¬çš„ç½‘ç«™æˆ–ä»–ä»¬æä¾›ç»™ä½ çš„ä¿¡æ¯ä¸­æ‰¾åˆ°å…³äºä½ çš„å®¢æˆ·çš„è¯¦ç»†ä¿¡æ¯ã€‚è¯¥å¾½æ ‡å›¾åƒå¿…é¡»æœ‰é€æ˜èƒŒæ™¯ã€‚

ä¸¾ä¸ªä¾‹å­ï¼Œ

![](img/41545152ec5dc795b63f61d83c5a337d.png)

ä¿å­˜åˆ° res/drawable

![](img/745c1579329aa461326c9c921c700ff0.png)

# ğŸ–Œ 2.åˆ›å»ºèœå•å›¾æ ‡â€¦â€¦ â†’ [èœå•](#1a4c)

![](img/a9e24eade141e457007161b378a18d88.png)

æˆ‘éœ€è¦ä¸€ä¸ªå®¶åº­å›¾æ ‡ã€‚

![](img/5eb465239323fec600268a7557bfb9a6.png)

æœç´¢ä¸»é¡µ:

![](img/db41263bdab0b3035d61915fd18ac048.png)

é€‰æ‹©é¢œè‰²:

![](img/39803c10d4f20377c42f4d6c35f53918.png)

å®Œæˆã€‚

![](img/2ca6c27990188e484ac6ffaa456fe75f.png)

# ğŸ“œ 3.æ·»åŠ èœå•â†’ä¸»é¡µâ€¦â€¦ â†’ [èœå•](#1a4c)

> æ·»åŠ èµ„æºç›®å½•

![](img/4ed7d27bf36f57eaa27ba57ff12becce.png)

> æ·»åŠ èœå•ç›®å½•

![](img/dcffd19aa58598093531435da96d9f37.png)![](img/c7f993a2dfde0798832e5e74ef5d7f02.png)

> èœå•é¡¹

![](img/31af1d81dcc643a602abac51f191e71d.png)

æ–°å»ºâ†’èœå•èµ„æºæ–‡ä»¶

![](img/a97fdb1796d4b634a3b02801be499815.png)

**æ–‡ä»¶å**:ä¸»é¡µ _ èœå•

![](img/b052d402c4bc1e59a610d642dff56a3f.png)

**id** â†’ home_menu
**æ ‡é¢˜** â†’ Home
**å›¾æ ‡** â†’ä¸Šé¢æˆ‘åšè¿‡çš„é‚£ä¸ªã€‚
**æ˜¾ç¤ºæ“ä½œ** â†’ ifRoom ( *å¦‚æœå±å¹•æœ‰ç©ºé—´åˆ™æ˜¾ç¤ºå›¾æ ‡*)

# ğŸšµ 4.å›¾åƒå åŠ â€¦ â†’ [èœå•](#1a4c)

è®©æˆ‘ä»¬å›åˆ°åœ°å›¾æ¼”ç¤ºé¡¹ç›®ã€‚

æˆ‘å°†æœ‰ä¸¤ä¸ªåŠŸèƒ½:

*   ç§»åŠ¨åˆ°å®¢æˆ·çš„ä½ç½®
*   æ·»åŠ å›¾åƒè¦†ç›–

> å‡†å¤‡ä½ç½®

æ¥è‡ª[https://maps.google.com/](https://maps.google.com)

![](img/1e733a5e81a42ffa3308d4257bb10c81.png)

Copied the location data

```
*// customer location* **private val homeLatLng** = LatLng(37.670435397441466, -122.47354342767584)
```

> ç§»åŠ¨åˆ°å®¶åº­ä½ç½®

```
**private fun** moveToHome() {
    **mMap**.moveCamera(CameraUpdateFactory.newLatLng(**homeLatLng**))
    **mMap**.animateCamera(CameraUpdateFactory.zoomIn())
    **mMap**.animateCamera(CameraUpdateFactory.zoomTo(17f), 4000, **null**)
}
```

å˜é‡ **mMap** å·²ç»åœ¨ [***ç¬¬ä¸€éƒ¨åˆ†***](/geekculture/walk-through-google-map-platform-101-in-android-7c72a4dd40e3) åˆå§‹åŒ–ã€‚

> å›¾åƒå åŠ 

```
*/**
 * Image Overlay
 */* **private fun** imageOverlay(imageId: Int, size: Float) {
    **val** overlaySize = size

    **val** androidOverlay = GroundOverlayOptions()
        .image(BitmapDescriptorFactory.fromResource(imageId))
        .position(**homeLatLng**, overlaySize)
    **mMap**.addGroundOverlay(androidOverlay)
}
```

ç®€å•ï¼Œæ²¡ä»€ä¹ˆå¤§ä¸äº†çš„ï¼æ‚¨å¯ä»¥ä¿®æ”¹è¯¥å‡½æ•°ï¼Œä½¿å…¶è¿è¡Œå¦‚ä¸‹:

*   **æ¥è‡ªæ•°æ®åº“çš„å›¾åƒé“¾æ¥**
*   **ä»ç¼“å­˜åŠ è½½å›¾åƒ**
*   **æ•°æ®åº“ä¸­çš„è¥ä¸šåœ°ç‚¹**
*   **æ•°æ®åº“ä¸­çš„æ ‡å¿—å°ºå¯¸**

æ¥ä¸‹æ¥ï¼Œæ‚¨å°†æŠŠå®ƒä»¬ç»„åˆæˆä¸€ä¸ªè‡ªåŠ¨åŠ è½½å›¾åƒå åŠ åŠŸèƒ½ã€‚å¦‚æœä½ æœ‰ä¸€äº›æ–°çš„æƒ³æ³•ï¼Œè¯·ä¸æˆ‘åˆ†äº«ã€‚

# ğŸ 5.èœå•é€‰é¡¹â€¦ â†’ [èœå•](#1a4c)

> èœå•å¸ƒå±€

```
**override fun** onCreateOptionsMenu(menu: Menu?): Boolean {
    *menuInflater*.inflate(**R.menu.*home_menu***, menu)
    **return true** }
```

> é€‰æ‹©çš„èœå•é¡¹

```
**override fun** onOptionsItemSelected(item: MenuItem): Boolean {

    **when**(item.*itemId*) {
        R.id.*home_menu* -> {
            imageOverlay(R.drawable.*meet_fresh_logo*, 150f)
            moveToHome()
        }
    }
    **return super**.onOptionsItemSelected(item)
}
```

è¶…çº§ç®€å•ä¸æ˜¯å—ï¼Ÿ

æˆ‘ä»¬è·‘å§ğŸ£ã€‚

![](img/c3bd7525951768f79ead4445ef62f952.png)

å·¥ä½œå¾ˆå¥½ï¼

# ğŸ® 6.ç¬¬äºŒä¸ªèœå•é¡¹â€¦â€¦ â†’ [èœå•](#1a4c)

> æŒ‰ç…§ç¬¬ 1 ç« åˆ›å»ºç¬¬ 2 ä¸ªã€‚å›¾æ ‡:

å‰ªè´´ç”»:

![](img/a7aff6a006c4ad09f4ff88fab634c725.png)

é¢œè‰²:

![](img/a13b09770748fbb85bd5e98405d28d57.png)

ç»“æœ:

![](img/37a0a93c3f312e0287e0d683e91a6631.png)

> åˆ›å»ºä¸€ä¸ªå•†ä¸šæ ‡å¿—:åœ¨ GIMP ä¸­è®¾è®¡ã€‚

![](img/72a40540edb61a09eac6d9a1c6f1b650.png)

ä¿å­˜åˆ° res/drawable æ–‡ä»¶å¤¹ã€‚

> ç¼–è¾‘ä¸»é¡µèœå•:

![](img/fbea5618cb7401d4f49b62731f443927.png)

> ç¼–è¾‘ ui/ **MapsActivity.kt**

æ–°å˜é‡: **wineyearLatLng (** è¿™æ˜¯ä¸€ä¸ªå‡çš„ä½ç½®ã€‚ **)**

```
**private val wineyardLatLng** = LatLng(39.94505180548504, 116.41756601673754)
```

æ–°åŠŸèƒ½: **moveToWindyard()**

```
**private fun** moveToWineyard() {
    **mMap**.moveCamera(CameraUpdateFactory.newLatLng(**wineyardLatLng**))
    **mMap**.animateCamera(CameraUpdateFactory.zoomIn())
    **mMap**.animateCamera(CameraUpdateFactory.zoomTo(18f), 4000, **null**)
}
```

å…±äº«åŠŸèƒ½: **imageOverlay()**

```
**private fun** imageOverlay(
    imageId: Int, size: Float, **location: LatLng**
) {
    **val** overlaySize = size

    **val** androidOverlay = GroundOverlayOptions()
        .image(BitmapDescriptorFactory.fromResource(imageId))
        .position(**location**, overlaySize)
    **mMap**.addGroundOverlay(androidOverlay)
}
```

é€‰æ‹©çš„èœå•é¡¹:

```
**override fun** onOptionsItemSelected(item: MenuItem): Boolean {

    **when**(item.*itemId*) {
        R.id.*home_menu* -> {
            imageOverlay(
                R.drawable.*meet_fresh_logo*, 150f, **homeLatLng**)
            moveToHome()
        }
        R.id.*wind_yard_menu* -> {
            imageOverlay(
                R.drawable.*wine_yard_logo*, 100f, **wineyardLatLng**)
            moveToWineyard()
        }
    }
    **return super**.onOptionsItemSelected(item)
} 
```

æµ‹è¯•ç»“æœ:

![](img/7974d6e29cea3a63ae078d11e0582767.png)

è¿™ç§åœ°å›¾é£æ ¼å¾ˆå¯æ€•å§ï¼Ÿå…¶ä»–åœ°æ ‡æŒ¡ä½äº† logoã€‚

# ğŸ›¬ 7.è¿è¡Œæ—¶çš„åœ°å›¾æ ·å¼â€¦â€¦ â†’ [èœå•](#1a4c)

é“¾æ¥: [***è°·æ­Œåœ°å›¾å¹³å° 101 â€”ç¬¬äºŒéƒ¨åˆ†:åœ°å›¾é£æ ¼***](https://homanhuang.medium.com/google-map-platform-101-part-2-map-style-6f6b7e5cc28e?source=your_stories_page-------------------------------------)

> æ–°æ¬¾:ç²‰è‰²ï¼Œå»é™¤å•†åŠ¡è‰²å½©

![](img/fff66409c3d1f88bbdf8580e8dd0e267.png)

Pick your options to minimize the surrounding materials.

ä¿å­˜åˆ°ä¸€ä¸ªæ–°çš„ JSON æ–‡ä»¶:***map _ style _ bar . JSON***

![](img/0785847ec1a7a05c0045bd8275d7fee4.png)

> ui/ **MapaActivity.kt**

è°ƒæ•´å‚æ•°:

```
*/**
 * Map style
 */* **private fun** setMapStyle(mapStyleId: Int) {
    **try** {
        **val** success = **mMap**.setMapStyle(
            MapStyleOptions.loadRawResourceStyle(
                **this**,
                mapStyleId
            )
        )

        **if** (!success) {
            *lge*(**"MapStyle: Style parsing failed."**)
        }
    } **catch** (e: Resources.NotFoundException) {
        *lge*(**"MapStyle: Can't find style. Error: $**e**"**)
    }
}
```

é€‰æ‹©çš„èœå•é¡¹:

```
override fun onOptionsItemSelected(item: MenuItem): Boolean {

    when(item.*itemId*) {
        R.id.*home_menu* -> {
            **setMapStyle(R.raw.*map_style*)**
            ...
        }
        R.id.*wind_yard_menu* -> {
            **setMapStyle(R.raw.*map_style_bar*)**
            ...
        }
    }
    return super.onOptionsItemSelected(item)
}
```

ğŸš€è¿è¡Œ:

![](img/a4f66c4f65588fd5c2b74559db0c0973.png)

ç°åœ¨æ›´æ¸…æ¥šäº†ï¼

# ğŸ™ˆé¼“æŒï¼Œé¼“æŒï¼Œå¤§å®¶ï¼