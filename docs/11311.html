<html>
<head>
<title>JavaScript Proxy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScriptä»£ç†</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/geekculture/javascript-proxy-45efdd1f50f7?source=collection_archive---------9-----------------------#2022-03-16">https://medium.com/geekculture/javascript-proxy-45efdd1f50f7?source=collection_archive---------9-----------------------#2022-03-16</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/b7835aa313f54224c386499bf50e07d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OAwcABpcKryB6XbUucB-FA.png"/></div></div><figcaption class="hr hs et er es ht hu bd b be z dx">Javascript Proxy</figcaption></figure><div class=""/><p id="79c5" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">JavaScriptä»£ç†æ˜¯åŒ…è£…å¦ä¸€ä¸ªå¯¹è±¡å¹¶æ‹¦æˆªç›®æ ‡å¯¹è±¡çš„åŸºæœ¬æ“ä½œçš„å¯¹è±¡ã€‚</p><p id="8be1" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><strong class="iw hy"> <em class="js">è¯­æ³•</em> </strong> <em class="js"> : </em></p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="f2cd" class="kc kd hx jy b fi ke kf l kg kh">let proxy = new Proxy(target, handler);</span></pre><ul class=""><li id="9402" class="ki kj hx iw b ix iy jb jc jf kk jj kl jn km jr kn ko kp kq bi translated"><code class="du kr ks kt jy b">target</code>â€“æ˜¯è¦åŒ…è£…çš„å¯¹è±¡ï¼Œå¯ä»¥æ˜¯ä»»ä½•ä¸œè¥¿ï¼ŒåŒ…æ‹¬å‡½æ•°ã€‚</li><li id="1131" class="ki kj hx iw b ix ku jb kv jf kw jj kx jn ky jr kn ko kp kq bi translated"><code class="du kr ks kt jy b">handler</code>â€“ä»£ç†é…ç½®:å¸¦æœ‰â€œé™·é˜±â€çš„å¯¹è±¡ï¼Œæ‹¦æˆªæ“ä½œçš„æ–¹æ³•ã€‚â€“ä¾‹å¦‚ç”¨äºè¯»å–<code class="du kr ks kt jy b">target</code>å±æ€§çš„<code class="du kr ks kt jy b">get</code>é™·é˜±ï¼Œç”¨äºå°†å±æ€§å†™å…¥<code class="du kr ks kt jy b">target</code>çš„<code class="du kr ks kt jy b">set</code>é™·é˜±ï¼Œç­‰ç­‰ã€‚</li></ul><p id="7fb6" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">è®©æˆ‘ä»¬é€šè¿‡å®šä¹‰ä¸€ä¸ªåä¸ºuserçš„å¯¹è±¡æ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­:</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="15d2" class="kc kd hx jy b fi ke kf l kg kh">const user = {<br/>    firstName: 'suprabha',<br/>    lastName: 'supi',<br/>}</span><span id="62b3" class="kc kd hx jy b fi kz kf l kg kh">// defining a handler function<br/>const handler = {}</span><span id="4d93" class="kc kd hx jy b fi kz kf l kg kh">// now, create a proxy<br/>const userProxy = new Proxy(user, handler);</span></pre><p id="19dd" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated"><code class="du kr ks kt jy b">userProxy</code>å¯¹è±¡ä½¿ç”¨<code class="du kr ks kt jy b">user</code>å¯¹è±¡å­˜å‚¨æ•°æ®ã€‚<code class="du kr ks kt jy b">userProxy</code>å¯ä»¥è®¿é—®<code class="du kr ks kt jy b">user</code>å¯¹è±¡çš„æ‰€æœ‰å±æ€§ã€‚</p><p id="c776" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">è®©æˆ‘ä»¬çœ‹çœ‹è¾“å‡º:</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="3f6e" class="kc kd hx jy b fi ke kf l kg kh">console.log(userProxy.firstName); // suprabha<br/>console.log(userProxy.lastName); // supi</span></pre><p id="009c" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">å¦‚æœä½ ä¿®æ”¹äº†åŸæ¥çš„å¯¹è±¡<code class="du kr ks kt jy b">user</code>ï¼Œè¿™ç§æ”¹å˜ä¼šåæ˜ åœ¨<code class="du kr ks kt jy b">userProxy</code>ä¸­</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="8bc6" class="kc kd hx jy b fi ke kf l kg kh">user.firstName = 'sam';<br/>console.log(userProxy.firstName); // sam</span></pre><p id="eed1" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">ç±»ä¼¼åœ°ï¼Œ<code class="du kr ks kt jy b">userProxy</code>å¯¹è±¡çš„å˜åŒ–å°†åæ˜ åœ¨åŸå§‹å¯¹è±¡<code class="du kr ks kt jy b">user</code>ä¸­:</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="780a" class="kc kd hx jy b fi ke kf l kg kh">proxyUser.lastName = 's';<br/>console.log(user.lastName); // s</span></pre><p id="7ca8" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">ä»£ç†ä¸­æœ‰æ–¹æ³•ï¼Œè¿™é‡Œæˆ‘ä»¬å°†ä»‹ç»æœ€é‡è¦çš„<strong class="iw hy">æ–¹æ³•</strong>:</p><ol class=""><li id="c679" class="ki kj hx iw b ix iy jb jc jf kk jj kl jn km jr la ko kp kq bi translated">å¾—åˆ°</li><li id="5bf2" class="ki kj hx iw b ix ku jb kv jf kw jj kx jn ky jr la ko kp kq bi translated">è®¾ç½®</li><li id="f687" class="ki kj hx iw b ix ku jb kv jf kw jj kx jn ky jr la ko kp kq bi translated">åº”ç”¨</li></ol><h1 id="938c" class="lb kd hx bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">1ï¸.è·å–:</h1><p id="de78" class="pw-post-body-paragraph iu iv hx iw b ix ly iz ja jb lz jd je jf ma jh ji jj mb jl jm jn mc jp jq jr hb bi translated"><code class="du kr ks kt jy b"><strong class="iw hy">handler.get()</strong></code>æ–¹æ³•æ˜¯è·å–å±æ€§å€¼çš„é™·é˜±ã€‚</p><p id="59da" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨<code class="du kr ks kt jy b">get</code>è¿›è¡Œæ›´æ”¹:</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="6a8b" class="kc kd hx jy b fi ke kf l kg kh">const user = {<br/>    firstName: 'suprabha',<br/>    lastName: 'supi',<br/>}</span><span id="3af7" class="kc kd hx jy b fi kz kf l kg kh">// defining a handler function<br/>const handler = {<br/>    get(target, prop, receiver) {<br/>    return "sumi";<br/>  }<br/>}</span><span id="81d9" class="kc kd hx jy b fi kz kf l kg kh">// now, create a proxy<br/>const userProxy = new Proxy(user, handler);</span><span id="b7f6" class="kc kd hx jy b fi kz kf l kg kh">console.log(userProxy.firstName) // sumi<br/>console.log(userProxy.lastName)  // sumi</span></pre><p id="fa19" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬åœ¨ç”¨æˆ·å¯¹è±¡ä¸­è¿˜æ²¡æœ‰<code class="du kr ks kt jy b">fullUserName</code>ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬ä½¿ç”¨<code class="du kr ks kt jy b">get</code>é™·é˜±åœ¨ä»£ç†ä¸­åˆ›å»ºå®ƒ:</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="63b4" class="kc kd hx jy b fi ke kf l kg kh">const user = {<br/>    firstName: 'suprabha',<br/>    lastName: 'supi',<br/>}</span><span id="6302" class="kc kd hx jy b fi kz kf l kg kh">const handler = {<br/>    get(target, property) {<br/>        return property === 'fullUserName' ?<br/>            `${target.firstName} ${target.lastName}` :<br/>            target[property]<br/>    }<br/>};</span><span id="ad48" class="kc kd hx jy b fi kz kf l kg kh">const userProxy = new Proxy(user, handler)</span><span id="758e" class="kc kd hx jy b fi kz kf l kg kh">console.log(userProxy.fullUserName) // suprabha supi</span></pre><h1 id="ee84" class="lb kd hx bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">2ï¸.è®¾ç½®:</h1><p id="37e9" class="pw-post-body-paragraph iu iv hx iw b ix ly iz ja jb lz jd je jf ma jh ji jj mb jl jm jn mc jp jq jr hb bi translated"><code class="du kr ks kt jy b">set</code> trapæ§åˆ¶è®¾ç½®<code class="du kr ks kt jy b">target</code>å¯¹è±¡å±æ€§æ—¶çš„è¡Œä¸ºã€‚</p><p id="ad64" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">æ‰€ä»¥ï¼Œå‡è®¾ä½ å¿…é¡»æ·»åŠ ä¸€äº›æ¡ä»¶ï¼Œè¿™æ ·ä½ å°±å¯ä»¥åœ¨<code class="du kr ks kt jy b">set</code>é™·é˜±ä¸­å®Œæˆã€‚</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="ddab" class="kc kd hx jy b fi ke kf l kg kh">const user = {<br/>    firstName: 'suprabha',<br/>    lastName: 'supi',<br/>        age: 15<br/>}</span><span id="aab3" class="kc kd hx jy b fi kz kf l kg kh">const handler = {<br/>    set(target, property, value) {<br/>        if (property === 'age') {<br/>            if (typeof value !== 'number') {<br/>                throw new Error('Age should be in number!');<br/>            }<br/>            if (value &lt; 18) {<br/>                throw new Error('The user must be 18 or older!')<br/>            }<br/>        }<br/>        target[property] = value;<br/>    }<br/>};</span><span id="be15" class="kc kd hx jy b fi kz kf l kg kh">const userProxy = new Proxy(user, handler);</span><span id="a9fe" class="kc kd hx jy b fi kz kf l kg kh">// if you try to set age to bool, you will get error<br/>userProxy.age = true;<br/>// Error: Age must be a number.</span><span id="3941" class="kc kd hx jy b fi kz kf l kg kh">userProxy.age = '16';<br/>// The user must be 18 or older.</span><span id="7b12" class="kc kd hx jy b fi kz kf l kg kh">userProxy.age = '20'<br/>// no errors would be found</span></pre><h1 id="10e5" class="lb kd hx bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">3ï¸.åº”ç”¨</h1><p id="3d69" class="pw-post-body-paragraph iu iv hx iw b ix ly iz ja jb lz jd je jf ma jh ji jj mb jl jm jn mc jp jq jr hb bi translated"><code class="du kr ks kt jy b">handler.apply()</code>æ–¹æ³•æ˜¯å‡½æ•°è°ƒç”¨çš„é™·é˜±ã€‚ä¸‹é¢æ˜¯è¯­æ³•:</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="0a64" class="kc kd hx jy b fi ke kf l kg kh">let proxy = new Proxy(target, {<br/>    apply: function(target, thisArg, args) {<br/>        //...<br/>    }<br/>});</span></pre><p id="aa69" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">ç°åœ¨ï¼Œè®©æˆ‘ä»¬æŒ‰ç…§ä¸Šé¢çš„ä¾‹å­ï¼Œå°†åå­—å’Œå§“æ°å¤§å†™ã€‚</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="80ad" class="kc kd hx jy b fi ke kf l kg kh">const user = {<br/>    firstName: 'suprabha',<br/>    lastName: 'supi'<br/>}</span><span id="0003" class="kc kd hx jy b fi kz kf l kg kh">const getFullName = function (user) {<br/>    return `${user.firstName} ${user.lastName}`;<br/>}</span><span id="1b80" class="kc kd hx jy b fi kz kf l kg kh">const getFullNameProxy = new Proxy(getFullName, {<br/>    apply(target, thisArg, args) {<br/>        return target(...args).toUpperCase();<br/>    }<br/>});</span><span id="6595" class="kc kd hx jy b fi kz kf l kg kh">console.log(getFullNameProxy(user)); // SUPRABHA SUPI</span></pre><h1 id="de47" class="lb kd hx bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">å‚è€ƒğŸ§</h1><ul class=""><li id="911b" class="ki kj hx iw b ix ly jb lz jf md jj me jn mf jr kn ko kp kq bi translated"><a class="ae mg" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy" rel="noopener ugc nofollow" target="_blank">ä»£ç†MDN </a></li></ul><p id="ca1a" class="pw-post-body-paragraph iu iv hx iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr hb bi translated">ğŸŒŸ<a class="ae mg" href="https://twitter.com/suprabhasupi" rel="noopener ugc nofollow" target="_blank">æ¨ç‰¹</a> |ğŸ“š<a class="ae mg" href="https://gum.co/css-pseudo-class-elements" rel="noopener ugc nofollow" target="_blank">ç”µå­ä¹¦</a> |ğŸŒŸ<a class="ae mg" href="https://www.instagram.com/suprabhasupi/" rel="noopener ugc nofollow" target="_blank"> Instagram </a></p></div></div>    
</body>
</html>