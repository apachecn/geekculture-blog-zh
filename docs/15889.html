<html>
<head>
<title>Build Simple CLI-Based Voice Assistant with PyAudio, Speech Recognition, pyttsx3 and SerpApi</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä½¿ç”¨PyAudioã€è¯­éŸ³è¯†åˆ«ã€pyttsx3å’ŒSerpApiæ„å»ºç®€å•çš„åŸºäºCLIçš„è¯­éŸ³åŠ©æ‰‹</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/geekculture/build-simple-cli-based-voice-assistant-with-pyaudio-speech-recognition-pyttsx3-and-serpapi-8bf605c02565?source=collection_archive---------8-----------------------#2022-11-28">https://medium.com/geekculture/build-simple-cli-based-voice-assistant-with-pyaudio-speech-recognition-pyttsx3-and-serpapi-8bf605c02565?source=collection_archive---------8-----------------------#2022-11-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div class="er es hg"><img src="../Images/6892605de7813a480ca804c721ecf6f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/format:webp/1*vvQJ2u14cOAlvuOu6-UxbQ.png"/></div></figure><div class=""/><h1 id="dc2b" class="im in hp bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">ä»‹ç»</h1><p id="4d97" class="pw-post-body-paragraph jk jl hp jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">æ­£å¦‚ä½ çœ‹åˆ°çš„æ ‡é¢˜ï¼Œè¿™æ˜¯ä¸€ä¸ªæ¼”ç¤ºé¡¹ç›®ï¼Œæ˜¾ç¤ºäº†ä¸€ä¸ªéå¸¸åŸºæœ¬çš„è¯­éŸ³åŠ©æ‰‹è„šæœ¬ï¼Œå¯ä»¥å›ç­”ä½ çš„é—®é¢˜ï¼Œåœ¨ç»ˆç«¯åŸºäºè°·æ­Œæœç´¢ç»“æœã€‚</p><p id="34c5" class="pw-post-body-paragraph jk jl hp jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">ä½ å¯ä»¥åœ¨GitHubèµ„æºåº“ä¸­æ‰¾åˆ°å®Œæ•´çš„ä»£ç :<code class="du kn ko kp kq b"><a class="ae kr" href="https://github.com/dimitryzub/serpapi-demo-projects/tree/4789cf3c2a5cb7af6c29ba13a4222a0eec05eadf/speech-recognition/cli-based" rel="noopener ugc nofollow" target="_blank">dimitryzub/serpapi-demo-projects/speech-recognition/cli-based/</a></code></p><p id="8ff9" class="pw-post-body-paragraph jk jl hp jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">åç»­åšå®¢å¸–å­å°†ä¼šæ¶‰åŠ:</p><ul class=""><li id="ebbb" class="ks kt hp jm b jn ki jr kj jv ku jz kv kd kw kh kx ky kz la bi translated">åŸºäºç½‘ç»œçš„è§£å†³æ–¹æ¡ˆä½¿ç”¨äº†<a class="ae kr" href="https://flask.palletsprojects.com/en/2.2.x/" rel="noopener ugc nofollow" target="_blank"> Flask </a>ï¼Œä¸€äº›HTMLï¼ŒCSSå’ŒJavascriptã€‚</li><li id="090c" class="ks kt hp jm b jn lb jr lc jv ld jz le kd lf kh kx ky kz la bi translated">ä½¿ç”¨<a class="ae kr" href="https://flutter.dev/" rel="noopener ugc nofollow" target="_blank"> Flutter </a>å’Œ<a class="ae kr" href="https://dart.dev/" rel="noopener ugc nofollow" target="_blank"> Dart </a>çš„åŸºäºAndroidå’ŒWindowsçš„è§£å†³æ–¹æ¡ˆã€‚</li></ul><h1 id="6505" class="im in hp bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">æˆ‘ä»¬å°†åœ¨è¿™ç¯‡åšæ–‡ä¸­æ„å»ºä»€ä¹ˆ</h1><figure class="lg lh li lj fd hk"><div class="bz dy l di"><div class="lk ll l"/></div><figcaption class="lm ln et er es lo lp bd b be z dx">SerpApi Voice Assistant Video Demo</figcaption></figure><h1 id="a211" class="im in hp bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">å…ˆå†³æ¡ä»¶</h1><p id="112d" class="pw-post-body-paragraph jk jl hp jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">é¦–å…ˆï¼Œè®©æˆ‘ä»¬ç¡®ä¿æˆ‘ä»¬å¤„äºä¸€ä¸ªä¸åŒçš„ç¯å¢ƒä¸­ï¼Œå¹¶æ­£ç¡®å®‰è£…é¡¹ç›®æ‰€éœ€çš„åº“ã€‚æœ€éš¾çš„(å¯èƒ½)æ˜¯å®‰è£…<code class="du kn ko kp kq b">pyaudio</code>ã€‚</p><h1 id="6890" class="im in hp bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">è™šæ‹Ÿç¯å¢ƒå’Œåº“å®‰è£…</h1><p id="697b" class="pw-post-body-paragraph jk jl hp jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">åœ¨å¼€å§‹å®‰è£…åº“ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºè¿™ä¸ªé¡¹ç›®åˆ›å»ºå¹¶æ¿€æ´»ä¸€ä¸ªæ–°ç¯å¢ƒ:</p><pre class="lg lh li lj fd lq kq lr bn ls lt bi"><span id="0101" class="lu in hp kq b be lv lw l lx ly"># if you're on Linux based systems<br/>$ python -m venv env &amp;&amp; source env/bin/activate<br/>$ (env) &lt;path&gt;<br/><br/># if you're on Windows and using Bash terminal<br/>$ python -m venv env &amp;&amp; source env/Scripts/activate<br/>$ (env) &lt;path&gt;<br/><br/># if you're on Windows and using CMD<br/>python -m venv env &amp;&amp; .\env\Scripts\activate<br/>$ (env) &lt;path&gt;</span></pre><p id="d31b" class="pw-post-body-paragraph jk jl hp jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">è§£é‡Š<code class="du kn ko kp kq b">python -m venv env</code>å‘Šè¯‰Pythonè¿è¡Œæ¨¡å—(<code class="du kn ko kp kq b"><a class="ae kr" href="https://docs.python.org/2/using/cmdline.html#cmdoption-m" rel="noopener ugc nofollow" target="_blank">-m</a></code> ) <code class="du kn ko kp kq b"><a class="ae kr" href="https://docs.python.org/3/library/venv.html" rel="noopener ugc nofollow" target="_blank">venv</a></code>ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º<code class="du kn ko kp kq b">env</code>çš„æ–‡ä»¶å¤¹ã€‚<code class="du kn ko kp kq b">&amp;&amp;</code>ä»£è¡¨å’Œã€‚å°†æ¿€æ´»æ‚¨çš„ç¯å¢ƒï¼Œæ‚¨å°†åªèƒ½åœ¨è¯¥ç¯å¢ƒä¸­å®‰è£…åº“ã€‚</p><p id="1eaf" class="pw-post-body-paragraph jk jl hp jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">ç°åœ¨å®‰è£…æ‰€æœ‰éœ€è¦çš„åº“:</p><pre class="lg lh li lj fd lq kq lr bn ls lt bi"><span id="3239" class="lu in hp kq b be lv lw l lx ly">pip install rich pyttsx3 SpeechRecognition google-search-results</span></pre><p id="f2cd" class="pw-post-body-paragraph jk jl hp jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">ç°åœ¨åˆ°<code class="du kn ko kp kq b"><a class="ae kr" href="https://pypi.org/project/PyAudio/" rel="noopener ugc nofollow" target="_blank">pyaudio</a></code>ã€‚è¯·è®°ä½ï¼Œå®‰è£…æ—¶<code class="du kn ko kp kq b">pyaudio</code>å¯èƒ½ä¼šæŠ›å‡ºé”™è¯¯ã€‚ä½ å¯èƒ½éœ€è¦åšé¢å¤–çš„è°ƒæŸ¥ã€‚</p><p id="026a" class="pw-post-body-paragraph jk jl hp jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">å¦‚æœä½ åœ¨Linuxä¸Šï¼Œæˆ‘ä»¬éœ€è¦<a class="ae kr" href="https://stackoverflow.com/a/50409644/15164646" rel="noopener ugc nofollow" target="_blank">å®‰è£…ä¸€äº›å¼€å‘ä¾èµ–æ¥ä½¿ç”¨</a> <code class="du kn ko kp kq b"><a class="ae kr" href="https://stackoverflow.com/a/50409644/15164646" rel="noopener ugc nofollow" target="_blank">pyaudio</a></code>:</p><pre class="lg lh li lj fd lq kq lr bn ls lt bi"><span id="8598" class="lu in hp kq b be lv lw l lx ly">$ sudo apt-get install -y libasound-dev portaudio19-dev<br/>$ pip install pyaudio</span></pre><p id="9530" class="pw-post-body-paragraph jk jl hp jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">å¦‚æœä½ åœ¨Windowsä¸Šï¼Œé‚£å°±æ›´ç®€å•äº†(ç”¨CMDå’ŒGit Bashæµ‹è¯•è¿‡):</p><pre class="lg lh li lj fd lq kq lr bn ls lt bi"><span id="6df9" class="lu in hp kq b be lv lw l lx ly">pip install pyaudio</span></pre><h1 id="1bd2" class="im in hp bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">å®Œæ•´ä»£ç </h1><pre class="lg lh li lj fd lq kq lr bn ls lt bi"><span id="e1cc" class="lu in hp kq b be lv lw l lx ly">import os<br/>import speech_recognition<br/>import pyttsx3<br/>from serpapi import GoogleSearch<br/>from rich.console import Console<br/>from dotenv import load_dotenv<br/><br/>load_dotenv('.env')<br/>console = Console()<br/><br/>def main():<br/>    console.rule('[bold yellow]SerpApi Voice Assistant Demo Project')<br/>    recognizer = speech_recognition.Recognizer()<br/><br/>    while True:<br/>        with console.status(status='Listening you...', spinner='point') as progress_bar:<br/>            try:<br/>                with speech_recognition.Microphone() as mic:<br/>                    recognizer.adjust_for_ambient_noise(mic, duration=0.1)<br/>                    audio = recognizer.listen(mic)<br/>                    text = recognizer.recognize_google(audio_data=audio).lower()<br/>                    console.print(f'[bold]Recognized text[/bold]: {text}')<br/><br/>                    progress_bar.update(status='Looking for answers...', spinner='line')<br/>                    params = {<br/>                        'api_key': os.getenv('API_KEY'),<br/>                        'device': 'desktop',<br/>                        'engine': 'google',<br/>                        'q': text,<br/>                        'google_domain': 'google.com',<br/>                        'gl': 'us',<br/>                        'hl': 'en'<br/>                    }<br/>                    search = GoogleSearch(params)<br/>                    results = search.get_dict()<br/><br/>                    try:<br/>                        if 'answer_box' in results:<br/>                            try:<br/>                                primary_answer = results['answer_box']['answer']<br/>                            except:<br/>                                primary_answer = results['answer_box']['result']<br/>                            console.print(f'[bold]The answer is[/bold]: {primary_answer}')<br/>                        elif 'knowledge_graph' in results:<br/>                            secondary_answer = results['knowledge_graph']['description']<br/>                            console.print(f'[bold]The answer is[/bold]: {secondary_answer}')<br/>                        else:<br/>                            tertiary_answer = results['answer_box']['list']<br/>                            console.print(f'[bold]The answer is[/bold]: {tertiary_answer}')<br/><br/>                        progress_bar.stop() # if answered is success -&gt; stop progress bar.<br/>                        user_promnt_to_contiune_if_answer_is_success = input('Would you like to to search for something again? (y/n) ')<br/><br/>                        if user_promnt_to_contiune_if_answer_is_success == 'y':<br/>                            recognizer = speech_recognition.Recognizer()<br/>                            continue # run speech recognizion again until `user_promt` == 'n'<br/>                        else:<br/>                            console.rule('[bold yellow]Thank you for cheking SerpApi Voice Assistant Demo Project')<br/>                            break<br/>                    except KeyError:<br/>                        progress_bar.stop()<br/>                        error_user_promt = input("Sorry, didn't found the answer. Would you like to rephrase it? (y/n) ")<br/><br/>                        if error_user_promt == 'y':<br/>                            recognizer = speech_recognition.Recognizer()<br/>                            continue # run speech recognizion again until `user_promt` == 'n'<br/>                        else:<br/>                            console.rule('[bold yellow]Thank you for cheking SerpApi Voice Assistant Demo Project')<br/>                            break<br/>            except speech_recognition.UnknownValueError:<br/>                progress_bar.stop()<br/>                user_promt_to_continue = input('Sorry, not quite understood you. Could say it again? (y/n) ')<br/><br/>                if user_promt_to_continue == 'y':<br/>                    recognizer = speech_recognition.Recognizer()<br/>                    continue # run speech recognizion again until `user_promt` == 'n'<br/>                else:<br/>                    progress_bar.stop()<br/>                    console.rule('[bold yellow]Thank you for cheking SerpApi Voice Assistant Demo Project')<br/>                    break<br/><br/>if __name__ == '__main__':<br/>    main()</span></pre><h1 id="dec2" class="im in hp bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">ä»£ç è§£é‡Š</h1><p id="8425" class="pw-post-body-paragraph jk jl hp jm b jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh hb bi translated">å¯¼å…¥åº“:</p><pre class="lg lh li lj fd lq kq lr bn ls lt bi"><span id="7242" class="lu in hp kq b be lv lw l lx ly">import os<br/>import speech_recognition<br/>import pyttsx3<br/>from serpapi import GoogleSearch<br/>from rich.console import Console<br/>from dotenv import load_dotenv</span></pre><ul class=""><li id="002a" class="ks kt hp jm b jn ki jr kj jv ku jz kv kd kw kh kx ky kz la bi translated"><code class="du kn ko kp kq b"><a class="ae kr" href="https://github.com/Textualize/rich" rel="noopener ugc nofollow" target="_blank">rich</a></code> Pythonåº“ï¼Œç”¨äºåœ¨ç»ˆç«¯ä¸­è¿›è¡Œæ¼‚äº®çš„æ ¼å¼åŒ–ã€‚</li><li id="ff8d" class="ks kt hp jm b jn lb jr lc jv ld jz le kd lf kh kx ky kz la bi translated"><code class="du kn ko kp kq b"><a class="ae kr" href="https://github.com/nateshmbhat/pyttsx3" rel="noopener ugc nofollow" target="_blank">pyttsx3</a></code> Pythonçš„æ–‡æœ¬åˆ°è¯­éŸ³è½¬æ¢å™¨ï¼Œç¦»çº¿å·¥ä½œã€‚</li><li id="254f" class="ks kt hp jm b jn lb jr lc jv ld jz le kd lf kh kx ky kz la bi translated"><code class="du kn ko kp kq b"><a class="ae kr" href="https://github.com/Uberi/speech_recognition" rel="noopener ugc nofollow" target="_blank">SpeechRecognition</a></code> Pythonåº“å°†è¯­éŸ³è½¬æ¢ä¸ºæ–‡æœ¬ã€‚</li><li id="1c06" class="ks kt hp jm b jn lb jr lc jv ld jz le kd lf kh kx ky kz la bi translated"><code class="du kn ko kp kq b"><a class="ae kr" href="https://github.com/serpapi/google-search-results-python" rel="noopener ugc nofollow" target="_blank">google-search-results</a></code> SerpApiçš„Python APIåŒ…è£…å™¨ï¼Œå¯è§£ææ¥è‡ª15ä¸ªä»¥ä¸Šæœç´¢å¼•æ“çš„æ•°æ®ã€‚</li><li id="9900" class="ks kt hp jm b jn lb jr lc jv ld jz le kd lf kh kx ky kz la bi translated"><code class="du kn ko kp kq b"><a class="ae kr" href="https://docs.python.org/3/library/os.html" rel="noopener ugc nofollow" target="_blank">os</a></code>è¯»å–ç§˜å¯†ç¯å¢ƒå˜é‡ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒæ˜¯SerpApi APIå¯†é’¥ã€‚</li><li id="dcfb" class="ks kt hp jm b jn lb jr lc jv ld jz le kd lf kh kx ky kz la bi translated"><code class="du kn ko kp kq b"><a class="ae kr" href="https://github.com/theskumar/python-dotenv" rel="noopener ugc nofollow" target="_blank">dotenv</a></code>ä»<code class="du kn ko kp kq b">.env</code>æ–‡ä»¶åŠ è½½æ‚¨çš„ç¯å¢ƒå˜é‡(SerpApi API key)ã€‚<code class="du kn ko kp kq b">.env</code>æ–‡ä»¶å¯ä»¥é‡å‘½åä¸ºä»»ä½•æ–‡ä»¶:<code class="du kn ko kp kq b">.napoleon</code> <code class="du kn ko kp kq b">.</code>(ç‚¹)ä»£è¡¨ä¸€ä¸ªç¯å¢ƒå˜é‡æ–‡ä»¶ã€‚</li></ul><p id="90d2" class="pw-post-body-paragraph jk jl hp jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">å®šä¹‰<code class="du kn ko kp kq b">rich</code> <code class="du kn ko kp kq b"><a class="ae kr" href="https://rich.readthedocs.io/en/stable/console.html" rel="noopener ugc nofollow" target="_blank">Console()</a></code>ã€‚å®ƒå°†ç”¨äºç¾åŒ–ç»ˆç«¯è¾“å‡º(åŠ¨ç”»ç­‰):</p><pre class="lg lh li lj fd lq kq lr bn ls lt bi"><span id="d676" class="lu in hp kq b be lv lw l lx ly">console = Console()</span></pre><p id="5794" class="pw-post-body-paragraph jk jl hp jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">å®šä¹‰<code class="du kn ko kp kq b">main</code>åŠŸèƒ½ï¼Œæ‰€æœ‰åŠŸèƒ½å°†åœ¨æ­¤å‘ç”Ÿ:</p><pre class="lg lh li lj fd lq kq lr bn ls lt bi"><span id="2014" class="lu in hp kq b be lv lw l lx ly">def main():<br/>    console.rule('[bold yellow]SerpApi Voice Assistant Demo Project')<br/>    recognizer = speech_recognition.Recognizer()</span></pre><p id="4108" class="pw-post-body-paragraph jk jl hp jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">åœ¨å‡½æ•°çš„å¼€å§‹ï¼Œæˆ‘ä»¬å®šä¹‰<code class="du kn ko kp kq b">speech_recognition.Recognizer()</code>å’Œ<code class="du kn ko kp kq b">console.rule</code>å°†äº§ç”Ÿä»¥ä¸‹è¾“å‡º:</p><pre class="lg lh li lj fd lq kq lr bn ls lt bi"><span id="af2e" class="lu in hp kq b be lv lw l lz ly">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ SerpApi Voice Assistant Demo Project â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></pre><p id="d629" class="pw-post-body-paragraph jk jl hp jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">ä¸‹ä¸€æ­¥æ˜¯åˆ›å»ºä¸€ä¸ªwhileå¾ªç¯ï¼Œè¯¥å¾ªç¯å°†æŒç»­ç›‘å¬éº¦å…‹é£è¾“å…¥ä»¥è¯†åˆ«è¯­éŸ³:</p><pre class="lg lh li lj fd lq kq lr bn ls lt bi"><span id="e2a4" class="lu in hp kq b be lv lw l lx ly">while True:<br/>    with console.status(status='Listening you...', spinner='point') as progress_bar:<br/>        try:<br/>            with speech_recognition.Microphone() as mic:<br/>                recognizer.adjust_for_ambient_noise(mic, duration=0.1)<br/>                audio = recognizer.listen(mic)<br/><br/>                text = recognizer.recognize_google(audio_data=audio).lower()<br/>                console.print(f'[bold]Recognized text[/bold]: {text}')</span></pre><ul class=""><li id="3d73" class="ks kt hp jm b jn ki jr kj jv ku jz kv kd kw kh kx ky kz la bi translated"><code class="du kn ko kp kq b"><a class="ae kr" href="https://github.com/Textualize/rich/blob/5f4e93efb159af99ed51f1fbfd8b793bb36448d9/rich/console.py#L1144-L1163" rel="noopener ugc nofollow" target="_blank">console.status</a></code> -ä¸€ä¸ª<code class="du kn ko kp kq b">rich</code>è¿›åº¦æ¡ï¼Œä»…ç”¨äºä¿®é¥°ç›®çš„ã€‚</li><li id="cb3b" class="ks kt hp jm b jn lb jr lc jv ld jz le kd lf kh kx ky kz la bi translated"><code class="du kn ko kp kq b">speech_recognition.Microphone()</code>å¼€å§‹ä»éº¦å…‹é£æ‹¾å–è¾“å…¥ã€‚</li><li id="316a" class="ks kt hp jm b jn lb jr lc jv ld jz le kd lf kh kx ky kz la bi translated"><code class="du kn ko kp kq b"><a class="ae kr" href="https://github.com/Uberi/speech_recognition/blob/353d4ef74a55082de1f32796601899506d1b8bc7/speech_recognition/__init__.py#L560-L567" rel="noopener ugc nofollow" target="_blank">recognizer.adjust_for_ambient_noise</a></code>æ—¨åœ¨ç”¨ç¯å¢ƒèƒ½é‡æ°´å¹³æ ¡å‡†èƒ½é‡é˜ˆå€¼ã€‚</li><li id="356e" class="ks kt hp jm b jn lb jr lc jv ld jz le kd lf kh kx ky kz la bi translated"><code class="du kn ko kp kq b"><a class="ae kr" href="https://github.com/Uberi/speech_recognition/blob/353d4ef74a55082de1f32796601899506d1b8bc7/speech_recognition/__init__.py#L636-L649" rel="noopener ugc nofollow" target="_blank">recognizer.listen</a></code>ç›‘å¬å®é™…çš„ç”¨æˆ·æ–‡æœ¬ã€‚</li><li id="17df" class="ks kt hp jm b jn lb jr lc jv ld jz le kd lf kh kx ky kz la bi translated"><code class="du kn ko kp kq b"><a class="ae kr" href="https://github.com/Uberi/speech_recognition/blob/353d4ef74a55082de1f32796601899506d1b8bc7/speech_recognition/__init__.py#L859-L874" rel="noopener ugc nofollow" target="_blank">recognizer.recognize_google</a></code>ä½¿ç”¨Googleè¯­éŸ³è¯†åˆ«APIæ‰§è¡Œè¯­éŸ³è¯†åˆ«ã€‚<code class="du kn ko kp kq b">lower()</code>æ˜¯é™ä½è¯†åˆ«æ–‡æœ¬ã€‚</li><li id="1a98" class="ks kt hp jm b jn lb jr lc jv ld jz le kd lf kh kx ky kz la bi translated"><code class="du kn ko kp kq b">console.print</code>ä¸€æ¡<code class="du kn ko kp kq b">rich</code> <code class="du kn ko kp kq b">print</code>è¯­å¥ï¼Œå…è®¸ä½¿ç”¨æ–‡æœ¬ä¿®æ”¹ï¼Œå¦‚æ·»åŠ <strong class="jm hq">ç²—ä½“</strong>ã€<em class="ma">æ–œä½“</em>ç­‰ã€‚</li></ul><p id="fd54" class="pw-post-body-paragraph jk jl hp jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated"><code class="du kn ko kp kq b">spinner='point'</code>å°†äº§ç”Ÿå¦‚ä¸‹è¾“å‡º(<a class="ae kr" href="https://github.com/Textualize/rich/blob/5f4e93efb159af99ed51f1fbfd8b793bb36448d9/rich/console.py#L1157" rel="noopener ugc nofollow" target="_blank">ä½¿ç”¨</a> <code class="du kn ko kp kq b"><a class="ae kr" href="https://github.com/Textualize/rich/blob/5f4e93efb159af99ed51f1fbfd8b793bb36448d9/rich/console.py#L1157" rel="noopener ugc nofollow" target="_blank">python -m rich.spinner</a></code> <a class="ae kr" href="https://github.com/Textualize/rich/blob/5f4e93efb159af99ed51f1fbfd8b793bb36448d9/rich/console.py#L1157" rel="noopener ugc nofollow" target="_blank">æŸ¥çœ‹</a> <code class="du kn ko kp kq b"><a class="ae kr" href="https://github.com/Textualize/rich/blob/5f4e93efb159af99ed51f1fbfd8b793bb36448d9/rich/console.py#L1157" rel="noopener ugc nofollow" target="_blank">spinners</a></code>åˆ—è¡¨):</p><figure class="lg lh li lj fd hk er es paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="er es mb"><img src="../Images/0feafb91d82ce3549495e9e0b1c2be30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qgaTbUZIZ8aTs-qJ.gif"/></div></div></figure><p id="713d" class="pw-post-body-paragraph jk jl hp jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦ä¸ºæœç´¢åˆå§‹åŒ–SerpApiæœç´¢å‚æ•°:</p><pre class="lg lh li lj fd lq kq lr bn ls lt bi"><span id="7795" class="lu in hp kq b be lv lw l lx ly">progress_bar.update(status='Looking for answers...', spinner='line') <br/>params = {<br/>    'api_key': os.getenv('API_KEY'),  # serpapi api key   <br/>    'device': 'desktop',              # device used for <br/>    'engine': 'google',               # serpapi parsing engine: https://serpapi.com/status<br/>    'q': text,                        # search query <br/>    'google_domain': 'google.com',    # google domain:          https://serpapi.com/google-domains<br/>    'gl': 'us',                       # country of the search:  https://serpapi.com/google-countries<br/>    'hl': 'en'                        # language of the search: https://serpapi.com/google-languages<br/>    # other parameters such as locations: https://serpapi.com/locations-api<br/>}<br/>search = GoogleSearch(params)         # where data extraction happens on the SerpApi backend<br/>results = search.get_dict()           # JSON -&gt; Python dict</span></pre><p id="5f5d" class="pw-post-body-paragraph jk jl hp jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated"><code class="du kn ko kp kq b">progress_bar.update</code>å°†ä½¿ç”¨æ–°çš„<code class="du kn ko kp kq b">status</code>æ›´æ–°<code class="du kn ko kp kq b">progress_bar</code>(æ–‡æœ¬æ‰“å°åœ¨æ§åˆ¶å°ä¸­)ï¼Œå¹¶ä¸”<code class="du kn ko kp kq b">spinner='line'</code>å°†ç”Ÿæˆä»¥ä¸‹åŠ¨ç”»:</p><figure class="lg lh li lj fd hk er es paragraph-image"><div class="er es mg"><img src="../Images/c1a167f9adaf57c58a761c7b683c72b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:928/0*pxHfDyyAnhCy0-wp.gif"/></div></figure><p id="4bea" class="pw-post-body-paragraph jk jl hp jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">ä¹‹åï¼Œä½¿ç”¨SerpApiçš„<a class="ae kr" href="https://serpapi.com/search-api" rel="noopener ugc nofollow" target="_blank">è°·æ­Œæœç´¢å¼•æ“API </a>ä»è°·æ­Œæœç´¢ä¸­æå–æ•°æ®ã€‚</p><p id="f64b" class="pw-post-body-paragraph jk jl hp jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">ä»£ç çš„ä»¥ä¸‹éƒ¨åˆ†å°†æ‰§è¡Œä»¥ä¸‹æ“ä½œ:</p><figure class="lg lh li lj fd hk er es paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="er es mh"><img src="../Images/fccbb024cdd5bc068637fce6e9d83e60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*OTlq1oxeFhQuFXJV.png"/></div></div></figure><pre class="lg lh li lj fd lq kq lr bn ls lt bi"><span id="e87a" class="lu in hp kq b be lv lw l lx ly">try:<br/>    if 'answer_box' in results:<br/>        try:<br/>            primary_answer = results['answer_box']['answer']<br/>        except:<br/>            primary_answer = results['answer_box']['result']<br/>        console.print(f'[bold]The answer is[/bold]: {primary_answer}')<br/><br/>     elif 'knowledge_graph' in results:<br/>            secondary_answer = results['knowledge_graph']['description']<br/>            console.print(f'[bold]The answer is[/bold]: {secondary_answer}')<br/>        else:<br/>            tertiary_answer = results['answer_box']['list']<br/>            console.print(f'[bold]The answer is[/bold]: {tertiary_answer}')<br/>        progress_bar.stop()  # if answered is success -&gt; stop progress bar<br/><br/>        user_promnt_to_contiune_if_answer_is_success = input('Would you like to to search for something again? (y/n) ')<br/><br/>        if user_promnt_to_contiune_if_answer_is_success == 'y':<br/>            recognizer = speech_recognition.Recognizer()<br/>            continue         # run speech recognizion again until `user_promt` == 'n'<br/>        else:<br/>            console.rule('[bold yellow]Thank you for cheking SerpApi Voice Assistant Demo Project')<br/>            break<br/><br/>    except KeyError:<br/>        progress_bar.stop()  # if didn't found the answer -&gt; stop progress bar<br/>        error_user_promt = input("Sorry, didn't found the answer. Would you like to rephrase it? (y/n) ")<br/><br/>        if error_user_promt == 'y':<br/>            recognizer = speech_recognition.Recognizer()<br/>            continue         # run speech recognizion again until `user_promt` == 'n'<br/>        else:<br/>            console.rule('[bold yellow]Thank you for cheking SerpApi Voice Assistant Demo Project')<br/>            break</span></pre><p id="5df8" class="pw-post-body-paragraph jk jl hp jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">æœ€åä¸€æ­¥æ˜¯å¤„ç†éº¦å…‹é£æ²¡æœ‰å£°éŸ³æ—¶çš„é”™è¯¯:</p><pre class="lg lh li lj fd lq kq lr bn ls lt bi"><span id="6bfd" class="lu in hp kq b be lv lw l lx ly"># while True:<br/>#     with console.status(status='Listening you...', spinner='point') as progress_bar:<br/>#         try:<br/>            # speech recognition code<br/>            # data extraction code<br/>        except speech_recognition.UnknownValueError:<br/>                progress_bar.stop()         # if didn't heard the speech -&gt; stop progress bar<br/>                user_promt_to_continue = input('Sorry, not quite understood you. Could say it again? (y/n) ')<br/><br/>          if user_promt_to_continue == 'y':<br/>              recognizer = speech_recognition.Recognizer()<br/>              continue               # run speech recognizion again until `user_promt` == 'n'<br/>          else:<br/>              progress_bar.stop()    # if want to quit -&gt; stop progress bar<br/>              console.rule('[bold yellow]Thank you for cheking SerpApi Voice Assistant Demo Project')<br/>              break</span></pre><p id="6547" class="pw-post-body-paragraph jk jl hp jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated"><code class="du kn ko kp kq b">console.rule()</code>å°†æä¾›ä»¥ä¸‹è¾“å‡º:</p><pre class="lg lh li lj fd lq kq lr bn ls lt bi"><span id="2ac1" class="lu in hp kq b be lv lw l lz ly">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Thank you for cheking SerpApi Voice Assistant Demo Project â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></pre><p id="3dcc" class="pw-post-body-paragraph jk jl hp jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">æ·»åŠ <code class="du kn ko kp kq b">if __name__ == '__main__'</code>ä¹ è¯­ï¼Œé˜²æ­¢ç”¨æˆ·åœ¨æ— æ„ä¸­æ„å¤–è°ƒç”¨æŸäº›è„šæœ¬ï¼Œå¹¶è°ƒç”¨<code class="du kn ko kp kq b">main</code>å‡½æ•°è¿è¡Œæ•´ä¸ªè„šæœ¬:</p><pre class="lg lh li lj fd lq kq lr bn ls lt bi"><span id="3e8e" class="lu in hp kq b be lv lw l lx ly">if __name__ == '__main__':<br/>    main()</span></pre><h1 id="00f1" class="im in hp bd io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj bi translated">é“¾æ¥</h1><ul class=""><li id="70fb" class="ks kt hp jm b jn jo jr js jv mi jz mj kd mk kh kx ky kz la bi translated"><code class="du kn ko kp kq b"><a class="ae kr" href="https://github.com/Textualize/rich" rel="noopener ugc nofollow" target="_blank">rich</a></code></li><li id="ada0" class="ks kt hp jm b jn lb jr lc jv ld jz le kd lf kh kx ky kz la bi translated"><code class="du kn ko kp kq b"><a class="ae kr" href="https://github.com/nateshmbhat/pyttsx3" rel="noopener ugc nofollow" target="_blank">pyttsx3</a></code></li><li id="17b0" class="ks kt hp jm b jn lb jr lc jv ld jz le kd lf kh kx ky kz la bi translated"><code class="du kn ko kp kq b"><a class="ae kr" href="https://github.com/Uberi/speech_recognition" rel="noopener ugc nofollow" target="_blank">SpeechRecognition</a></code></li><li id="a019" class="ks kt hp jm b jn lb jr lc jv ld jz le kd lf kh kx ky kz la bi translated"><code class="du kn ko kp kq b"><a class="ae kr" href="https://github.com/serpapi/google-search-results-python" rel="noopener ugc nofollow" target="_blank">google-search-results</a></code></li><li id="9759" class="ks kt hp jm b jn lb jr lc jv ld jz le kd lf kh kx ky kz la bi translated"><code class="du kn ko kp kq b"><a class="ae kr" href="https://docs.python.org/3/library/os.html" rel="noopener ugc nofollow" target="_blank">os</a></code></li><li id="35e7" class="ks kt hp jm b jn lb jr lc jv ld jz le kd lf kh kx ky kz la bi translated"><code class="du kn ko kp kq b"><a class="ae kr" href="https://github.com/theskumar/python-dotenv" rel="noopener ugc nofollow" target="_blank">dotenv</a></code></li></ul><p id="cbf1" class="pw-post-body-paragraph jk jl hp jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">åŠ å…¥æˆ‘ä»¬çš„<a class="ae kr" href="https://twitter.com/serp_api" rel="noopener ugc nofollow" target="_blank">Twitter</a>|<a class="ae kr" href="https://www.youtube.com/channel/UCUgIHlYBOD3yA3yDIRhg_mg" rel="noopener ugc nofollow" target="_blank">YouTube</a></p><p id="b1a5" class="pw-post-body-paragraph jk jl hp jm b jn ki jp jq jr kj jt ju jv kk jx jy jz kl kb kc kd km kf kg kh hb bi translated">æ·»åŠ ä¸€ä¸ª<a class="ae kr" href="https://github.com/serpapi/public-roadmap/issues" rel="noopener ugc nofollow" target="_blank">ç‰¹å¾è¯·æ±‚</a>ğŸ’«è¿˜æ˜¯ä¸€ä¸ª<a class="ae kr" href="https://github.com/serpapi/public-roadmap/issues" rel="noopener ugc nofollow" target="_blank"> Bug </a>ğŸ</p></div></div>    
</body>
</html>