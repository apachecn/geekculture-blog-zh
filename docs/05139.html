<html>
<head>
<title>RequestAnimationFrame in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScriptä¸­çš„RequestAnimationFrame</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/geekculture/requestanimationframe-in-javascript-82a913cf8c46?source=collection_archive---------0-----------------------#2021-07-12">https://medium.com/geekculture/requestanimationframe-in-javascript-82a913cf8c46?source=collection_archive---------0-----------------------#2021-07-12</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><figure class="hh hi ez fb hj hk er es paragraph-image"><div role="button" tabindex="0" class="hl hm di hn bf ho"><div class="er es hg"><img src="../Images/e568b54e6b9547c476f7be6844ecb21c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VYcZCiOWTO5wJ_UoaploEQ.png"/></div></div></figure><div class=""/><p id="7973" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ä½¿ç”¨æœ¬åœ°çš„requestAnimationFrameæ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥è®©æˆ‘ä»¬çš„æµè§ˆå™¨æ°¸è¿œå¿«é€Ÿåœ°é‡å¤æŸä»¶äº‹æƒ…ã€‚å®ƒè°ƒç”¨è‡ªå·±æ¥ç»˜åˆ¶ä¸‹ä¸€å¸§ã€‚</p><p id="1975" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ğŸ“æ³¨æ„:å¦‚æœä½ æƒ³åœ¨ä¸‹ä¸€æ¬¡é‡ç”»æ—¶åˆ¶ä½œå¦ä¸€å¸§çš„åŠ¨ç”»ï¼Œä½ çš„å›è°ƒå‡½æ•°å¿…é¡»å†æ¬¡è°ƒç”¨<strong class="is hu"> requestAnimationFrame() </strong>ã€‚requestAnimationFrame()æ˜¯1ä¸ªé•œå¤´ã€‚</p><p id="5065" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu"> requestAnimationFrame </strong>æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œåªæœ‰å›è°ƒã€‚</p><p id="8e62" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">è¯­æ³•:</strong></p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="9b04" class="jx jy ht jt b fi jz ka l kb kc">window.requestAnimationFrame(callback);</span></pre><p id="9836" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hu">å›è°ƒ</strong>:åœ¨ä¸‹ä¸€æ¬¡é‡ç”»æ—¶æ›´æ–°åŠ¨ç”»æ—¶è°ƒç”¨çš„å‡½æ•°ã€‚</p><p id="9a3d" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">å¸¦æœ‰<strong class="is hu"> requestAnimationFrame </strong>çš„åŠ¨ç”»æ˜¯éé˜»å¡çš„ï¼Œè¿™æ„å‘³ç€å¦‚æœæ‚¨å¯¹<strong class="is hu"> requestAnimationFrame </strong>è¿›è¡Œåç»­è°ƒç”¨ï¼Œæ‰€äº§ç”Ÿçš„åŠ¨ç”»å°†åŒæ—¶å‘ç”Ÿã€‚</p><p id="d58f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ç›®æ ‡æ˜¯<strong class="is hu">æ¯ç§’60å¸§(fps) </strong>ä»¥å‡ºç°å¹³æ»‘çš„åŠ¨ç”»ã€‚</p><p id="112f" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æ‰€ä»¥æˆ‘ä»¬ç¡®å®å–œæ¬¢è¿™ä¸ªğŸ‘‡</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="895a" class="jx jy ht jt b fi jz ka l kb kc">setInterval(() =&gt; {<br/>  // animation code<br/>}, 1000/60);</span></pre><p id="f83b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ä½†æ˜¯ç°åœ¨æˆ‘ä»¬æœ‰äº†<strong class="is hu"> requestAnimationFrame </strong>ï¼Œæ›´åŠ ä¼˜ç§€å’Œä¼˜åŒ–:</p><ul class=""><li id="14af" class="kd ke ht is b it iu ix iy jb kf jf kg jj kh jn ki kj kk kl bi translated">åŠ¨ç”»å°†å¦‚æ­¤é¡ºåˆ©ï¼Œå› ä¸ºå®ƒçš„ä¼˜åŒ–</li><li id="8c3f" class="kd ke ht is b it km ix kn jb ko jf kp jj kq jn ki kj kk kl bi translated">éæ´»åŠ¨æ ‡ç­¾ä¸­çš„åŠ¨ç”»å°†åœæ­¢ï¼Œè®©CPUå†·å´</li></ul><p id="6cc7" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ä½¿ç”¨requestAnimationFrameåˆ›å»ºä¸Šé¢çš„ä»£ç ç‰‡æ®µ</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="1258" class="jx jy ht jt b fi jz ka l kb kc">function smoothAnimation() {<br/>    // animtion<br/>    requestAnimationFrame(smoothAnimation)<br/>}<br/>requestAnimationFrame(smoothAnimation)</span></pre><h1 id="495b" class="kr jy ht bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">ä½ å¦‚ä½•å¼€å§‹å’Œåœæ­¢åŠ¨ç”»â²ï¸</h1><p id="3af8" class="pw-post-body-paragraph iq ir ht is b it lo iv iw ix lp iz ja jb lq jd je jf lr jh ji jj ls jl jm jn hb bi translated"><strong class="is hu"> requestAnimationFrame </strong>è¿”å›ä¸€ä¸ªå¯ä»¥ç”¨æ¥å–æ¶ˆå®ƒçš„IDã€‚</p><pre class="jo jp jq jr fd js jt ju jv aw jw bi"><span id="175e" class="jx jy ht jt b fi jz ka l kb kc">let reqAnimationId;<br/>function smoothAnimation() {<br/>    // animtion<br/>    reqAnimationId = requestAnimationFrame(smoothAnimation)<br/>}</span><span id="c0cd" class="jx jy ht jt b fi lt ka l kb kc">// to start<br/>function start() {<br/>    reqAnimationId = requestAnimationFrame(smoothAnimation)<br/>}</span><span id="0459" class="jx jy ht jt b fi lt ka l kb kc">// to end<br/>function end() {<br/>     cancelAnimationFrame(reqAnimationId)<br/>}<br/>console.log("reqAnimationId", reqAnimationId)</span></pre><p id="916b" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ç‚¹å‡»<strong class="is hu">æ‰“å¼€</strong>æŸ¥çœ‹æ›´å¤šè¯¦æƒ…:</p><figure class="jo jp jq jr fd hk"><div class="bz dy l di"><div class="lu lv l"/></div></figure><h1 id="bec3" class="kr jy ht bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">å‚è€ƒğŸ§</h1><ul class=""><li id="83df" class="kd ke ht is b it lo ix lp jb lw jf lx jj ly jn ki kj kk kl bi translated"><a class="ae lz" href="https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame" rel="noopener ugc nofollow" target="_blank">request animation frameçš„MDNæ–‡æ¡£</a></li><li id="294e" class="kd ke ht is b it km ix kn jb ko jf kp jj kq jn ki kj kk kl bi translated"><a class="ae lz" href="https://www.paulirish.com/2011/requestanimationframe-for-smart-animating/" rel="noopener ugc nofollow" target="_blank">ä¿ç½—Â·çˆ±å°”å…°è¯·æ±‚åŠ¨ç”»å¸§</a></li></ul><h1 id="e786" class="kr jy ht bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">æ€»ç»“#</h1><p id="6ac4" class="pw-post-body-paragraph iq ir ht is b it lo iv iw ix lp iz ja jb lq jd je jf lr jh ji jj ls jl jm jn hb bi translated">å¦‚æœæ‚¨åœ¨æµè§ˆå™¨ä¸Šåˆ¶ä½œä»»ä½•åŠ¨ç”»ï¼Œå¹¶å¸Œæœ›å¯¹å…¶è¿›è¡Œä¼˜åŒ–ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¼ºçƒˆå»ºè®®æ‚¨ä½¿ç”¨requestAnimationFrame web APIã€‚</p><p id="ede8" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æ„Ÿè°¢ä½ é˜…è¯»â¤ï¸çš„æ–‡ç« ï¼Œå¸Œæœ›ä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ã€‚</p><p id="88c6" class="pw-post-body-paragraph iq ir ht is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ğŸŒŸ<a class="ae lz" href="https://twitter.com/suprabhasupi" rel="noopener ugc nofollow" target="_blank">æ¨ç‰¹</a>ğŸ‘©ğŸ»â€ğŸ’»suprabha.meğŸŒŸ<a class="ae lz" href="https://www.instagram.com/suprabhasupi/" rel="noopener ugc nofollow" target="_blank"> Instagram </a></p></div></div>    
</body>
</html>