# ä½¿ç”¨ JavaScript è§£å†³ä¸€ä¸ªç®€å•çš„ç»Ÿè®¡æŒ‘æˆ˜â€”â€”æˆ‘åº”è¯¥æ”¹å˜æˆ‘çš„é€‰æ‹©å—ï¼Ÿ

> åŸæ–‡ï¼š<https://medium.com/geekculture/using-javascript-to-solve-a-simple-statistical-challenge-should-i-change-my-choice-85feea8c29a3?source=collection_archive---------14----------------------->

![](img/a47b20de83a909a9705f4eac05fe3060.png)

# è§£å†³ä¸€ä¸ªå¸¸è§çš„(æ˜æ˜¾çš„)ç»Ÿè®¡é—®é¢˜

æˆ‘å’Œæˆ‘çš„å›¢é˜Ÿä»ä¸€å®¶é…’å§å‡ºæ¥ï¼Œå°±è®¸å¤šä¸åŒçš„äº‹æƒ…è¿›è¡Œäº†æ¿€çƒˆçš„è¾©è®ºï¼ŒæœŸé—´ä¸€ä¸ªäººé—®äº†ä¸€ä¸ªé—®é¢˜ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸€ä¸ªå¸¸è§çš„ç»Ÿè®¡é—®é¢˜:

> â€œè¿™é‡Œæœ‰ 50 æ‰‡é—¨ï¼Œåªæœ‰ä¸€æ‰‡é—¨åé¢æ˜¯å®è—ã€‚ä½ å¯ä»¥é€‰æ‹©ä»»ä½•ä¸€æ‰‡é—¨ï¼›æˆ‘ä¼šç§»é™¤å‰©ä¸‹çš„ 48 æ‰‡é—¨ï¼Œä½†ä¸åŒ…æ‹¬å®è—ã€‚æ‰€ä»¥ä½ ä¼šç•™ä¸‹ä½ çš„é—¨å’Œä¸€ä¸ªï¼Œä½ çŸ¥é“å…¶ä¸­ä¸€ä¸ªå¿…é¡»éšè—å®è—ã€‚ä½ ç°åœ¨å¯ä»¥æ”¹å˜ä½ çš„é€‰æ‹©ã€‚ä½ ä¼šæ”¹å˜å®ƒå—ï¼Ÿâ€

æˆ‘æ²¡æœ‰å¤šæƒ³ï¼Œå°±è¯´æˆ‘ä¸ä¼šã€‚ç„¶è€Œï¼Œæˆ‘è¢«å‘ŠçŸ¥æ­£ç¡®çš„åšæ³•æ˜¯æ”¹å˜æœ€åˆçš„é€‰æ‹©ï¼Œå› ä¸ºè¿™å°†ä½¿æˆ‘æœ‰æ›´é«˜çš„æœºä¼šè·å¾—å®è—ã€‚

## æˆ‘åœ¨ç‰¹å®šæ—¶åˆ»å¯¹å®ƒçš„æ€è€ƒ

è™½ç„¶æˆ‘æœ€åˆçš„é€‰æ‹©åªæœ‰ 2%çš„å¯èƒ½æ€§ï¼Œä½†ç¬¬äºŒä¸ªé€‰æ‹©ï¼Œæ— è®ºæˆ‘æ˜¯å¦æ”¹å˜ï¼Œéƒ½æœ‰ 50%çš„å¯èƒ½æ€§æ˜¯æ­£ç¡®çš„ã€‚æˆ‘éµå¾ªçš„é€»è¾‘ç±»ä¼¼äºæ·ç¡¬å¸â€”â€”æ— è®ºä¹‹å‰çš„æŠ•æ·æ˜¯ä»€ä¹ˆï¼Œæ€»æ˜¯æœ‰ 50%çš„æœºä¼šè·å¾—â€œæ­£é¢â€ï¼Œä½†è¿™ä¸ªä¾‹å­å¹¶æ²¡æœ‰æˆ‘æƒ³è±¡çš„é‚£ä¹ˆç›¸ä¼¼ã€‚æ¯æ¬¡æ‰”ç¡¬å¸éƒ½æ˜¯ä¸ç›¸å…³çš„äº‹ä»¶ã€‚å®ƒä¸æ˜¯ä¸Šä¸€ä¸ªçš„å»¶ç»­ï¼Œæˆ‘é”™è¯¯åœ°å‡è®¾è¿™é‡Œä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚

æˆ‘å·²ç»å¾ˆä¹…æ²¡æœ‰è€ƒè™‘è¿‡æ•´ä¸ªé—®é¢˜äº†ï¼Œå¾ˆå¿«å°±å¿˜è®°äº†â€¦ä½†æ˜¯å‘¨æœ«æ¥äº†ï¼Œå®ƒåƒå›æ—‹é•–ä¸€æ ·å›åˆ°äº†æˆ‘çš„è„‘æµ·ã€‚

# è®©æˆ‘ä»¬æ¥è°ˆè°ˆå›æ—‹é•–

å½“æˆ‘å†™è¿™äº›æ–‡å­—çš„æ—¶å€™ï¼Œæˆ‘è¿˜ä¸çŸ¥é“ç­”æ¡ˆï¼Œæˆ‘ä¹Ÿä¸æƒ³åœ¨ç½‘ä¸Šæœç´¢ç­”æ¡ˆâ€”â€”æˆ‘æƒ³è‡ªå·±å­¦ä¹ ã€‚

## ä¸ºä»€ä¹ˆæˆ‘ç°åœ¨è®¤ä¸ºæˆ‘çš„ç­”æ¡ˆæ˜¯é”™çš„ï¼Ÿ

é™¤äº†æœ‰äººå‘Šè¯‰æˆ‘è¿™æ˜¯é”™çš„:)

è™½ç„¶ç¬¬ä¸€ä¸ªé€‰æ‹©æ˜¯ 2%,ç¬¬äºŒä¸ªé€‰æ‹©æ˜¯ 50%,ä½†åªæœ‰å½“æˆ‘åœ¨ç¬¬äºŒæ¬¡æœºä¼šä¸­æ”¹å˜æœ€åˆçš„é€‰æ‹©æ—¶ï¼Œè¿™ä¸ªé€‰æ‹©æ‰æœ‰æ•ˆã€‚å¦‚æœæˆ‘åšæŒæˆ‘æœ€åˆçš„é€‰æ‹©ï¼Œæ²¡æœ‰ä»€ä¹ˆä¼šæ¯”ä»…ä»… 2%æ›´å¥½ã€‚ç¬¬äºŒä¸ªå˜åŒ–ç»™æˆ‘çš„å°è±¡æ˜¯ï¼Œè¿™ä¸¤ä¸ªäº‹ä»¶æ²¡æœ‰å…³è”ï¼Œæˆ‘çœŸçš„æœ‰ 50%ï¼Œå³ä½¿æˆ‘åšæŒæœ€åˆçš„é—¨ã€‚

> æ³¨æ„:æˆ‘åˆšåˆšè¯»äº†æˆ‘åˆ°ç›®å‰ä¸ºæ­¢å†™çš„ä¸œè¥¿ï¼Œæˆ‘å‡ ä¹å¯ä»¥è‚¯å®šè¿™å°†æ˜¯ 2%å¯¹ 50%ï¼Œåšå‡ºæ”¹å˜æ˜¯æ­£ç¡®çš„äº‹æƒ…ã€‚

æˆ‘æ±‚åŠ©äºä¸€äº› JavaScript ä»£ç æ¥å¸®åŠ©æˆ‘ã€‚

# ä½¿ç”¨å°‘é‡ä»£ç è§£å†³é—®é¢˜

æˆ‘å†™äº†ä¸€ä¸ªå°†è¿è¡Œ 100ï¼Œ000 æ¬¡çš„ç®€å•å‡½æ•°ã€‚ä¸€æ¬¡è¿è¡Œæ—¶ä¸æ”¹å˜ç­”æ¡ˆï¼Œå¦ä¸€æ¬¡è¿è¡Œæ—¶é€‰æ‹©ä¸åŒçš„é—¨ã€‚ç¬¬ä¸€ä¸ªåº”è¯¥æœ‰å¤§çº¦ 2%çš„æˆåŠŸç‡ï¼Œç¬¬äºŒä¸ªå¤§çº¦ 50%ã€‚å½“ç„¶ï¼Œç”±äºè¿™äº›è¿è¡Œä¼šç”Ÿæˆéšæœºæ•°ï¼Œæ‰€ä»¥åˆ†æ•°ä¸ä¼šå®Œç¾ï¼Œä½†ç»è¿‡è¿™ä¹ˆå¤šæ¬¡è¿­ä»£ï¼Œåˆ†æ•°ä¼šéå¸¸æ¥è¿‘ã€‚

æˆ‘ä¿æŒä»£ç ç®€å•ï¼Œæ²¡æœ‰ä»»ä½•æ·å¾„ï¼Œä»¥ç¡®ä¿å®ƒæ˜“äºç†è§£ã€‚å¦‚æœä½ æƒ³åœ¨ç¬¬äºŒä¸ªæœºä¼šæ”¹å˜ç­”æ¡ˆï¼Œä½ å¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œå®ƒï¼Œå¹¶å°† **SHOULD_SWAP** è°ƒæ•´ä¸º **true** ã€‚æ‚¨å¯ä»¥å°è¯•è¿è¡Œæ¬¡æ•°æˆ–é—¨çš„æ•°é‡ç­‰å…¶ä»–å˜é‡ï¼Œçœ‹çœ‹ä¼šäº§ç”Ÿä»€ä¹ˆç»“æœã€‚

```
const RUNS = 100000;
const DOORS = 50;
const SHOULD_SWAP = false;

let allDoors = [];
let myChoice = null;
let otherDoors = null;

let result = [];
let accuracy = null;

function chooseDoors() {
  // generate 50 doors, and make one treasure (true)
  allDoors = Array(50).fill(false);
  allDoors[Math.floor(Math.random() * DOORS)] = true;

  // choose one door and eliminate remaining except 1
  let selectedDoorsIndex = Math.floor(Math.random() * DOORS);
  myChoice = allDoors[selectedDoorsIndex].toString();

  // I don't have to chop the array, it's easy to figure out what the "otherDoors" will be
  if (myChoice === 'false') {
    otherDoors = 'true'
  }
  else {
    otherDoors = 'false'
  }

  // swap the answer at second chance?
  if (SHOULD_SWAP) {
    myChoice = otherDoors;
  }

  result.push(myChoice);
}

// run X times
for (let i = 0; i < RUNS; i++) {
  chooseDoors();
} 

// calculate the final %
let trues = 0;
for (let item in result) {
  if (result[item] === 'true') {
    trues++;
  }
}
accuracy = trues / RUNS * 100;

console.log(accuracy.toString() + '%');
```

![](img/a9b99a00bfa8054a146f544e329faf0b.png)

# ç»“è®º(ä¸æ˜¯æˆ‘æƒ³çš„é‚£æ ·ï¼)

æˆ‘é—®äº†å‡ ä¸ªäººç­”æ¡ˆï¼Œå¤§å¤šæ•°äººè¯´å¦‚æœæˆ‘ä¸æ”¹å˜æˆ‘çš„ç­”æ¡ˆçš„è¯ **2%,å¦‚æœæˆ‘æ”¹å˜äº†**çš„è¯ **50%ã€‚å‰é¢å‡ æ®µï¼Œæˆ‘ä¹Ÿæ˜¯è¿™ä¹ˆè¯´çš„ï¼**

**å¾—çŸ¥æ˜¯ 2%å’Œ 98%å¾ˆæ¿€åŠ¨ï¼** æœ‰é“ç†â€¦â€¦ç°åœ¨ï¼å½“ç„¶ä¼šæ˜¯ 98ï¼ğŸ˜‚

å¸¦ç€ä¸€ç‚¹å¥½å¥‡å’Œå‡ è¡Œä»£ç ï¼Œæˆ‘å‘ç°äº†ä¸€äº›å…³äºæ•°å­—çš„æ–°ä¸œè¥¿ã€‚å¯¹æœªæ¥æœ€é‡è¦çš„æ•™è®­æ˜¯ï¼Œäº‹æƒ…å¹¶ä¸æ€»æ˜¯åƒå®ƒä»¬çœ‹èµ·æ¥çš„é‚£æ ·ï¼Œä¸ç®¡æˆ‘æœ‰å¤šè‡ªä¿¡ï¼Œæˆ‘å¯èƒ½å°±æ˜¯é”™äº†ã€‚è¿™æé†’æˆ‘ä»¬æ”¹å˜æƒ³æ³•ä¹Ÿä¸æ˜¯ä¸€ä¸ªåä¸»æ„ã€‚

è¿™è®©æˆ‘æƒ³èµ·äº†å…³äºæ”¹å˜æˆ‘ä»¬æƒ³æ³•çš„ç ”ç©¶ï¼Œä»¥åŠäººä»¬åšæŒæœ€åˆé€‰æ‹©çš„é¢‘ç‡ï¼Œç›¸ä¿¡è¿™ä¸€å®šæ˜¯æœ€å¥½çš„ã€‚å¯¹åæ‚”çš„ææƒ§å¦‚æ­¤å¼ºçƒˆï¼Œä»¥è‡³äºå½±å“äº†æˆ‘ä»¬çš„é€»è¾‘æ€ç»´ã€‚å®è¯å®è¯´å§ï¼›æƒ…ç»ªæ§åˆ¶æˆ‘ä»¬çš„æ¬¡æ•°æ¯”æˆ‘ä»¬æ„¿æ„ç›¸ä¿¡çš„è¦å¤šã€‚æˆ‘ä»¬å®³æ€•å¦‚æœæˆ‘ä»¬åœ¨ç¬¬äºŒæ¬¡æœºä¼šæ”¹å˜ä¸»æ„ä¼šå‘ç”Ÿä»€ä¹ˆï¼Œä½†æ˜¯æˆ‘ä»¬çš„é—¨è—ç€å®è—ã€‚ç»å…¸çš„â€œæˆ‘å°±çŸ¥é“ï¼æˆ‘å°±çŸ¥é“åº”è¯¥åšå®ˆæˆ‘çš„å¤§é—¨ï¼â€â€¦åœ¨ 2%çš„æƒ…å†µä¸‹ï¼Œè¿™æ˜¯çœŸçš„:)

æŒ‘æˆ˜å®Œæˆã€‚å¾ˆå¥½ç©:)