<html>
<head>
<title>Metamask authentication with Moralis in Next.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Next.jsä¸­ä½¿ç”¨Moralisçš„å…ƒæ©ç èº«ä»½éªŒè¯</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/geekculture/metamask-authentication-with-moralis-in-next-js-33972b242b05?source=collection_archive---------5-----------------------#2021-12-03">https://medium.com/geekculture/metamask-authentication-with-moralis-in-next-js-33972b242b05?source=collection_archive---------5-----------------------#2021-12-03</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><figure class="ev ex ig ih ii ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es if"><img src="../Images/3cbb80c97905a45de0710f8b784d7aff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ctu1aEMQF3yO6kgRyazDYg.png"/></div></div></figure><p id="e705" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">å¦‚æœä½ æ²¡æœ‰ç”Ÿæ´»åœ¨å²©çŸ³ä¸‹ï¼Œä½ å¯èƒ½å¬è¯´è¿‡Web 3.0ï¼</p><figure class="jp jq jr js fd ij er es paragraph-image"><div class="er es jo"><img src="../Images/85cb40dcfef2005718b6ced535006deb.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*koW9nOO82-J1bq4Q.gif"/></div></figure><p id="f36b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">å…¨æ ˆæœ€é‡è¦çš„éƒ¨åˆ†ä¹‹ä¸€æ˜¯èº«ä»½éªŒè¯ã€‚å› æ­¤ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•åœ¨Next.jsåº”ç”¨ç¨‹åºä¸­æˆæƒç”¨æˆ·ä½¿ç”¨ä»–ä»¬çš„å…ƒæ©ç é’±åŒ…ã€‚</p><p id="a03c" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">å¦‚æœä½ ä¸çŸ¥é“ä»€ä¹ˆæ˜¯metamaskï¼Œé‚£å°±å»çœ‹çœ‹ä»–ä»¬çš„<a class="ae jt" href="https://metamask.io/" rel="noopener ugc nofollow" target="_blank">ç½‘ç«™</a></p><h1 id="3681" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">è®¾ç½®åº”ç”¨ç¨‹åº</h1><p id="83b6" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated"><strong class="is hj">åˆ›å»ºæ–°çš„ä¸‹ä¸€ä¸ªåº”ç”¨</strong></p><pre class="jp jq jr js fd kx ky kz la aw lb bi"><span id="3bdd" class="lc jv hi ky b fi ld le l lf lg">npx create-next-app next-metamask</span></pre><p id="5c52" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">å¯¼èˆªè‡³åº”ç”¨ç¨‹åº</strong></p><pre class="jp jq jr js fd kx ky kz la aw lb bi"><span id="8270" class="lc jv hi ky b fi ld le l lf lg">cd next-metamask</span></pre><p id="abff" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">å®‰è£…æ‰€éœ€çš„ä¾èµ–å…³ç³»</strong></p><pre class="jp jq jr js fd kx ky kz la aw lb bi"><span id="6599" class="lc jv hi ky b fi ld le l lf lg">npm i <a class="ae jt" href="http://twitter.com/walletconnect/web3-provider" rel="noopener ugc nofollow" target="_blank">@walletconnect/web3-provider</a> moralis react-moralis # npm</span><span id="5e35" class="lc jv hi ky b fi lh le l lf lg">yarn add <a class="ae jt" href="http://twitter.com/walletconnect/web3-provider" rel="noopener ugc nofollow" target="_blank">@walletconnect/web3-provider</a> moralis react-moralis # yarn</span></pre><p id="0b90" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">å¯åŠ¨æœåŠ¡å™¨</strong></p><pre class="jp jq jr js fd kx ky kz la aw lb bi"><span id="4284" class="lc jv hi ky b fi ld le l lf lg">npm run dev # npm</span><span id="7d45" class="lc jv hi ky b fi lh le l lf lg">yarn dev # yarn</span></pre><h1 id="4d77" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">è·å–é“å¾·è¯ä¹¦</h1><p id="80f1" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">å‰å¾€<a class="ae jt" href="https://moralis.io/" rel="noopener ugc nofollow" target="_blank"> moralis </a>å¹¶æ³¨å†Œ/ç™»å½•ã€‚ä¹‹åï¼Œç‚¹å‡»åˆ›å»ºæ–°æœåŠ¡å™¨å¹¶é€‰æ‹©<code class="du li lj lk ky b">TestNet Server</code></p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ll"><img src="../Images/e28d9683933e24e2ae728c5c492acbf2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZMd7Qm879qVCC8vV"/></div></div></figure><p id="1aba" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">é€‰æ‹©å®ƒï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªå¼¹å‡ºçª—å£ã€‚å¡«å†™è¯¦ç»†ä¿¡æ¯ï¼Œå¹¶ç‚¹å‡»<code class="du li lj lk ky b">Add Instance</code>æŒ‰é’®ã€‚</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lm"><img src="../Images/79e8aebfb193a46b0a7260104db89df5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*CN57cg4pxcFieiuV"/></div></div></figure><p id="c8f7" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æœåŠ¡å™¨åˆ›å»ºå®Œæˆåï¼Œç‚¹å‡»<code class="du li lj lk ky b">view details</code></p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ln"><img src="../Images/2ca7a6958767e93d2e37fb2edaccde36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*AMEAKy93UPRZjS03"/></div></div></figure><p id="a694" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æˆ‘ä»¬éœ€è¦æœåŠ¡å™¨URLå’Œåº”ç”¨ç¨‹åºID</p><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es lo"><img src="../Images/03011076521bee71e9c1779bdaf93d41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4OA4PUtVahK4jrWA"/></div></div></figure><h1 id="b90f" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">æ„å»ºè®¤è¯ç³»ç»Ÿ</h1><p id="e962" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated"><strong class="is hj">æ·»åŠ ç¯å¢ƒå˜é‡</strong></p><p id="d90f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">åœ¨æ–‡ä»¶å¤¹çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª<code class="du li lj lk ky b">.env.local</code>æ–‡ä»¶ï¼Œå¹¶æ·»åŠ envå˜é‡ï¼Œå¦‚ä¸‹æ‰€ç¤º</p><pre class="jp jq jr js fd kx ky kz la aw lb bi"><span id="66fd" class="lc jv hi ky b fi ld le l lf lg">NEXT_PUBLIC_MORALIS_APP_ID=&lt;app_id&gt;<br/>NEXT_PUBLIC_MORALIS_SERVER_ID=&lt;server_id&gt;</span></pre><p id="004a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æ‚¨éœ€è¦ç”¨ä»Moralisè·å¾—çš„å‡­è¯æ›¿æ¢å˜é‡çš„å€¼ã€‚</p><p id="30d9" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">ç”¨é“å¾·ä¾›åº”å•†åŒ…è£…åº”ç”¨</strong></p><p id="5471" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">è½¬åˆ°<code class="du li lj lk ky b">_app.js</code>,ç”¨é“å¾·æä¾›è€…ç”¨envå˜é‡åŒ…è£…<code class="du li lj lk ky b">&lt;Component {...pageProps} /&gt;</code>,å¦‚ä¸‹æ‰€ç¤º</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="lp lq l"/></div></figure><p id="af35" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ç°åœ¨ä»react-moraliså¯¼å…¥<code class="du li lj lk ky b">MoralisProvider</code></p><pre class="jp jq jr js fd kx ky kz la aw lb bi"><span id="411a" class="lc jv hi ky b fi ld le l lf lg">import { MoralisProvider } from "react-moralis";</span></pre><p id="f237" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">åˆ›å»ºç­¾åˆ°æŒ‰é’®</strong></p><p id="0baf" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æˆ‘å°†åœ¨ä¸»é¡µä¸Šåˆ›å»ºç™»å½•æŒ‰é’®ï¼Œä½ å¯ä»¥éšæ„åœ¨ä»»ä½•ä½ éœ€è¦çš„é¡µé¢ä¸Šåˆ›å»ºå®ƒã€‚</p><p id="e4e1" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ä»useMoralisé’©å­ä¸­è·å–authenticateå‡½æ•°-</p><pre class="jp jq jr js fd kx ky kz la aw lb bi"><span id="5604" class="lc jv hi ky b fi ld le l lf lg">const { authenticate } = useMoralis();</span></pre><p id="f76e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æ‚¨è¿˜éœ€è¦ä»react-moraliså¯¼å…¥é’©å­</p><pre class="jp jq jr js fd kx ky kz la aw lb bi"><span id="8d08" class="lc jv hi ky b fi ld le l lf lg">import { useMoralis } from "react-moralis";</span></pre><p id="5d18" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">åˆ›å»ºä¸€ä¸ªè¿™æ ·çš„æŒ‰é’®-</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="lp lq l"/></div></figure><p id="15c4" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬å•å‡»ç™»å½•ï¼Œå°†ä¼šæ‰“å¼€ç™»å½•çš„å…ƒæ©ç æ‰©å±•ã€‚</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="lr lq l"/></div></figure><p id="6f0e" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">å¦‚æœç”¨æˆ·å·²æ³¨é”€ï¼Œåˆ™æ˜¾ç¤ºæ³¨é”€æŒ‰é’®</strong></p><p id="aa90" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">æˆ‘ä»¬éœ€è¦ä»åƒè¿™æ ·çš„<code class="du li lj lk ky b">useMoralis</code>é’©å­ä¸­å¾—åˆ°æ›´å¤šçš„ä¸œè¥¿-</p><pre class="jp jq jr js fd kx ky kz la aw lb bi"><span id="8ac4" class="lc jv hi ky b fi ld le l lf lg">const { authenticate, isAuthenticated, logout } = useMoralis();</span></pre><p id="e56a" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">åˆ›å»ºä¸€ä¸ªä¸‰å…ƒè¿ç®—ç¬¦æ¥æ˜¾ç¤ºæ³¨é”€æŒ‰é’®ï¼Œå¦‚æœç”¨æˆ·å·²ç™»å½•ï¼Œåˆ™æ˜¾ç¤ºç™»å½•æŒ‰é’®-</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="lp lq l"/></div></figure><p id="3b13" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬çš„ç™»å½•å’Œæ³¨é”€åœ¨ğŸ¥³ğŸ¥³æ­£å¸¸å·¥ä½œ</p><p id="e028" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><strong class="is hj">è·å–ç”¨æˆ·æ•°æ®</strong></p><p id="7855" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•è·å¾—ä¸€äº›åŸºæœ¬æ•°æ®ï¼Œå¦‚ä»–ä»¬çš„ethåœ°å€å’Œç”¨æˆ·åã€‚</p><p id="f11d" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">å½“ç”¨æˆ·é€šè¿‡èº«ä»½éªŒè¯åï¼Œæ‚¨å¯ä»¥æ·»åŠ è¿™ä¸ªç‰‡æ®µæ¥æ˜¾ç¤ºç”¨æˆ·åå’Œä»–ä»¬çš„åœ°å€wallet-</p><figure class="jp jq jr js fd ij"><div class="bz dy l di"><div class="lp lq l"/></div></figure><p id="b139" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ä½ è¿˜éœ€è¦ä»<code class="du li lj lk ky b">useMoralis</code>é’©å­ä¸­è·å–ç”¨æˆ·-</p><pre class="jp jq jr js fd kx ky kz la aw lb bi"><span id="327c" class="lc jv hi ky b fi ld le l lf lg">const { authenticate, isAuthenticated, logout, user } = useMoralis();</span></pre><figure class="jp jq jr js fd ij er es paragraph-image"><div role="button" tabindex="0" class="ik il di im bf in"><div class="er es ls"><img src="../Images/2522476df226d9bba25004913e5f0319.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gq1w27e6y98wb1K_"/></div></div></figure><p id="7c00" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">ç”¨æˆ·åæ˜¯éå¸¸éšæœºçš„ğŸ˜‚ä½†å®ƒåœ¨æŸäº›æƒ…å†µä¸‹ä¼šæœ‰æ‰€å¸®åŠ©ï¼Œethåœ°å€å¯ç”¨äºäº¤æ˜“ã€‚</p><h1 id="91b8" class="ju jv hi bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr bi translated">ç­¾ç½²</h1><p id="5373" class="pw-post-body-paragraph iq ir hi is b it ks iv iw ix kt iz ja jb ku jd je jf kv jh ji jj kw jl jm jn hb bi translated">ç”¨moraliså®ç°å…ƒæ©ç çš„èº«ä»½éªŒè¯å¾ˆå®¹æ˜“ğŸ¤¯</p><p id="dd7f" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated">å¸Œæœ›ä½ è§‰å¾—è¿™ä¸ªæ•™ç¨‹æœ‰ç”¨ï¼Œå¹¶ç»§ç»­å…³æ³¨æ›´å¤šçš„web 3.0æ•™ç¨‹âœŒï¸</p><p id="222b" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jt" href="https://github.com/avneesh0612/metamask-next" rel="noopener ugc nofollow" target="_blank"> GitHubå›è´­</a></p><p id="0d87" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jt" href="https://moralis.io/" rel="noopener ugc nofollow" target="_blank">é“å¾·å®¶</a></p><p id="9ac2" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jt" href="https://metamask.io/" rel="noopener ugc nofollow" target="_blank"> Metamask </a></p><p id="3ca6" class="pw-post-body-paragraph iq ir hi is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn hb bi translated"><a class="ae jt" href="https://links.avneesh.tech/" rel="noopener ugc nofollow" target="_blank">å’Œæˆ‘è”ç³»</a></p></div></div>    
</body>
</html>