# å¦‚ä½•åœ¨ Mac M1 é‡ç½® MySQL æˆ– MariaDB Root å¯†ç 

> åŸæ–‡ï¼š<https://medium.com/geekculture/how-to-reset-mysql-or-mariadb-root-password-in-mac-m1-321caf96e1cd?source=collection_archive---------2----------------------->

## Mac å›¾ä¹¦æŠ€å·§

## åœ¨è‹¹æœ Mac M1 é‡ç½®æ•°æ®åº“æ ¹å¯†ç 

ä½ å¥½ğŸ˜„ï¼Œä½ å¥½ folksâ“.å¸Œæœ›ä½ è¿‡å¾—å¥½ï¼ï¼ï¼ï¼ã€‚æˆ‘ä»¬å°†å­¦ä¹ ä¸€ä¸ªéå¸¸é‡è¦çš„æ¦‚å¿µï¼Œæ¯ä¸ªç¨‹åºå‘˜åœ¨ä»–ä»¬èŒä¸šç”Ÿæ¶¯çš„æ—©æœŸä»¥åŠä»–ä»¬çš„å¤§å­¦ç”Ÿæ´»ä¸­éƒ½å°†é¢ä¸´è¿™ä¸ªæ¦‚å¿µã€‚å¤§å¤šæ•°è®¡ç®—æœº/è½¯ä»¶å·¥ç¨‹å¸ˆéƒ½æœ‰å¿˜è®°å¯†ç çš„é—®é¢˜ã€‚å¯¹äºæ•°æ®åº“æ ¹å¯†ç æ¥è¯´ï¼Œå®ƒä¹Ÿä¸æ˜¯æ–°çš„ã€‚ä»Šå¤©æˆ‘ä»¬å°†çœ‹åˆ°å¦‚ä½•åœ¨ M1 Macbook ä¸­é‡ç½® MySQL æˆ– Maria DB root å¯†ç ã€‚

![](img/9a2f3598ef17147a577a9d6a1da6faa8.png)

Photo by [Dmitry Chernyshov](https://unsplash.com/es/@oneor0?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå½“æˆ‘ä»¬å®‰è£…æœåŠ¡å™¨æ—¶ï¼Œæœ‰å¯èƒ½é‡ç½® MySQL æˆ– MariaDB root å¯†ç ã€‚å¦‚æœä½ å·²ç»å¿˜è®°äº†ï¼Œå¦‚æœæˆ‘ä»¬ä¸çŸ¥é“å¦‚ä½•æ”¹å˜å®ƒï¼Œå®ƒå¯èƒ½ä¼šå˜å¾—ä»¤äººå¤´ç—›ã€‚è¯»å®Œè¿™ç¯‡æ–‡ç« åï¼Œä½ å¯ä»¥æˆåŠŸåœ°æ›´æ”¹ MySQL æˆ– MariaDB çš„å¯†ç ï¼Œè¿™ç¯‡æ–‡ç« æ˜¯ä¸“é—¨ä¸ºé‚£äº›è®°ä¸ä½å¯†ç è¿™æ ·çš„å°äº‹çš„**ä½ ä»¬è¿™äº›**äººè®¾è®¡çš„ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åœ°ç§°ä»–ä»¬ä¸ºè½¯ä»¶ç›¸å…³äººå‘˜ğŸ˜…ã€‚ä¸å†æ‹–å»¶ï¼Œè®©æˆ‘ä»¬ç›´æ¥è¿›å…¥ä¸»é¢˜ã€‚

![](img/b499e70f72a483193f7b4998e2094c88.png)

Photo by [Etty Fidele](https://unsplash.com/@fideletty?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

å¦‚æœæ‚¨å¯ä»¥è®¿é—®æœåŠ¡å™¨å’Œå¯ç”¨äº†`sudo`çš„ç”¨æˆ·å¸æˆ·ï¼Œæ‚¨ä»ç„¶å¯ä»¥ç™»å½•å¹¶é‡ç½®å¯†ç ã€‚è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ­£ç¡®â–¶ï¸.

## æ­¥éª¤ 01 â€”è¯†åˆ«æ•°æ®åº“ç‰ˆæœ¬

æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥æ‚¨çš„ç‰ˆæœ¬ã€‚

> **mysql â€”ç‰ˆæœ¬**

è¾“å‡ºå–å†³äºæ‚¨çš„æ•°æ®åº“ã€‚MySQL æˆ–è€… MariaDBã€‚

```
**MySQL output**mysql  Ver 14.14 Distrib 5.7.16, for Linux (x86_64) using  EditLine wrapper**MariaDB output**mysql  Ver 15.1 Distrib 5.5.52-MariaDB, for Linux (x86_64) using readline 5.1
```

ä½ éœ€è¦çŸ¥é“ä½ ä½¿ç”¨çš„æ˜¯å“ªä¸ªæ•°æ®åº“ï¼Œä»¥åŠä½ ä»¥åä½¿ç”¨çš„æ˜¯å“ªä¸ªç‰ˆæœ¬ï¼Œæ‰€ä»¥æŠŠä¸¤è€…éƒ½è®°ä¸‹æ¥ã€‚ç„¶åå¿…é¡»åœæ­¢æ•°æ®åº“ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥æ‰‹åŠ¨è®¿é—®å®ƒã€‚

## æ­¥éª¤ 02 â€”åœæ­¢æ•°æ®åº“æœåŠ¡å™¨

åœ¨æ›´æ”¹ root å¯†ç ä¹‹å‰ï¼Œå¿…é¡»å…ˆå…³é—­æ•°æ®åº“æœåŠ¡å™¨ã€‚

MySQL:

> **sudo systemctl åœæ­¢ mysql**

MariaDB:

> **sudo systemctl stop mariadb**

æ‚¨éœ€è¦åœ¨æ•°æ®åº“æœåŠ¡å™¨åœæ­¢åæ‰‹åŠ¨è®¿é—®å®ƒï¼Œä»¥ä¾¿é‡ç½® root å¯†ç ã€‚

## æ­¥éª¤ 03 â€”é‡æ–°å¯åŠ¨æ•°æ®åº“æœåŠ¡å™¨ï¼Œä¸è¿›è¡Œæƒé™æ£€æŸ¥

å¦‚æœåœ¨ä¸åŠ è½½ç”¨æˆ·æƒé™ä¿¡æ¯çš„æƒ…å†µä¸‹å¯åŠ¨ MySQL å’Œ MariaDBï¼Œåˆ™å¯ä»¥ä½¿ç”¨ root æƒé™è®¿é—®æ•°æ®åº“å‘½ä»¤è¡Œï¼Œè€Œæ— éœ€è¾“å…¥å¯†ç ã€‚ä½ å¯ä»¥ç”¨è¿™ç§æ–¹å¼è®¿é—®æ•°æ®åº“è€Œä¸è¢«å‘ç°ã€‚

ä¸ºæ­¤ï¼Œæ‚¨éœ€è¦é˜»æ­¢æ•°æ®åº“åŠ è½½å­˜å‚¨ç”¨æˆ·ç‰¹æƒä¿¡æ¯çš„*æˆæƒè¡¨*ã€‚å› ä¸ºè¿™æœ‰ä¸€ç‚¹å®‰å…¨é£é™©ï¼Œæ‰€ä»¥æ‚¨ä¹Ÿåº”è¯¥è·³è¿‡è”ç½‘ï¼Œä»¥é˜²æ­¢å…¶ä»–å®¢æˆ·ç«¯è¿æ¥ã€‚

å¯åŠ¨æ•°æ®åº“ï¼Œä½†ä¸åŠ è½½æˆæƒè¡¨æˆ–å¯ç”¨ç½‘ç»œ:

> **sudo mysqld _ safeâ€”skip-grant-tablesâ€”skip-networking&**

ç°åœ¨ï¼Œæ‚¨å¯ä»¥ä½œä¸º root ç”¨æˆ·è¿æ¥åˆ°æ•°æ®åº“ï¼Œè¿™ä¸åº”è¯¥è¦æ±‚è¾“å…¥å¯†ç ã€‚

> **mysql -u root**

ç„¶åï¼Œä½ å¯ä»¥çœ‹åˆ°å®ƒ

**MySQL æç¤º**

```
Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.mysql>
```

**MariaDB æç¤º**

```
Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.MariaDB [(none)]>
```

ç°åœ¨æ‚¨å¯ä»¥æ›´æ”¹ root å¯†ç ï¼Œå› ä¸ºæ‚¨ç°åœ¨æ‹¥æœ‰ root è®¿é—®æƒé™ã€‚

## æ­¥éª¤ 04 â€”æ›´æ”¹ Root å¯†ç 

æ›´æ”¹ MySQL ç°ä»£ç‰ˆæœ¬çš„æ ¹å¯†ç çš„ç®€å•æ–¹æ³•æ˜¯ä½¿ç”¨`ALTER USER`å‘½ä»¤ã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªå‘½ä»¤ç°åœ¨ä¸èµ·ä½œç”¨ï¼Œå› ä¸ºè¿˜æ²¡æœ‰åŠ è½½æˆæƒè¡¨ã€‚

ä½¿ç”¨`FLUSH PRIVILEGES`å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥å‘Šè¯‰æ•°æ®åº“æœåŠ¡å™¨é‡æ–°åŠ è½½æˆæƒè¡¨ã€‚

> **åŒèŠ±é¡ºç‰¹æƒï¼›**

æœ€åï¼Œæˆ‘ä»¬å¯ä»¥æ›´æ”¹ root å¯†ç 

> **æ›´æ”¹ç”±â€œnew_passwordâ€æ ‡è¯†çš„ç”¨æˆ·â€œrootâ€@â€œlocalhostâ€ï¼›**

è¯¥å‘½ä»¤é€‚ç”¨äº **MySQL 5.7.6 å’Œæ›´æ–°ç‰ˆæœ¬**ä»¥åŠ **MariaDB 10.1.20 å’Œæ›´æ–°ç‰ˆæœ¬**

> **ä¸º' root ' @ ' localhost ' = PASSWORD(' new _ PASSWORD ')è®¾ç½®å¯†ç ï¼›**

è¯¥å‘½ä»¤é€‚ç”¨äº **MySQL 5.7.5 åŠæ›´æ—©ç‰ˆæœ¬**ä»¥åŠ **MariaDB 10.1.20** åŠæ›´æ—©ç‰ˆæœ¬ã€‚

æ— è®ºå“ªç§æƒ…å†µï¼Œæ‚¨éƒ½åº”è¯¥çœ‹åˆ°å‘½ä»¤å·²ç»æˆåŠŸæ‰§è¡Œçš„ç¡®è®¤ã€‚

```
OutputQuery OK, 0 rows affected (0.00 sec)
```

å¯†ç å·²è¢«æ›´æ”¹ã€‚å› æ­¤æ‚¨å¯ä»¥ä½¿ç”¨æ–°å¯†ç ä»¥å¤‡å°†æ¥ä½¿ç”¨ã€‚

## æ­¥éª¤ 05 â€”æ­£å¸¸é‡å¯æ•°æ®åº“æœåŠ¡å™¨

ä½¿ç”¨`systemctl`é‡å¯æœåŠ¡ã€‚

MySQL:

> **sudo systemctl å¯åŠ¨ mysql**

MariaDB:

> **sudo system CTL start Maria db**

## æ³¨æ„

> ç¡®ä¿æ‚¨é€‰æ‹©çš„æ–°æ ¹å¯†ç æ˜¯å¼ºæœ‰åŠ›çš„ã€å®‰å…¨çš„ï¼Œå¹¶å°†å…¶ä¿å­˜åœ¨å®‰å…¨çš„åœ°æ–¹ã€‚

![](img/a32bc5039a5806982e99ee976c7dee57.png)

Photo by [regularguy.eth](https://unsplash.com/@moneyphotos?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

*æˆ‘ç›¸ä¿¡ä½ å·²ç»äº†è§£äº† MySQL root å¯†ç é—®é¢˜ä»¥åŠå¦‚ä½•è§£å†³å®ƒã€‚å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜æˆ–ä»»ä½•æ¾„æ¸…ï¼Œä¸è¦çŠ¹è±«ï¼Œé€šè¿‡å›å¤éƒ¨åˆ†ä¸æˆ‘è”ç³»ã€‚æ„Ÿè°¢ä½ èŠ±å®è´µçš„æ—¶é—´é˜…è¯»è¿™ç¯‡åšå®¢ï¼Œæˆ‘ç›¸ä¿¡è¿™å°†æ¿€åŠ±ä½ ç»§ç»­é˜…è¯»æˆ‘çš„å…¶ä»–åšå®¢* [*è¿™é‡Œ*](https://sthenusan.medium.com/) *ã€‚*

![](img/c0bbafe35c96d1719660b9ed8c88fb21.png)

Photo by [Kelly Sikkema](https://unsplash.com/@kellysikkema?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

*å¦‚æœä½ æƒ³äº«å—è¿™æ ·çš„ç§‘æŠ€æ•…äº‹ï¼Œæƒ³æ”¯æŒæˆ‘æ°¸è¿œåšæŒå†™ä½œï¼Œå¯ä»¥è€ƒè™‘* [*æŠ¥åæˆä¸ºä¸­ç­‰ä¼šå‘˜*](https://sthenusan.medium.com/membership) *ã€‚æ¯æœˆ 5 ç¾å…ƒï¼Œä½ å¯ä»¥æ— é™åˆ¶åœ°é˜…è¯»åª’ä½“ä¸Šçš„æ•…äº‹ã€‚å¦‚æœä½ ç”¨æˆ‘çš„é“¾æ¥* *æ³¨å†Œï¼Œæˆ‘ä¼šèµšä¸€å°ç¬”ä½£é‡‘ã€‚ä½ ä¹Ÿå¯ä»¥è·Ÿç€æˆ‘ä¸Š* [*ä¸­*](https://sthenusan.medium.com/) *å’Œ* [*æ¨ç‰¹*](https://twitter.com/thenusan97) *ã€‚*