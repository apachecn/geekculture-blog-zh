<html>
<head>
<title>Using Assertion Scopes to execute multiple Assertions in C#</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">åœ¨C#ä¸­ä½¿ç”¨æ–­è¨€èŒƒå›´æ‰§è¡Œå¤šä¸ªæ–­è¨€</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/geekculture/using-assertion-scopes-to-execute-multiple-assertions-in-c-fcded73b1a35?source=collection_archive---------9-----------------------#2021-06-28">https://medium.com/geekculture/using-assertion-scopes-to-execute-multiple-assertions-in-c-fcded73b1a35?source=collection_archive---------9-----------------------#2021-06-28</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/><div class=""><h2 id="13df" class="pw-subtitle-paragraph if hh hi bd b ig ih ii ij ik il im in io ip iq ir is it iu iv iw dx translated">å½“åœ¨æˆ‘ä»¬çš„å•å…ƒæµ‹è¯•ä¸­ä½¿ç”¨å¤šä¸ªæ–­è¨€æ—¶ï¼Œæ–­è¨€ä½œç”¨åŸŸä½¿æˆ‘ä»¬çš„ç”Ÿæ´»å˜å¾—æ›´å®¹æ˜“ï¼Œå› ä¸ºå®ƒèŠ‚çœäº†æˆ‘ä»¬æ‰¾å‡ºæµ‹è¯•å¤±è´¥åŸå› çš„æ—¶é—´å’Œç²¾åŠ›ã€‚</h2></div><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es ix"><img src="../Images/9b00556bc4d7ecf8cd3d0e4512b1b058.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*VMjNtoDdV2cyn7xs.png"/></div></div><figcaption class="jj jk et er es jl jm bd b be z dx">Assertion Scopes allow us to test multiple assertions within a single test execution</figcaption></figure><p id="07f6" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">æµåˆ©æ–­è¨€æ˜¯ä¸€ä¸ª. NETåº“ï¼Œå®ƒæä¾›äº†ä¸€ç³»åˆ—æœ‰ç”¨çš„æ‰©å±•æ–¹æ³•ï¼Œå…è®¸æˆ‘ä»¬ä»¥æ›´è‡ªç„¶çš„æ–¹å¼æµ‹è¯•æˆ‘ä»¬çš„C#ä»£ç ã€‚</p><p id="4386" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">æ¯”æ–¹è¯´ï¼Œæˆ‘ä»¬æ­£åœ¨æµ‹è¯•ä¸€ä¸ªå­—ç¬¦ä¸²çš„è¾“å‡ºã€‚å¦‚æœæ²¡æœ‰æµç•…çš„æ–­è¨€ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå†™å‡ºè¿™æ ·çš„ä¸œè¥¿:</p><pre class="iy iz ja jb fd kk kl km kn aw ko bi"><span id="85a5" class="kp kq hi kl b fi kr ks l kt ku">string testString = "hello";<br/>string expectedOutput = testString.ToUpper();<br/>Assert.Equal(expectedOutput, "HELLO");</span></pre><p id="aedc" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">å¦‚æœæˆ‘ä»¬è¦ä½¿ç”¨æµç•…çš„æ–­è¨€æ¥ç¼–å†™è¿™ä¸ªæµ‹è¯•ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åš:</p><pre class="iy iz ja jb fd kk kl km kn aw ko bi"><span id="b1a8" class="kp kq hi kl b fi kr ks l kt ku">string testString = "hello";<br/>string expectedOutput = testString.ToUpper();<br/>expectedOutput.Should().Be("HELLO");</span></pre><p id="0466" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">çœ‹åˆ°äº†å—ï¼Ÿæ›´åŠ è‡ªç„¶ğŸ˜Š</p><h1 id="bbd6" class="kv kq hi bd kw kx ky kz la lb lc ld le io lf ip lg ir lh is li iu lj iv lk ll bi translated">å¼•å…¥æ–­è¨€èŒƒå›´</h1><p id="bcba" class="pw-post-body-paragraph jn jo hi jp b jq lm ij js jt ln im jv jw lo jy jz ka lp kc kd ke lq kg kh ki hb bi translated">è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªæ›´å¹¿æ³›çš„ä¾‹å­ã€‚å‡è®¾æˆ‘æœ‰ä¸€ä¸ªç”Ÿæˆè´­ç‰©æ¸…å•çš„ç±»ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p><pre class="iy iz ja jb fd kk kl km kn aw ko bi"><span id="1e9a" class="kp kq hi kl b fi kr ks l kt ku">public class ShoppingListGenerator<br/>    {<br/>        public static List&lt;Item&gt; GenerateItems()<br/>        {<br/>            return new List&lt;Item&gt;<br/>            {<br/>                new Item<br/>                {<br/>                    Name = "Apple",<br/>                    Quantity = 5<br/>                },<br/>                new Item<br/>                {<br/>                    Name = "Banana",<br/>                    Quantity = 1<br/>                },<br/>                new Item<br/>                {<br/>                    Name = "Orange",<br/>                    Quantity = 3<br/>                }<br/>            };<br/>        }<br/>    }</span></pre><p id="0b73" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">å¯¹äºæ›´å¤æ‚çš„å•å…ƒæµ‹è¯•ï¼Œæˆ‘ä»¬å¯èƒ½æƒ³è¦æ–­è¨€å¤šä¸ªå±æ€§ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p><pre class="iy iz ja jb fd kk kl km kn aw ko bi"><span id="1003" class="kp kq hi kl b fi kr ks l kt ku">public class ShoppingListGeneratorShould<br/>{<br/>    [Fact]<br/>    public void MultipleAssertions()<br/>    {<br/>       var testShoppingList = ShoppingListGenerator.GenerateItems();<br/>       testShoppingList.Should().NotBeNullOrEmpty();<br/>       testShoppingList.Should().Contain(new Item { Name = "Cheese", Quantity = 2 });<br/>       testShoppingList.Should().HaveCount(10);<br/>       testShoppingList.Should().OnlyHaveUniqueItems();           <br/>     }<br/>}</span></pre><p id="1c92" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">è¿™ç§æ–¹æ³•å¾ˆå¥½ï¼Œä½†æ˜¯çœ‹çœ‹æˆ‘ä»¬çš„ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœæ–­è¨€æˆ‘ä»¬çš„åˆ—è¡¨å°†åœ¨ã€‚Contain()æ–¹æ³•ï¼Œå› ä¸ºæˆ‘ä»¬çš„åˆ—è¡¨ä¸­æ²¡æœ‰åŒ…å«å¥¶é…ªçš„æ¡ç›®ã€‚è¿™ä¸ªæµ‹è¯•ä¹Ÿä¼šåœ¨æˆ‘ä»¬çš„ã€‚HaveCount()æ–¹æ³•ï¼Œå› ä¸ºæˆ‘ä»¬çš„åˆ—è¡¨ä¸­åªæœ‰3é¡¹ï¼Œè€Œä¸æ˜¯10é¡¹ã€‚</p><p id="8628" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">è®©æˆ‘ä»¬é€šè¿‡è¿è¡Œæµ‹è¯•æ¥ç¡®è®¤æˆ‘ä»¬çš„æƒ³æ³•ã€‚</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lr"><img src="../Images/f75a570f505afc3e7408446e0d5a7621.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*c5vrUpeUpGjxOTo4.png"/></div></div></figure><p id="37a2" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">æˆ‘ä»¬æ˜¯æ­£ç¡®çš„ï¼ä½†æ˜¯åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä¸ä»…æˆ‘ä»¬çš„æµ‹è¯•å¤±è´¥äº†ã€‚åŒ…å«()æ–¹æ³•ï¼Œä½†å®ƒå·²ç»åœæ­¢è¿è¡Œæˆ‘ä»¬çš„æµ‹è¯•ï¼</p><p id="df94" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">å‡è®¾æˆ‘ä»¬ä¿®å¤äº†è¿™ä¸ªé”™è¯¯ï¼Œä½¿å¾—æ–­è¨€é€šè¿‡ï¼Œä½†æ˜¯åœ¨ä¸‹ä¸€ä¸ªæ–­è¨€æ—¶å¤±è´¥ã€‚ä¸‹ä¸€ä¸ªï¼Œä¸‹ä¸€ä¸ªï¼Œç­‰ç­‰ã€‚</p><p id="3c8a" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">åƒè¿™æ ·æµ‹è¯•æˆ‘ä»¬çš„ä»£ç æ˜¯ç›¸å½“ä¹å‘³çš„ã€‚è°¢å¤©è°¢åœ°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ–­è¨€èŒƒå›´æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼</p><p id="ca83" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">ä½¿ç”¨æ–­è¨€ä½œç”¨åŸŸï¼Œæˆ‘ä»¬å¯ä»¥å°†å¤šä¸ªæ–­è¨€æ‰¹å¤„ç†åˆ°ä¸€ä¸ªAssertionScopeä¸­ï¼Œè¿™æ ·FluentAssertionså°†åªåœ¨ä½œç”¨åŸŸçš„æœ«å°¾æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œå¹¶å¤„ç†æ‰€æœ‰çš„å¤±è´¥ã€‚</p><p id="1779" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">è®©æˆ‘ä»¬å°†æµ‹è¯•æ”¹ä¸ºä½¿ç”¨æ–­è¨€èŒƒå›´:</p><pre class="iy iz ja jb fd kk kl km kn aw ko bi"><span id="af69" class="kp kq hi kl b fi kr ks l kt ku">using AssertionScopes;<br/>using FluentAssertions;<br/>using FluentAssertions.Execution;<br/>using System;<br/>using Xunit;<br/><br/>namespace Tests<br/>{<br/>    public class ShoppingListGeneratorShould<br/>    {<br/>        [Fact]<br/>        public void MultipleAssertions()<br/>        {<br/>            var testShoppingList = ShoppingListGenerator.GenerateItems();<br/><br/>            using (new AssertionScope())<br/>            {<br/>                testShoppingList.Should().NotBeNullOrEmpty();<br/>                testShoppingList.Should().Contain(new Item { Name = "Cheese", Quantity = 2 });<br/>                testShoppingList.Should().HaveCount(10);<br/>                testShoppingList.Should().OnlyHaveUniqueItems();<br/>            }                     <br/>        }<br/>    }<br/>}</span></pre><p id="9d88" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">æˆ‘ä»¬ç°åœ¨å°†æ–­è¨€åŒ…è£…åœ¨usingè¯­å¥ä¸­ï¼Œæˆ‘ä»¬çš„å¼‚å¸¸å°†åªåœ¨å¤„ç†AssertionScopeæ—¶æŠ›å‡ºã€‚</p><p id="5936" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">è®©æˆ‘ä»¬è¿è¡Œæµ‹è¯•ï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆï¼</p><figure class="iy iz ja jb fd jc er es paragraph-image"><div role="button" tabindex="0" class="jd je di jf bf jg"><div class="er es lr"><img src="../Images/1336332af3520af3e18e9d0b4a60e45b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*TGy30qnNem32akWB.png"/></div></div></figure><p id="5a96" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">æˆ‘ä»¬çš„æµ‹è¯•å¤±è´¥äº†ï¼Œä½†æ˜¯ç°åœ¨æˆ‘ä»¬å¾—åˆ°äº†è¿”å›ç»™æˆ‘ä»¬çš„ä¸¤ä¸ªå¼‚å¸¸ï¼</p><pre class="iy iz ja jb fd kk kl km kn aw ko bi"><span id="c079" class="kp kq hi kl b fi kr ks l kt ku">Message: <br/>    Expected testShoppingList {AssertionScopes.Item<br/>       {<br/>          Name = "Apple"<br/>          Quantity = 5<br/>       }, AssertionScopes.Item<br/>       {<br/>          Name = "Banana"<br/>          Quantity = 1<br/>       }, AssertionScopes.Item<br/>       {<br/>          Name = "Orange"<br/>          Quantity = 3<br/>       }} to contain <br/><br/>    AssertionScopes.Item<br/>    {<br/>       Name = "Cheese"<br/>       Quantity = 2<br/>    }.<br/>    Expected testShoppingList to contain 10 item(s), but found 3.</span></pre><p id="baec" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬ä¸å¿…åœ¨æ¯æ¬¡æµ‹è¯•ä¸­æ–­è¨€å¤±è´¥æ—¶éƒ½è¿è¡Œå¹¶é‡æ–°è¿è¡Œæˆ‘ä»¬çš„æµ‹è¯•ï¼Œæˆ‘ä»¬å¯ä»¥ä¸€æ¬¡çœ‹åˆ°æµ‹è¯•ä¸­å¤±è´¥çš„æ‰€æœ‰æ–­è¨€ï¼</p><h1 id="7ea2" class="kv kq hi bd kw kx ky kz la lb lc ld le io lf ip lg ir lh is li iu lj iv lk ll bi translated">ç»“è®º</h1><p id="6c9f" class="pw-post-body-paragraph jn jo hi jp b jq lm ij js jt ln im jv jw lo jy jz ka lp kc kd ke lq kg kh ki hb bi translated">æµç•…çš„æ–­è¨€æ˜¯ä¸€ä¸ªå¾ˆæ£’çš„åº“ï¼Œå®ƒå…è®¸æˆ‘ä»¬ä»¥ä¸€ç§æ›´è‡ªç„¶ã€æ›´æœ‰è¡¨ç°åŠ›çš„æ–¹å¼ç¼–å†™C#æµ‹è¯•ã€‚å½“åœ¨æˆ‘ä»¬çš„å•å…ƒæµ‹è¯•ä¸­ä½¿ç”¨å¤šä¸ªæ–­è¨€æ—¶ï¼Œæ–­è¨€ä½œç”¨åŸŸä½¿æˆ‘ä»¬çš„ç”Ÿæ´»å˜å¾—æ›´å®¹æ˜“ï¼Œå› ä¸ºå®ƒèŠ‚çœäº†æˆ‘ä»¬æ‰¾å‡ºæµ‹è¯•å¤±è´¥åŸå› çš„æ—¶é—´å’Œç²¾åŠ›ã€‚</p><p id="eca7" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äºæµç•…æ–­è¨€çš„çŸ¥è¯†ï¼Œå¯ä»¥æŸ¥çœ‹è¿™é‡Œçš„æ–‡æ¡£:ã€https://fluentassertions.com/about/<a class="ae kj" href="https://fluentassertions.com/about/" rel="noopener ugc nofollow" target="_blank"/></p><p id="1495" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">æˆ‘å¸Œæœ›ä½ ä»è¿™ç¯‡æ–‡ç« ä¸­å­¦åˆ°äº†ä¸€äº›ä¸œè¥¿ï¼å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·åœ¨ä¸‹é¢è¯„è®ºæˆ–è€…åœ¨æ¨ç‰¹ä¸Šè”ç³»æˆ‘:<a class="ae kj" href="https://twitter.com/willvelida" rel="noopener ugc nofollow" target="_blank">https://twitter.com/willvelida</a></p><p id="49db" class="pw-post-body-paragraph jn jo hi jp b jq jr ij js jt ju im jv jw jx jy jz ka kb kc kd ke kf kg kh ki hb bi translated">ç¼–ç å¿«ä¹ï¼â˜•ğŸ’»</p></div></div>    
</body>
</html>