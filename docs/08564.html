<html>
<head>
<title>Time Steering in Swift 5.5</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Swift 5.5ä¸­çš„æ—¶é—´æ§åˆ¶</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/geekculture/time-steering-in-swift-5-5-ae39fd9ccd09?source=collection_archive---------5-----------------------#2021-11-06">https://medium.com/geekculture/time-steering-in-swift-5-5-ae39fd9ccd09?source=collection_archive---------5-----------------------#2021-11-06</a></blockquote><div><div class="ds gw gx gy gz ha"/><div class="hb hc hd he hf"><div class=""/></div><div class="ab cl if ig gp ih" role="separator"><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik il"/><span class="ii bw bk ij ik"/></div><div class="hb hc hd he hf"><figure class="in io ip iq fd ir er es paragraph-image"><div role="button" tabindex="0" class="is it di iu bf iv"><div class="er es im"><img src="../Images/a5b7f2cee4429148f220189486deb60b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7jXoF6fGGP-t3dAT"/></div></div><figcaption class="iy iz et er es ja jb bd b be z dx">Photo by <a class="ae jc" href="https://unsplash.com/@loic?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Djim Loic</a> on <a class="ae jc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="6096" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">åœ¨åº”ç”¨ç¨‹åºå¼€å‘ä¸­æœ‰æ•ˆåœ°å¤„ç†æ—¥æœŸå’Œæ—¶é—´æ˜¯éå¸¸é‡è¦çš„ã€‚åƒTwitterã€WhatsAppæˆ–Instagramè¿™æ ·çš„æµè¡Œåº”ç”¨ç¨‹åºä½¿ç”¨æ—¥æœŸå’Œæ—¶é—´æ ¼å¼ä»¥åŠè®¸å¤šå…¶ä»–æ“ä½œåŠŸèƒ½æ¥æœ‰æ•ˆåœ°ä¼ é€’ä¿¡æ¯ã€‚</p><p id="f4b2" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">ä»åŸºæœ¬çš„æ“ä½œåŠŸèƒ½åˆ°éå¸¸éœ€è¦çš„æ ¼å¼åŒ–åŠŸèƒ½ï¼Œæˆ‘ä»¬å°†å›å¿†ä¸€åˆ‡ã€‚</p><h2 id="1744" class="kb kc hi bd kd ke kf kg kh ki kj kk kl jo km kn ko js kp kq kr jw ks kt ku kv bi translated">å‘ä»Šå¤©æ·»åŠ nä¸ªæ—¶åˆ»</h2><pre class="in io ip iq fd kw kx ky kz aw la bi"><span id="9f42" class="kb kc hi kx b fi lb lc l ld le">let tomorrow = Calendar.current.date(byAdding: DateComponents(day: 1), to: Date())</span><span id="c38a" class="kb kc hi kx b fi lf lc l ld le">let yesterday = Calendar.current.date(byAdding: .day, value: -1, to: Date())</span></pre><p id="2256" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">é€šè¿‡æ›´æ”¹ç¬¬ä¸€ä¸ªCalendar.componentå‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥å‰è¿›/åé€€ä»»æ„å¤©æ•°ã€æœˆæ•°ã€åˆ†é’Ÿæ•°ã€å°æ—¶æ•°ã€ç§’é’Ÿæ•°å’Œå¹´æ•°ã€‚</p><h2 id="2938" class="kb kc hi bd kd ke kf kg kh ki kj kk kl jo km kn ko js kp kq kr jw ks kt ku kv bi translated">ä¸‹ä¸€ä¸ªæ—¥æœŸè¦æ±‚</h2><p id="a562" class="pw-post-body-paragraph jd je hi jf b jg lg ji jj jk lh jm jn jo li jq jr js lj ju jv jw lk jy jz ka hb bi translated">å½“ç”¨æˆ·æƒ³çŸ¥é“ä¸‹ä¸€ä¸ªå¯èƒ½çš„æ—¥æœŸæ˜¯å“ªä¸ªæœˆçš„ç¬¬äºŒå¤©æ˜¯æ˜ŸæœŸäºŒæ—¶ã€‚</p><pre class="in io ip iq fd kw kx ky kz aw la bi"><span id="1589" class="kb kc hi kx b fi lb lc l ld le">Calendar.current.nextDate(after: Date(), matching: DateComponents(day: 2, weekday: 3), matchingPolicy: .strict, repeatedTimePolicy: .first, direction: .forward)</span></pre><p id="c8ef" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">è¿™æ ·ï¼Œå‘å‰å’Œå‘åè®¡ç®—éƒ½æ˜¯å¯èƒ½çš„ã€‚ä»»ä½•è¿™æ ·çš„æ—¥æœŸã€æœˆä»½ã€å¹´ä»½ã€åˆ†é’Ÿæˆ–ç§’é’Ÿçš„æ’åˆ—è¦æ±‚éƒ½å¯ä»¥é€šè¿‡è¿™ä¸ªåŠŸèƒ½å®ç°ã€‚</p><p id="4988" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">æ­¤å¤–ï¼Œä¸Šè¿°æ–¹æ³•ä¸­æ‰€æœ‰è¿™äº›å¯èƒ½æ€§çš„åˆ—ä¸¾å¯ä»¥å¦‚ä¸‹è¿›è¡Œ:</p><pre class="in io ip iq fd kw kx ky kz aw la bi"><span id="2fe8" class="kb kc hi kx b fi lb lc l ld le">var i = 8</span><span id="efb4" class="kb kc hi kx b fi lf lc l ld le">// enumerate above result</span><span id="42cd" class="kb kc hi kx b fi lf lc l ld le">Calendar.current.enumerateDates(startingAfter: Date(), matching: DateComponents(day: 2, weekday: 3), matchingPolicy: .strict, repeatedTimePolicy: .first, direction: .forward) { result, exactMatch, stop in</span><span id="f2f1" class="kb kc hi kx b fi lf lc l ld le">   print(result!)</span><span id="0f45" class="kb kc hi kx b fi lf lc l ld le">   i = i-1</span><span id="da3a" class="kb kc hi kx b fi lf lc l ld le">   if i == 0 {</span><span id="45f8" class="kb kc hi kx b fi lf lc l ld le">    stop = true</span><span id="7617" class="kb kc hi kx b fi lf lc l ld le">   }</span><span id="bb45" class="kb kc hi kx b fi lf lc l ld le">}</span></pre><p id="fcb1" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">è¿™ç»™å‡ºäº†æ»¡è¶³è¦æ±‚çš„ä¸‹8ä¸ªç»“æœã€‚</p><h2 id="4dbf" class="kb kc hi bd kd ke kf kg kh ki kj kk kl jo km kn ko js kp kq kr jw ks kt ku kv bi translated">éªŒè¯ç”¨æˆ·è¾“å…¥çš„æ—¥æœŸ</h2><pre class="in io ip iq fd kw kx ky kz aw la bi"><span id="23b7" class="kb kc hi kx b fi lb lc l ld le">Calendar.current.isDateInTomorrow(tomorrow)</span><span id="b420" class="kb kc hi kx b fi lf lc l ld le">Calendar.current.isDateInToday(Date())</span><span id="ef7f" class="kb kc hi kx b fi lf lc l ld le">Calendar.current.isDateInWeekend(Date())</span><span id="ba4b" class="kb kc hi kx b fi lf lc l ld le">Calendar.current.isDateInYesterday(yesterday)</span></pre><p id="d691" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">ä½¿ç”¨ä¸Šè¿°æ–¹æ³•å’Œå…¶ä»–ç±»ä¼¼çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥éªŒè¯ç”¨æˆ·è¾“å…¥çš„æ—¥æœŸæ˜¯å¦åœ¨å‘¨æœ«/æ˜å¤©/æ˜¨å¤©ã€‚</p><h2 id="3e4c" class="kb kc hi bd kd ke kf kg kh ki kj kk kl jo km kn ko js kp kq kr jw ks kt ku kv bi translated">æŒ‰ç²’åº¦æ¯”è¾ƒ</h2><p id="21aa" class="pw-post-body-paragraph jd je hi jf b jg lg ji jj jk lh jm jn jo li jq jr js lj ju jv jw lk jy jz ka hb bi translated">swiftä¸­çš„ä¸¤ä¸ªæ—¥æœŸæ—¶é—´å¯¹è±¡å¯ä»¥åœ¨swiftä¸­ä½¿ç”¨æ¯”è¾ƒè¿ç®—ç¬¦è¿›è¡Œæ¯”è¾ƒï¼Œä¾‹å¦‚æˆ–==ã€‚</p><pre class="in io ip iq fd kw kx ky kz aw la bi"><span id="ecb5" class="kb kc hi kx b fi lb lc l ld le">Date() == Date() //true</span><span id="9a6a" class="kb kc hi kx b fi lf lc l ld le">Date() &lt; tomorrow! //true</span><span id="5bcf" class="kb kc hi kx b fi lf lc l ld le">Date() &lt; yesterday! //false</span></pre><p id="bad6" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">ç›¸åï¼Œå¦‚æœä½ æƒ³ä»…é€šè¿‡ä»»ä½•ç»„ä»¶è¿›è¡Œæ¯”è¾ƒï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„</p><pre class="in io ip iq fd kw kx ky kz aw la bi"><span id="7a8f" class="kb kc hi kx b fi lb lc l ld le">Calendar.current.compare(Date(), to: yesterday, toGranularity: .hour) == .orderedAscending</span></pre><p id="a934" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">æ­¤å¤–ï¼Œå¦‚æœæˆ‘ä»¬æƒ³æ¯”è¾ƒæ‰€æœ‰çš„æ—¶é—´ç»„æˆéƒ¨åˆ†ï¼Œè€Œä¸æ˜¯åªæœ‰ä¸€ä¸ªï¼Œé‚£ä¹ˆä¸‹é¢æ˜¯ä¸€ç§æ–¹æ³•</p><pre class="in io ip iq fd kw kx ky kz aw la bi"><span id="c566" class="kb kc hi kx b fi lb lc l ld le">let date1  = Date()</span><span id="8426" class="kb kc hi kx b fi lf lc l ld le">let components = Calendar.current.dateComponents([.hour, .minute, .second], from: tomorrow!)</span><span id="eeca" class="kb kc hi kx b fi lf lc l ld le">let date2 = Calendar.current.date(bySettingHour: components.hour!, minute: components.minute!, second: components.second!, of: Date())!</span></pre><p id="644f" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">è½¬æ¢åçš„datetimeå¯¹è±¡date2å’Œdate1å¯ä»¥é€šè¿‡æ¯”è¾ƒæ“ä½œè¿›è¡Œæ¯”è¾ƒï¼Œæˆ–è€…é€šè¿‡ä¸‹é¢çš„æ–¹æ³•è·å¾—å·®å¼‚ã€‚</p><pre class="in io ip iq fd kw kx ky kz aw la bi"><span id="5505" class="kb kc hi kx b fi lb lc l ld le">let difference = Calendar.current.dateComponents([.hour, .minute], from: date1, to: date2)</span></pre><h2 id="a557" class="kb kc hi bd kd ke kf kg kh ki kj kk kl jo km kn ko js kp kq kr jw ks kt ku kv bi translated">æ ‡å¿—</h2><p id="310d" class="pw-post-body-paragraph jd je hi jf b jg lg ji jj jk lh jm jn jo li jq jr js lj ju jv jw lk jy jz ka hb bi translated">å¦ä¸€ä¸ªæœ‰ç”¨çš„æ–¹æ³•æ˜¯å„ç§æ ·å¼çš„æœˆä»½å’Œå·¥ä½œæ—¥çš„ç¬¦å·ï¼Œå¯ä»¥ç”¨æœ¬åœ°æ–¹æ³•åˆ¶ä½œã€‚</p><pre class="in io ip iq fd kw kx ky kz aw la bi"><span id="991d" class="kb kc hi kx b fi lb lc l ld le">Calendar.current.weekdaySymbols</span><span id="8514" class="kb kc hi kx b fi lf lc l ld le">Calendar.current.shortWeekdaySymbols</span><span id="6be0" class="kb kc hi kx b fi lf lc l ld le">Calendar.current.standaloneWeekdaySymbols</span><span id="f6a1" class="kb kc hi kx b fi lf lc l ld le">Calendar.current.veryShortWeekdaySymbols</span></pre><h2 id="c9e2" class="kb kc hi bd kd ke kf kg kh ki kj kk kl jo km kn ko js kp kq kr jw ks kt ku kv bi translated">æ ¼å¼åŒ–æ—¥æœŸå’Œæ—¶é—´</h2><p id="5c60" class="pw-post-body-paragraph jd je hi jf b jg lg ji jj jk lh jm jn jo li jq jr js lj ju jv jw lk jy jz ka hb bi translated">ä»swift 5.5å¼€å§‹ï¼Œä½¿ç”¨DateFormatteræ ¼å¼åŒ–çš„æ‹–åŠ¨æ–¹å¼è¢«å‹ç¼©æ–¹å¼æ‰€å–ä»£ã€‚</p><pre class="in io ip iq fd kw kx ky kz aw la bi"><span id="3ed1" class="kb kc hi kx b fi lb lc l ld le">Date().formatted(date: .abbreviated, time: .shortened)</span></pre><p id="f254" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">æ—¥æœŸå’Œæ—¶é—´æ ·å¼çš„ä¸åŒç»„åˆå¯ä»¥ç”±ç®€å•çš„ä¸Šè¿°åŠŸèƒ½ç»„æˆï¼ŒåŒ…æ‹¬çœç•¥ä»»ä½•ç»„ä»¶ã€‚</p><p id="b703" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">ç‰¹åˆ«æ˜¯ï¼Œå¦‚æœæ‚¨æƒ³è¦åŒ…å«ã€æ’é™¤æˆ–æ ·å¼åŒ–å•ä¸ªç»„ä»¶ï¼Œå¦‚åŒ…å«æ—¥æœŸå’Œæ’é™¤æœˆä»½ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å†…å®¹</p><pre class="in io ip iq fd kw kx ky kz aw la bi"><span id="e37f" class="kb kc hi kx b fi lb lc l ld le">Date().formatted(.dateTime.day().weekday())</span><span id="5191" class="kb kc hi kx b fi lf lc l ld le">Date().formatted(.dateTime.hour().minute().weekday(.wide))</span></pre><p id="c11d" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated"><strong class="jf hj">æ ¼å¼åŒ–é—´éš”</strong></p><p id="9293" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">é—´éš”çš„æ ¼å¼å¦‚ä¸‹</p><pre class="in io ip iq fd kw kx ky kz aw la bi"><span id="0195" class="kb kc hi kx b fi lb lc l ld le">(Date()..&lt;tomorrow!).formatted(date: .numeric, time: .shortened) //"11/7/2021, 1:33 AM â€“ 11/8/2021, 1:33 AM"</span><span id="cd6c" class="kb kc hi kx b fi lf lc l ld le">(Date()..&lt;tomorrow!).formatted(.timeDuration) //"23:59:59"</span><span id="b6bc" class="kb kc hi kx b fi lf lc l ld le">(Date()..&lt;tomorrow!).formatted(.components(style: .abbreviated)) //"23 hr, 59 min, 59 sec"</span><span id="2144" class="kb kc hi kx b fi lf lc l ld le">(yesterday!..&lt;Date()).formatted(.components(style: .condensedAbbreviated, fields: [.day])) //"1 day"</span></pre><p id="70cf" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">ä¸ä¸Šé¢çš„æ–¹æ³•ç±»ä¼¼ï¼Œä½¿ç”¨RelativeDateFormatterçš„ç—›è‹¦æ ¼å¼åŒ–ä¹Ÿå˜å¾—ç®€å•äº†ï¼Œå¦‚ä¸‹æ‰€ç¤º</p><pre class="in io ip iq fd kw kx ky kz aw la bi"><span id="9414" class="kb kc hi kx b fi lb lc l ld le">tomorrow!.formatted(.relative(presentation: .named, unitsStyle: .wide)) //"tomorrow"</span><span id="de61" class="kb kc hi kx b fi lf lc l ld le">tomorrow!.formatted(.relative(presentation: .numeric, unitsStyle: .wide)) //"in 1 day"</span><span id="95b6" class="kb kc hi kx b fi lf lc l ld le">tomorrow!.formatted(.relative(presentation: .numeric, unitsStyle: .abbreviated)) //"in 24 hr."</span></pre><p id="db58" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">å°±æ˜¯è¿™æ ·ï¼</p><p id="96d8" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">æ„Ÿè°¢é˜…è¯»ï¼ï¼ï¼</p><p id="9ec1" class="pw-post-body-paragraph jd je hi jf b jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka hb bi translated">ğŸ‘‰ä½ è§‰å¾—è¿™ä¸ªå¸–å­æœ‰ç”¨å—ï¼Ÿä½ ç°åœ¨å¯ä»¥é€šè¿‡<a class="ae jc" href="https://www.buymeacoffee.com/maheshsai" rel="noopener ugc nofollow" target="_blank">ç»™æˆ‘ä¹°ä¸€ä¸ªæŠ«è¨</a>æ¥æ”¯æŒæˆ‘åšæŒä¸‹å»çš„åŠªåŠ›ï¼</p></div></div>    
</body>
</html>